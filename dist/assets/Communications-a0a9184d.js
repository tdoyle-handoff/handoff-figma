import{c as y,r as h,u as v,j as e,C as G,b as U,d as X,m as j,B as m,e as K,y as ee,z as te,D as A,F as z,O as se,I as C,ak as D,V as T,W as M,X as R,i as ae,K as O,al as F,n as ne,am as re,an as P,Y as le}from"./index-06367dd5.js";import{D as E,b as L,c as _,d as q,e as B}from"./dialog-7c230eb7.js";import{F as ie}from"./funnel-3018b61c.js";import{P as oe}from"./phone-fec17310.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],me=y("archive",ce);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"m15 17 5-5-5-5",key:"nf172w"}],["path",{d:"M4 18v-2a4 4 0 0 1 4-4h12",key:"jmiej9"}]],he=y("forward",de);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],S=y("message-circle",xe);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],N=y("paperclip",ue);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],fe=y("reply",pe);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],I=y("send",ge),ye=[{id:"1",type:"email",from:"Jennifer Martinez",fromEmail:"j.martinez@realtygroup.com",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b601?w=32&h=32&fit=crop&crop=face",subject:"Final Walkthrough Scheduled",content:`Hi Sarah!

Great news - I've scheduled your final walkthrough for January 30th at 2 PM. The seller has completed all the agreed-upon repairs, and everything looks fantastic.

I'll send you a detailed checklist tomorrow to review beforehand so you know exactly what to look for during the walkthrough. This will include:

• Checking that all agreed-upon repairs have been completed
• Verifying all systems are working (lights, plumbing, HVAC)
• Ensuring the property is in the same condition as when you made your offer
• Confirming any included appliances are present and functioning

Please let me know if this time works for you. If you need to reschedule, we have some flexibility, but we want to make sure we complete this at least 24 hours before closing.

Looking forward to getting you those keys!

Best regards,
Jennifer Martinez
Senior Real Estate Agent
Realty Group Properties

P.S. I've also attached the walkthrough checklist for your reference. Please review it before our appointment so you know what to expect and what to look for during the inspection.`,timestamp:"2025-01-14T10:30:00Z",isRead:!1,isStarred:!0,priority:"high",threadId:"thread-1"},{id:"2",type:"email",from:"David Chen",fromEmail:"d.chen@titlefirst.com",subject:"Title Search Complete - Clean Title Confirmed",content:`Dear Sarah,

I'm pleased to inform you that we've completed the title search for 123 Oak Street, and I have excellent news to share.

The title is completely clean with no liens, encumbrances, or any other issues that would prevent a smooth closing. This means:

• No outstanding mortgages or loans against the property
• No tax liens or government claims
• No easement disputes or boundary issues
• Clear chain of ownership going back 60 years

We're now preparing your settlement statement and will have it ready for your review by January 28th. This will include:

• Final closing costs breakdown
• Pro-rated taxes and HOA fees
• Title insurance premium
• Recording fees

If you have any questions about the title report or need any clarification on the closing process, please don't hesitate to reach out. My team and I are here to ensure everything goes smoothly.

Best regards,
David Chen
Title Agent
First Title Company`,timestamp:"2025-01-14T09:15:00Z",isRead:!0,isStarred:!1,priority:"medium",threadId:"thread-2"},{id:"3",type:"chat",from:"Mike Thompson",fromEmail:"m.thompson@firstnational.com",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=32&h=32&fit=crop&crop=face",content:"Hi Sarah! Just wanted to give you a quick update on your mortgage application. We received all your financial documents and everything looks great. The underwriter is reviewing now and we should have approval by Thursday. Appraisal is scheduled for Friday at 10 AM.",timestamp:"2025-01-14T08:45:00Z",isRead:!0,isStarred:!1,priority:"high"},{id:"4",type:"email",from:"Rebecca Stone",fromEmail:"r.stone@stonelaw.com",subject:"Contract Review Complete - Action Required",content:`Dear Sarah,

I've completed my comprehensive review of your purchase contract and all associated riders. Overall, the terms are very favorable and well-structured for your protection.

However, I have a few minor recommendations for clarification that I'd like to discuss with you:

1. Inspection contingency timeline - I recommend we clarify the specific hours for the 5-day period
2. Financing contingency - Small wording adjustment to strengthen your position
3. Seller disclosure addendum - One item needs clarification regarding the HVAC system

Can we schedule a brief 15-minute call tomorrow afternoon to go over these points? I want to ensure you're fully informed before we proceed.

I've also prepared a detailed summary document that breaks down all the contract terms in plain language. I'll send that separately after our call.

Please let me know your availability for tomorrow afternoon.

Best regards,
Rebecca Stone
Real Estate Attorney
Stone Law Firm`,timestamp:"2025-01-13T16:20:00Z",isRead:!0,isStarred:!0,priority:"high",attachments:["Contract_Review_Summary.pdf"],threadId:"thread-3"},{id:"5",type:"sms",from:"Jennifer Martinez",content:"Quick reminder: home inspection is tomorrow at 9 AM. Inspector will meet you at the property. Should take about 2-3 hours. Let me know if you need anything!",timestamp:"2025-01-13T18:30:00Z",isRead:!0,isStarred:!1,priority:"medium"},{id:"6",type:"email",from:"Alex Rivera",fromEmail:"a.rivera@premiuminsure.com",subject:"Homeowner's Insurance Quote Ready",content:`Hello Sarah,

Thank you for your interest in our homeowner's insurance coverage. I've prepared a comprehensive quote for your new home at 123 Oak Street.

Quote Summary:
• Annual Premium: $1,240
• Deductible: $1,000
• Dwelling Coverage: $675,000
• Personal Property: $337,500
• Liability: $300,000
• Additional Living Expenses: $135,000

This quote includes excellent coverage options and competitive rates. Some key features:

• Replacement cost coverage for your home and belongings
• Protection against all standard perils
• 24/7 claims service
• Discount for security system (if applicable)

The quote is valid for 30 days, and we can lock in this rate once you're ready to proceed. I've attached the full policy details for your review.

I'm available to discuss any questions you might have about the coverage or to adjust the policy limits if needed.

Best regards,
Alex Rivera
Insurance Agent
Premium Insurance Services`,timestamp:"2025-01-13T14:10:00Z",isRead:!1,isStarred:!1,priority:"medium",attachments:["Insurance_Quote_OakSt.pdf"],threadId:"thread-4"},{id:"7",type:"chat",from:"David Chen",content:"Just wanted to confirm - we'll need your wire transfer information by January 29th for the closing funds. The exact amount will be in your settlement statement. Would you prefer to wire or bring a cashier's check?",timestamp:"2025-01-13T11:30:00Z",isRead:!0,isStarred:!1,priority:"high"}],be=[{id:"1",name:"Jennifer Martinez",role:"Real Estate Agent",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b601?w=32&h=32&fit=crop&crop=face",email:"j.martinez@realtygroup.com",phone:"(555) 123-4567",isOnline:!0},{id:"2",name:"Mike Thompson",role:"Mortgage Lender",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=32&h=32&fit=crop&crop=face",email:"m.thompson@firstnational.com",phone:"(555) 234-5678",isOnline:!0},{id:"3",name:"Rebecca Stone",role:"Real Estate Attorney",email:"r.stone@stonelaw.com",phone:"(555) 345-6789",isOnline:!1},{id:"4",name:"David Chen",role:"Title Agent",email:"d.chen@titlefirst.com",phone:"(555) 456-7890",isOnline:!1},{id:"5",name:"Alex Rivera",role:"Insurance Agent",email:"a.rivera@premiuminsure.com",phone:"(555) 567-8901",isOnline:!0}],J=t=>{const c=new Date(t),i=(new Date().getTime()-c.getTime())/(1e3*60*60);return i<1?`${Math.floor(i*60)} minutes ago`:i<24?`${Math.floor(i)} hours ago`:i<48?"Yesterday":c.toLocaleDateString()},we=t=>new Date(t).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"}),V=t=>{switch(t){case"email":return e.jsx(le,{className:"w-4 h-4"});case"chat":return e.jsx(S,{className:"w-4 h-4"});case"sms":return e.jsx(oe,{className:"w-4 h-4"});default:return e.jsx(S,{className:"w-4 h-4"})}},Z=t=>{switch(t){case"email":return"bg-blue-100 text-blue-800";case"chat":return"bg-green-100 text-green-800";case"sms":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},je=t=>{switch(t){case"high":return"border-l-red-500";case"medium":return"border-l-yellow-500";case"low":return"border-l-green-500";default:return"border-l-gray-300"}},H=(t,c)=>{const a=t.scrollTop,i=c-a,x=500;let d;function u(r){d===void 0&&(d=r);const o=r-d,s=Math.min(o/x,1),b=s<.5?2*s*s:-1+(4-2*s)*s;t.scrollTop=a+i*b,o<x&&requestAnimationFrame(u)}requestAnimationFrame(u)},ve=({message:t,isOpen:c,onClose:a,onReply:i})=>{const[x,d]=h.useState(""),[u,r]=h.useState(!1),o=h.useRef(null),s=v();h.useEffect(()=>{u&&o.current&&setTimeout(()=>{o.current&&H(o.current,o.current.scrollHeight)},100)},[u]);const b=()=>{x.trim()&&t&&(i(t,x),d(""),r(!1))},w=n=>{if(o.current){const p=o.current,f=p.clientHeight*.8,$=n==="down"?p.scrollTop+f:p.scrollTop-f;H(p,Math.max(0,$))}};return t?e.jsx(E,{open:c,onOpenChange:a,children:e.jsxs(L,{className:"w-screen h-screen max-w-none p-0 gap-0 m-0 rounded-none border-0 dialog-content",children:[e.jsxs(_,{className:"sr-only",children:[e.jsx(q,{children:t.subject||`${t.type} from ${t.from}`}),e.jsxs(B,{children:["View and reply to message from ",t.from]})]}),e.jsx("div",{className:"h-full flex bg-white",children:e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("div",{className:`flex-shrink-0 ${s?"px-4 py-4":"px-12 py-8"} border-b border-gray-200 bg-white`,children:e.jsxs("div",{className:`${s?"":"max-w-4xl mx-auto"}`,children:[e.jsxs("div",{className:`flex items-start justify-between ${s?"mb-3":"mb-6"}`,children:[e.jsxs("div",{className:`flex items-start ${s?"gap-3":"gap-6"}`,children:[e.jsx(T,{className:`${s?"w-10 h-10":"w-16 h-16"}`,children:t.avatar?e.jsx(M,{src:t.avatar,alt:t.from}):e.jsx(R,{className:`${s?"text-sm":"text-lg"}`,children:t.from.split(" ").map(n=>n[0]).join("")})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:`flex items-center gap-2 ${s?"mb-1":"mb-2"}`,children:[e.jsx("h3",{className:`${s?"text-lg":"text-2xl"} font-semibold text-gray-900 truncate`,children:t.from}),e.jsxs(j,{variant:"outline",className:`${s?"text-xs px-2 py-0.5":"text-sm px-3 py-1"} ${Z(t.type)}`,children:[V(t.type),e.jsx("span",{className:`${s?"ml-1":"ml-2"} capitalize ${s?"hidden sm:inline":""}`,children:t.type})]}),t.priority==="high"&&e.jsx(j,{variant:"outline",className:`${s?"text-xs px-2 py-0.5":"text-sm px-3 py-1"} bg-red-100 text-red-800`,children:s?"High":"High Priority"})]}),e.jsx("p",{className:`${s?"text-sm":"text-lg"} text-gray-600 mb-1 truncate`,children:t.fromEmail||t.from}),e.jsxs("div",{className:`flex items-center gap-2 ${s?"text-xs":"text-base"} text-gray-500`,children:[e.jsx(ae,{className:`${s?"w-3 h-3":"w-5 h-5"}`}),e.jsx("span",{className:"truncate",children:s?J(t.timestamp):we(t.timestamp)})]})]})]}),e.jsxs("div",{className:`flex items-center ${s?"gap-1":"gap-3"} flex-shrink-0`,children:[t.isStarred&&e.jsx(O,{className:`${s?"w-4 h-4":"w-6 h-6"} text-yellow-500 fill-current`}),!s&&e.jsxs(e.Fragment,{children:[e.jsx(m,{variant:"ghost",size:"lg",onClick:()=>w("up"),className:"text-gray-500 hover:text-gray-700",children:e.jsx(F,{className:"w-5 h-5"})}),e.jsx(m,{variant:"ghost",size:"lg",onClick:()=>w("down"),className:"text-gray-500 hover:text-gray-700",children:e.jsx(ne,{className:"w-5 h-5"})})]}),e.jsx(m,{variant:"ghost",size:s?"sm":"lg",onClick:a,className:"text-gray-500 hover:text-gray-700 mobile-button-sm",children:e.jsx(re,{className:`${s?"w-4 h-4":"w-5 h-5"}`})})]})]}),t.subject&&e.jsx("div",{className:`${s?"":"max-w-4xl"}`,children:e.jsx("h2",{className:`${s?"text-xl":"text-3xl"} font-semibold text-gray-900 leading-tight`,children:t.subject})})]})}),e.jsx("div",{ref:o,className:`flex-1 overflow-y-auto min-h-0 modal-scroll ${s?"px-4 py-4":"px-12 py-8"}`,style:{scrollBehavior:"smooth"},children:e.jsxs("div",{className:`${s?"":"max-w-4xl mx-auto"} space-y-6`,children:[e.jsx("div",{className:"prose prose-lg max-w-none",children:e.jsx("div",{className:`whitespace-pre-wrap ${s?"text-base":"text-lg"} leading-relaxed text-gray-800 font-normal`,children:t.content})}),t.attachments&&t.attachments.length>0&&e.jsxs("div",{className:`${s?"p-4":"p-6"} bg-gray-50 rounded-xl border border-gray-200`,children:[e.jsxs("h4",{className:`${s?"text-base":"text-lg"} font-semibold ${s?"mb-3":"mb-4"} text-gray-700`,children:["Attachments (",t.attachments.length,")"]}),e.jsx("div",{className:`flex flex-wrap ${s?"gap-2":"gap-3"}`,children:t.attachments.map((n,p)=>e.jsxs(m,{variant:"outline",size:s?"sm":"lg",className:`flex items-center gap-2 hover:bg-gray-100 ${s?"text-sm px-3 py-2":"text-base px-4 py-3"} mobile-button-sm`,onClick:()=>{console.log("Download:",n)},children:[e.jsx(N,{className:`${s?"w-3 h-3":"w-5 h-5"}`}),e.jsx("span",{className:"truncate max-w-[120px]",children:n})]},p))})]}),u&&e.jsx("div",{className:`${s?"mt-6 p-4":"mt-12 p-8"} bg-gray-50 rounded-xl border border-gray-200`,children:e.jsxs("div",{className:`space-y-${s?"4":"6"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`${s?"text-base":"text-lg"} font-semibold text-gray-700`,children:"Reply to:"}),e.jsx("span",{className:`${s?"text-base":"text-lg"} text-gray-600 truncate`,children:t.from})]}),e.jsx(P,{value:x,onChange:n=>d(n.target.value),placeholder:"Type your reply...",rows:s?8:12,className:`resize-none ${s?"min-h-[200px] text-base":"min-h-[300px] text-lg"} bg-white leading-relaxed mobile-input`,style:{scrollBehavior:"smooth",fontSize:s?"16px":"18px",lineHeight:"1.6"}}),e.jsxs("div",{className:`flex ${s?"flex-col gap-3":"items-center justify-between"}`,children:[e.jsxs(m,{variant:"outline",size:s?"default":"lg",onClick:()=>{console.log("Attach file")},className:`${s?"w-full text-base":"text-base"} mobile-button`,children:[e.jsx(N,{className:`${s?"w-4 h-4 mr-2":"w-5 h-5 mr-3"}`}),"Attach File"]}),e.jsxs("div",{className:`flex ${s?"w-full":""} gap-3`,children:[e.jsx(m,{variant:"outline",size:s?"default":"lg",onClick:()=>{r(!1),d("")},className:`${s?"flex-1 text-base":"text-base px-6"} mobile-button`,children:"Cancel"}),e.jsxs(m,{onClick:b,disabled:!x.trim(),size:s?"default":"lg",className:`${s?"flex-1 text-base":"text-base px-6"} mobile-button`,children:[e.jsx(I,{className:`${s?"w-4 h-4 mr-2":"w-5 h-5 mr-3"}`}),"Send Reply"]})]})]})]})})]})}),e.jsx("div",{className:`flex-shrink-0 border-t border-gray-200 bg-gray-50 ${s?"px-4 py-3":"px-12 py-6"}`,children:e.jsx("div",{className:`${s?"":"max-w-4xl mx-auto"}`,children:e.jsxs("div",{className:`flex ${s?"flex-wrap gap-2":"items-center gap-4"}`,children:[e.jsxs(m,{onClick:()=>r(!0),className:`flex items-center gap-2 ${s?"text-sm px-4 py-2":"text-base px-6 py-3"} mobile-button-sm`,size:s?"sm":"lg",disabled:u,children:[e.jsx(fe,{className:`${s?"w-4 h-4":"w-5 h-5"}`}),"Reply"]}),e.jsxs(m,{variant:"outline",onClick:()=>{console.log("Forward message")},className:`flex items-center gap-2 ${s?"text-sm px-4 py-2":"text-base px-6 py-3"} mobile-button-sm`,size:s?"sm":"lg",children:[e.jsx(he,{className:`${s?"w-4 h-4":"w-5 h-5"}`}),"Forward"]}),e.jsxs(m,{variant:"outline",onClick:()=>{console.log("Archive message")},className:`flex items-center gap-2 ${s?"text-sm px-4 py-2":"text-base px-6 py-3"} mobile-button-sm`,size:s?"sm":"lg",children:[e.jsx(me,{className:`${s?"w-4 h-4":"w-5 h-5"}`}),"Archive"]}),!s&&e.jsxs(m,{variant:"outline",onClick:()=>w("up"),className:"flex items-center gap-3 ml-auto text-base px-6 py-3",size:"lg",children:[e.jsx(F,{className:"w-5 h-5"}),"Scroll to Top"]})]})})})]})})]})}):null},Ne=({message:t,onClick:c})=>{const a=v();return e.jsx("div",{className:`${a?"p-3":"p-4"} border-l-4 hover:bg-gray-50 cursor-pointer transition-colors ${je(t.priority)} ${t.isRead?"":"bg-blue-50/30"}`,onClick:c,children:e.jsxs("div",{className:`flex items-start ${a?"gap-2":"gap-3"}`,children:[e.jsx(T,{className:`${a?"w-6 h-6":"w-8 h-8"} flex-shrink-0`,children:t.avatar?e.jsx(M,{src:t.avatar,alt:t.from}):e.jsx(R,{className:a?"text-xs":"text-sm",children:t.from.split(" ").map(i=>i[0]).join("")})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx("span",{className:`${a?"text-sm":"font-medium"} ${t.isRead?"text-gray-900":"text-blue-600"} truncate`,children:t.from}),e.jsxs(j,{variant:"outline",className:`${a?"text-xs px-1":"text-xs"} ${Z(t.type)} flex-shrink-0`,children:[V(t.type),e.jsx("span",{className:`${a?"hidden":"ml-1"}`,children:t.type})]}),t.priority==="high"&&e.jsx(j,{variant:"outline",className:`${a?"text-xs px-1":"text-xs"} bg-red-100 text-red-800 flex-shrink-0`,children:a?"H":"High Priority"})]}),t.subject&&e.jsx("h4",{className:`${a?"text-sm":"font-medium text-sm"} mb-1 ${t.isRead?"text-gray-700":"text-gray-900"} line-clamp-1`,children:t.subject}),e.jsx("p",{className:`${a?"text-xs":"text-sm"} text-gray-600 line-clamp-2 ${a?"mb-1":"mb-2"}`,children:t.content}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:`flex items-center ${a?"gap-1":"gap-2"} text-xs text-gray-500`,children:[e.jsx("span",{className:"truncate",children:J(t.timestamp)}),t.attachments&&t.attachments.length>0&&e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[e.jsx(N,{className:`${a?"w-2 h-2":"w-3 h-3"}`}),e.jsx("span",{children:t.attachments.length})]})]}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[t.isStarred&&e.jsx(O,{className:`${a?"w-3 h-3":"w-4 h-4"} text-yellow-500 fill-current`}),!t.isRead&&e.jsx("div",{className:`${a?"w-1.5 h-1.5":"w-2 h-2"} bg-blue-500 rounded-full`})]})]})]})]})})},$e=({contact:t,onMessage:c})=>{const a=v();return e.jsx("div",{className:`${a?"p-2":"p-3"} hover:bg-gray-50 cursor-pointer transition-colors`,children:e.jsxs("div",{className:`flex items-center ${a?"gap-2":"gap-3"}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx(T,{className:`${a?"w-6 h-6":"w-8 h-8"}`,children:t.avatar?e.jsx(M,{src:t.avatar,alt:t.name}):e.jsx(R,{className:a?"text-xs":"text-sm",children:t.name.split(" ").map(i=>i[0]).join("")})}),t.isOnline&&e.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 ${a?"w-2 h-2":"w-3 h-3"} bg-green-500 rounded-full border-2 border-white`})]}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:`${a?"text-sm":"font-medium text-sm"} truncate`,children:t.name}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.role})]}),e.jsx(m,{size:"sm",variant:"outline",onClick:()=>c(t),className:`${a?"text-xs px-2 py-1":"text-xs"} flex-shrink-0 mobile-button-sm`,children:"Message"})]})})]})})},ke=({isOpen:t,onClose:c,recipient:a})=>{const[i,x]=h.useState(""),[d,u]=h.useState(""),r=v();return e.jsx(E,{open:t,onOpenChange:c,children:e.jsxs(L,{className:`${r?"w-screen h-screen max-w-none p-0 gap-0 m-0 rounded-none border-0":"max-w-2xl"} dialog-content`,children:[e.jsxs(_,{className:`${r?"p-4 border-b":"p-6"}`,children:[e.jsxs(q,{className:`${r?"text-lg":"text-xl"}`,children:["New Message",a?` to ${a.name}`:""]}),e.jsx(B,{className:r?"text-sm":"",children:"Compose a new message to your team"})]}),e.jsxs("div",{className:`${r?"flex-1 p-4":"p-6 pt-0"} space-y-4`,children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"To"}),e.jsx(C,{placeholder:"Select recipient...",value:(a==null?void 0:a.name)||"",readOnly:!!a,className:`${r?"mobile-input":""}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Subject"}),e.jsx(C,{placeholder:"Enter subject...",value:i,onChange:o=>x(o.target.value),className:`${r?"mobile-input":""}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Message"}),e.jsx(P,{placeholder:"Type your message...",value:d,onChange:o=>u(o.target.value),rows:r?10:12,className:`resize-none ${r?"mobile-input":""}`})]}),e.jsxs("div",{className:`flex ${r?"flex-col gap-3":"justify-between items-center"}`,children:[e.jsxs(m,{variant:"outline",onClick:()=>console.log("Attach file"),className:`${r?"w-full mobile-button":""}`,children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),"Attach File"]}),e.jsxs("div",{className:`flex gap-3 ${r?"w-full":""}`,children:[e.jsx(m,{variant:"outline",onClick:c,className:`${r?"flex-1 mobile-button":""}`,children:"Cancel"}),e.jsxs(m,{onClick:()=>{console.log("Send message:",{recipient:a,subject:i,content:d}),c()},disabled:!d.trim(),className:`${r?"flex-1 mobile-button":""}`,children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Send"]})]})]})]})]})})};function Re(){const[t,c]=h.useState(ye),[a,i]=h.useState(null),[x,d]=h.useState(!1),[u,r]=h.useState(),[o,s]=h.useState(""),[b,w]=h.useState("messages"),n=v(),p=t.filter(l=>{var g;return l.from.toLowerCase().includes(o.toLowerCase())||((g=l.subject)==null?void 0:g.toLowerCase().includes(o.toLowerCase()))||l.content.toLowerCase().includes(o.toLowerCase())}),f=t.filter(l=>!l.isRead).length,$=l=>{i(l),c(g=>g.map(k=>k.id===l.id?{...k,isRead:!0}:k))},W=(l,g)=>{console.log("Reply to:",l.from,"Content:",g),i(null)},Q=l=>{r(l),d(!0)},Y=()=>{r(void 0),d(!0)};return e.jsxs(G,{className:"h-full",children:[e.jsx(U,{className:`${n?"p-4 pb-3":"pb-4"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(X,{className:`${n?"text-lg":"text-xl"} flex items-center gap-2`,children:[e.jsx(S,{className:`${n?"w-5 h-5":"w-6 h-6"}`}),"Communications",f>0&&e.jsxs(j,{className:`${n?"text-xs":""}`,children:[f," new"]})]}),e.jsx("p",{className:`text-muted-foreground ${n?"text-sm":""}`,children:"All your transaction communications in one place"})]}),e.jsxs(m,{onClick:Y,className:`${n?"text-sm px-3 py-2":""} mobile-button-sm`,size:n?"sm":"default",children:[e.jsx(I,{className:`${n?"w-4 h-4 mr-1":"w-4 h-4 mr-2"}`}),n?"New":"New Message"]})]})}),e.jsx(K,{className:`${n?"p-4 pt-0":"pt-0"}`,children:e.jsxs(ee,{value:b,onValueChange:w,className:"w-full",children:[e.jsxs(te,{className:`grid w-full grid-cols-2 ${n?"h-9":""}`,children:[e.jsxs(A,{value:"messages",className:`${n?"text-sm":""}`,children:["Messages ",f>0&&`(${f})`]}),e.jsx(A,{value:"contacts",className:`${n?"text-sm":""}`,children:"Team"})]}),e.jsxs(z,{value:"messages",className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(C,{placeholder:"Search messages...",value:o,onChange:l=>s(l.target.value),className:`pl-10 ${n?"mobile-input":""}`})]}),e.jsxs(m,{variant:"outline",size:n?"sm":"default",className:`${n?"mobile-button-sm":""}`,children:[e.jsx(ie,{className:"w-4 h-4"}),!n&&e.jsx("span",{className:"ml-2",children:"Filter"})]})]}),e.jsx(D,{className:`${n?"h-[400px]":"h-[500px]"} border rounded-lg`,children:e.jsx("div",{className:"divide-y",children:p.map(l=>e.jsx(Ne,{message:l,onClick:()=>$(l)},l.id))})})]}),e.jsxs(z,{value:"contacts",className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Your transaction team members"}),e.jsx(D,{className:`${n?"h-[400px]":"h-[500px]"} border rounded-lg`,children:e.jsx("div",{className:"divide-y",children:be.map(l=>e.jsx($e,{contact:l,onMessage:Q},l.id))})})]})]})}),e.jsx(ve,{message:a,isOpen:!!a,onClose:()=>i(null),onReply:W}),e.jsx(ke,{isOpen:x,onClose:()=>{d(!1),r(void 0)},recipient:u})]})}export{Re as default};
