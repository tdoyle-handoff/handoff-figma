import{c as ie,r as n,aF as Ae,aG as ze,u as V,j as e,C as S,e as C,m as O,B as N,aH as De,o as $e,Z as J,aI as Ne,aJ as pe,aK as be,l as re,$ as de,G as oe,b as P,d as I,aL as Te,J as K,a6 as X,O as ae,am as Ee,az as ee,I as se,ax as Re,aM as ye,aN as Fe,g as Be,y as ve,z as we,D as H,F as q,aO as G,aP as he,aQ as He,a5 as qe,a4 as W,aR as Oe,_ as _e,aS as Ue,aw as Ge,Y as Ze,aT as te,aU as ue,aB as We,H as Ye}from"./index-06367dd5.js";import{C as Je}from"./camera-2a638d1d.js";import{S as Se}from"./share-2-8181a5a2.js";import{P as je}from"./phone-fec17310.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Me=ie("heart",Qe);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],ne=ie("maximize",Ke);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],ge=ie("navigation",Xe);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],es=ie("pen",Ve);function ke({onPropertyFound:s,onError:p,autoSearch:t=!0}={}){const[h,f]=n.useState(null),[d,b]=n.useState([]),[r,M]=n.useState(!1),[g,k]=n.useState(null),u=n.useRef(),j=n.useCallback(async(a,l,D)=>{const $=l||{},o=D||"GET";u.current&&u.current.abort(),u.current=new AbortController,M(!0),k(null);try{const y=`https://${Ae}.supabase.co/functions/v1/make-server-a24396d5/mls/${a}`,i={method:o,headers:{"Content-Type":"application/json",Authorization:`Bearer ${ze}`},signal:u.current.signal};if(o==="GET"&&Object.keys($).length>0){const F=new URLSearchParams;Object.entries($).forEach(([E,B])=>{B!=null&&F.append(E,String(B))});const c=`${y}?${F.toString()}`,L=await fetch(c,i);if(!L.ok)throw new Error(`HTTP error! status: ${L.status}`);return await L.json()}else if(o==="POST"){i.body=JSON.stringify($);const F=await fetch(y,i);if(!F.ok)throw new Error(`HTTP error! status: ${F.status}`);return await F.json()}const _=await fetch(y,i);if(!_.ok)throw new Error(`HTTP error! status: ${_.status}`);return await _.json()}catch(y){if(y instanceof Error){if(y.name==="AbortError")return null;const i={code:"API_ERROR",message:y.message,details:y};k(i),p==null||p(i),console.error("MLS API Error:",y)}return null}finally{M(!1)}},[p]),A=n.useCallback(async a=>{if(!a.trim())return null;console.log("Searching MLS for address:",a);const l=await j("search-by-address",{address:a});return l!=null&&l.success&&l.data?(f(l.data),s==null||s(l.data),localStorage.setItem("handoff-mls-property",JSON.stringify(l.data)),l.data):(l!=null&&l.error&&console.error("MLS search error:",l.error),null)},[j,s]),x=n.useCallback(async a=>{if(!a.trim())return null;console.log("Searching MLS for MLS number:",a);const l=await j("search-by-mls",{mls_number:a});return l!=null&&l.success&&l.data?(f(l.data),s==null||s(l.data),localStorage.setItem("handoff-mls-property",JSON.stringify(l.data)),l.data):null},[j,s]),v=n.useCallback(async a=>{console.log("Searching MLS properties with params:",a);const l=await j("search",a,"POST");return l!=null&&l.success&&l.data?(b(l.data.properties),l.data):null},[j]),z=n.useCallback(async a=>{console.log("Refreshing MLS property:",a);const l=await j("property",{id:a});return l!=null&&l.success&&l.data?(f(l.data),s==null||s(l.data),localStorage.setItem("handoff-mls-property",JSON.stringify(l.data)),l.data):null},[j,s]),T=n.useCallback(()=>{f(null),b([]),k(null),u.current&&u.current.abort(),localStorage.removeItem("handoff-mls-property")},[]);return{property:h,properties:d,isLoading:r,error:g,searchByAddress:A,searchByMLSNumber:x,searchProperties:v,clearData:T,refreshProperty:z}}function w(s){return s==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(s)}function le(s){return s==null?"N/A":new Intl.NumberFormat("en-US").format(s)+" sq ft"}function Ce(s,p){return p&&p>=1?`${p.toFixed(2)} acres`:s?le(s):"N/A"}function Le(s){return s.replace(/([A-Z])/g," $1").trim()}function ce({property:s,onSelect:p,onSave:t,onShare:h,compact:f=!1,showPhotos:d=!0,className:b=""}){const r=V(),[M,g]=n.useState(0),[k,u]=n.useState(!1),j=s.photos||[],A=j.length>0,x=A?j[M]:null,v=()=>{A&&g(o=>(o+1)%j.length)},z=()=>{A&&g(o=>(o-1+j.length)%j.length)},T=()=>{u(!k),t==null||t(s)},a=()=>{h==null||h(s)},l=()=>{p==null||p(s)},D=o=>{switch(o){case"Active":return"bg-green-100 text-green-800 border-green-200";case"Pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Sold":return"bg-red-100 text-red-800 border-red-200";case"Withdrawn":return"bg-gray-100 text-gray-800 border-gray-200";case"Expired":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},$=()=>{const o=s.property_details.bedrooms,y=s.property_details.bathrooms,i=[];return o&&i.push(`${o} bed${o!==1?"s":""}`),y&&i.push(`${y} bath${y!==1?"s":""}`),i.join(", ")||"N/A"};return f?e.jsx(S,{className:`cursor-pointer hover:shadow-md transition-shadow duration-200 ${b}`,onClick:l,children:e.jsx(C,{className:"p-4",children:e.jsxs("div",{className:"flex gap-4",children:[d&&A&&e.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:e.jsx("img",{src:(x==null?void 0:x.thumbnail_url)||(x==null?void 0:x.url),alt:"Property",className:"w-full h-full object-cover",onError:o=>{const y=o.target;y.style.display="none"}})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-medium text-sm truncate",children:s.address.street}),e.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[s.address.city,", ",s.address.state," ",s.address.zip_code]})]}),e.jsx(O,{variant:"outline",className:`ml-2 text-xs ${D(s.listing_details.status)}`,children:s.listing_details.status})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsx("span",{children:$()}),s.property_details.square_feet&&e.jsx("span",{children:le(s.property_details.square_feet)}),s.listing_details.list_price&&e.jsx("span",{className:"font-medium text-foreground",children:w(s.listing_details.list_price)})]})]})]})})}):e.jsxs(S,{className:`overflow-hidden hover:shadow-lg transition-shadow duration-300 ${b}`,children:[d&&A&&e.jsxs("div",{className:"relative aspect-video bg-gray-100",children:[e.jsx("img",{src:x==null?void 0:x.url,alt:(x==null?void 0:x.caption)||"Property photo",className:"w-full h-full object-cover",onError:o=>{const y=o.target;y.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjI0MCIgdmlld0JveD0iMCAwIDQwMCAyNDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMjQwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xNzUgMTAwSDIyNVY4MEgyMzVWMTMwSDE3NVYxMDBaIiBmaWxsPSIjOTlBMkE5Ii8+CjxwYXRoIGQ9Ik0xNzUgMTIwSDIyNVYxNDBIMTc1VjEyMFoiIGZpbGw9IiM5OUEyQTkiLz4KPHRleHQgeD0iMjAwIiB5PSIxNzAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiM2NzY3NjciIGZvbnQtZmFtaWx5PSJzeXN0ZW0tdWkiIGZvbnQtc2l6ZT0iMTQiPk5vIEltYWdlPC90ZXh0Pgo8L3N2Zz4K"}}),j.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(N,{variant:"ghost",size:"sm",className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white/90 w-8 h-8 p-0",onClick:o=>{o.stopPropagation(),z()},children:e.jsx(De,{className:"w-4 h-4"})}),e.jsx(N,{variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white/90 w-8 h-8 p-0",onClick:o=>{o.stopPropagation(),v()},children:e.jsx($e,{className:"w-4 h-4"})})]}),j.length>1&&e.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex gap-1",children:j.map((o,y)=>e.jsx("div",{className:`w-2 h-2 rounded-full ${y===M?"bg-white":"bg-white/60"}`},y))}),A&&e.jsxs("div",{className:"absolute top-2 left-2 bg-black/60 text-white text-xs px-2 py-1 rounded flex items-center gap-1",children:[e.jsx(Je,{className:"w-3 h-3"}),j.length]}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[e.jsx(N,{variant:"ghost",size:"sm",className:`bg-white/80 hover:bg-white/90 w-8 h-8 p-0 ${k?"text-red-500":""}`,onClick:o=>{o.stopPropagation(),T()},children:e.jsx(Me,{className:`w-4 h-4 ${k?"fill-current":""}`})}),e.jsx(N,{variant:"ghost",size:"sm",className:"bg-white/80 hover:bg-white/90 w-8 h-8 p-0",onClick:o=>{o.stopPropagation(),a()},children:e.jsx(Se,{className:"w-4 h-4"})})]})]}),e.jsxs(C,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"text-lg font-semibold truncate",children:s.address.street}),e.jsx(O,{variant:"outline",className:`${D(s.listing_details.status)}`,children:s.listing_details.status})]}),e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground mb-2",children:[e.jsx(J,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm truncate",children:[s.address.city,", ",s.address.state," ",s.address.zip_code]})]}),s.mls_number&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["MLS: ",s.mls_number]})]}),s.listing_details.list_price&&e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:w(s.listing_details.list_price)}),s.listing_details.price_per_sqft&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:[w(s.listing_details.price_per_sqft),"/sq ft"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:[s.property_details.bedrooms||"N/A"," bed",s.property_details.bedrooms!==1?"s":""]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:[s.property_details.bathrooms||"N/A"," bath",s.property_details.bathrooms!==1?"s":""]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:le(s.property_details.square_feet)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(be,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:Le(s.property_details.property_type)})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[s.property_details.year_built&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(re,{className:"w-4 h-4"}),e.jsxs("span",{children:["Built in ",s.property_details.year_built]})]}),s.property_details.lot_size_sqft&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(ne,{className:"w-4 h-4"}),e.jsxs("span",{children:["Lot: ",Ce(s.property_details.lot_size_sqft,s.property_details.lot_size_acres)]})]}),s.listing_details.days_on_market&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(re,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.listing_details.days_on_market," days on market"]})]})]}),s.description&&e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:s.description})}),e.jsx(de,{className:"mb-4"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:s.listing_details.listing_agent&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Listed by ",s.listing_details.listing_agent.name]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(N,{variant:"outline",size:"sm",onClick:l,className:r?"mobile-button-sm":"",children:[e.jsx(oe,{className:"w-4 h-4 mr-2"}),"View Details"]}),p&&e.jsx(N,{onClick:l,className:r?"mobile-button-sm":"",children:"Select Property"})]})]})]})]})}function Pe({title:s="Property Address",description:p="Enter the complete address of the property",value:t,onChange:h,onValidate:f,allowManualEdit:d=!0,required:b=!1,disabled:r=!1,className:M="",country:g="US",autoFocus:k=!1,enableMLSLookup:u=!1,onMLSPropertyFound:j,showMLSResults:A=!0,debugMode:x=!1}){const v=V(),[z,T]=n.useState(!1),[a,l]=n.useState({street:(t==null?void 0:t.street)||"",city:(t==null?void 0:t.city)||"",state:(t==null?void 0:t.state)||"",zipCode:(t==null?void 0:t.zipCode)||"",country:(t==null?void 0:t.country)||"US"}),{property:D,isLoading:$,error:o,searchByAddress:y,clearData:i}=ke({onPropertyFound:j,autoSearch:u}),_=n.useCallback(m=>({street:[m.street_number,m.route].filter(Boolean).join(" ")||"",city:m.locality||"",state:m.administrative_area_level_1||"",zipCode:m.postal_code||"",country:m.country||"US",formatted:m.formatted_address,placeId:m.place_id,coordinates:m.geometry?{lat:m.geometry.location.lat,lng:m.geometry.location.lng}:void 0}),[]),F=n.useCallback(m=>{if(m){const R=_(m);if(f&&!f(R))return;h==null||h(R),u&&m.formatted_address&&(console.log("Triggering MLS lookup for:",m.formatted_address),y(m.formatted_address))}else h==null||h(null),i()},[_,h,f,u,y,i]),c=n.useCallback((m,R)=>{l(U=>({...U,[m]:R}))},[]),L=n.useCallback(()=>{const{street:m,city:R,state:U,zipCode:Y,country:Z}=a;if(!m||!R||!U||!Y)return;const Q={street:m||"",city:R||"",state:U||"",zipCode:Y||"",country:Z||"US",formatted:`${m}, ${R}, ${U} ${Y}${Z&&Z!=="US"?`, ${Z}`:""}`};f&&!f(Q)||(h==null||h(Q),T(!1))},[a,h,f]),E=n.useCallback(()=>{l({street:(t==null?void 0:t.street)||"",city:(t==null?void 0:t.city)||"",state:(t==null?void 0:t.state)||"",zipCode:(t==null?void 0:t.zipCode)||"",country:(t==null?void 0:t.country)||"US"}),T(!1)},[t]),B=n.useCallback(()=>{l({street:(t==null?void 0:t.street)||"",city:(t==null?void 0:t.city)||"",state:(t==null?void 0:t.state)||"",zipCode:(t==null?void 0:t.zipCode)||"",country:(t==null?void 0:t.country)||"US"}),T(!0)},[t]);return e.jsxs(S,{className:`w-full ${M}`,children:[e.jsxs(P,{className:"pb-4",children:[e.jsxs(I,{className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5 text-primary"}),s]}),p&&e.jsx("p",{className:"text-sm text-muted-foreground",children:p})]}),e.jsx(C,{className:"space-y-4",children:z?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Manual Address Entry"}),e.jsx(N,{type:"button",variant:"ghost",size:"sm",onClick:E,children:e.jsx(Ee,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"manual-street",className:b?'after:content-["*"] after:ml-0.5 after:text-red-500':"",children:"Street Address"}),e.jsx(se,{id:"manual-street",type:"text",placeholder:"123 Main Street",value:a.street||"",onChange:m=>c("street",m.target.value),className:v?"mobile-input":"",disabled:r})]}),e.jsxs("div",{className:`grid gap-4 ${v?"grid-cols-1":"grid-cols-3"}`,children:[e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"manual-city",className:b?'after:content-["*"] after:ml-0.5 after:text-red-500':"",children:"City"}),e.jsx(se,{id:"manual-city",type:"text",placeholder:"City",value:a.city||"",onChange:m=>c("city",m.target.value),className:v?"mobile-input":"",disabled:r})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"manual-state",className:b?'after:content-["*"] after:ml-0.5 after:text-red-500':"",children:"State"}),e.jsx(se,{id:"manual-state",type:"text",placeholder:"CA",value:a.state||"",onChange:m=>c("state",m.target.value),className:v?"mobile-input":"",disabled:r,maxLength:2})]}),e.jsxs("div",{children:[e.jsx(ee,{htmlFor:"manual-zip",className:b?'after:content-["*"] after:ml-0.5 after:text-red-500':"",children:"ZIP Code"}),e.jsx(se,{id:"manual-zip",type:"text",placeholder:"12345",value:a.zipCode||"",onChange:m=>c("zipCode",m.target.value),className:v?"mobile-input":"",disabled:r,maxLength:10})]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(N,{type:"button",onClick:L,disabled:!a.street||!a.city||!a.state||!a.zipCode,className:`flex-1 ${v?"mobile-button":""}`,children:[e.jsx(Re,{className:"w-4 h-4 mr-2"}),"Save Address"]}),e.jsx(N,{type:"button",variant:"outline",onClick:E,className:v?"mobile-button":"",children:"Cancel"})]})]})]})}):e.jsxs(e.Fragment,{children:[e.jsx(Te,{label:b?"Search Address *":"Search Address",placeholder:"Start typing an address...",value:(t==null?void 0:t.formatted)||"",onChange:F,disabled:r,required:b,country:g,types:["address"],autoFocus:k,debugMode:x}),t&&e.jsx("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-green-900 mb-2",children:"Selected Address"}),e.jsxs("div",{className:"space-y-1 text-sm text-green-800",children:[e.jsx("div",{children:t.street}),e.jsxs("div",{children:[t.city,", ",t.state," ",t.zipCode]}),t.country!=="US"&&e.jsx("div",{children:t.country})]}),t.coordinates&&e.jsxs("div",{className:"text-xs text-green-600 mt-2",children:["📍 ",t.coordinates.lat.toFixed(6),", ",t.coordinates.lng.toFixed(6)]})]}),d&&!r&&e.jsx(N,{type:"button",variant:"ghost",size:"sm",onClick:B,className:"text-green-700 hover:text-green-900",children:e.jsx(es,{className:"w-4 h-4"})})]})}),u&&t&&e.jsxs("div",{className:"mt-4 space-y-4",children:[$&&e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900",children:"Searching MLS Database"}),e.jsx("p",{className:"text-xs text-blue-700",children:"Looking up property details..."})]})]})}),o&&e.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(K,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-yellow-900",children:"MLS Lookup Failed"}),e.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:o.message.includes("not configured")?"MLS integration is not configured. Property details are not available.":"Unable to find this property in the MLS database. It may be unlisted or the address may need to be more specific."})]})]})}),D&&A&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-4 h-4 text-primary"}),e.jsx("h4",{className:"text-sm font-medium",children:"Property Found in MLS"})]}),e.jsx(ce,{property:D,compact:!0,showPhotos:!0,onSelect:j})]}),u&&t&&!$&&!D&&!o&&e.jsx("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ae,{className:"w-5 h-5 text-gray-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Property Not Found in MLS"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"This property was not found in the MLS database. It may be unlisted, off-market, or require manual property details entry."})]})]})})]}),d&&!r&&!t&&e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Can't find your address?"}),e.jsx(N,{type:"button",variant:"outline",size:"sm",onClick:B,className:v?"mobile-button-sm":"",children:"Enter Manually"})]})]})})]})}const ss="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function fe(s){const[p,t]=n.useState(!1),h=()=>{t(!0)},{src:f,alt:d,style:b,className:r,...M}=s;return p?e.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${r??""}`,style:b,children:e.jsx("div",{className:"flex items-center justify-center w-full h-full",children:e.jsx("img",{src:ss,alt:"Error loading image",...M,"data-original-url":f})})}):e.jsx("img",{src:f,alt:d,className:r,style:b,...M,onError:h})}function Ie({property:s,onBack:p,onSelect:t,onSave:h,onShare:f,onScheduleViewing:d,className:b=""}){var D,$,o,y,i,_,F;const r=V(),[M,g]=n.useState(0),[k,u]=n.useState(!1),[j,A]=n.useState("overview"),x=s.photos||[],v=x.length>0,z=()=>{u(!k),h==null||h(s)},a=(()=>{var me,xe;if(!s.listing_details.list_price)return null;const c=s.listing_details.list_price,L=c*.2,E=c-L,m=.07/12,R=30*12,U=E*(m*Math.pow(1+m,R))/(Math.pow(1+m,R)-1),Y=(((me=s.financial_details)==null?void 0:me.property_taxes)||c*.012)/12,Z=c*.0035/12,Q=((xe=s.financial_details)==null?void 0:xe.hoa_fees)||0;return{principal_interest:U,property_taxes:Y,insurance:Z,hoa:Q,total:U+Y+Z+Q}})(),l=c=>{switch(c){case"Active":return"bg-green-100 text-green-800 border-green-200";case"Pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Sold":return"bg-red-100 text-red-800 border-red-200";case"Withdrawn":return"bg-gray-100 text-gray-800 border-gray-200";case"Expired":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return e.jsxs("div",{className:`w-full ${b}`,children:[e.jsxs("div",{className:`flex items-center gap-4 mb-6 ${r?"sticky top-0 bg-background z-10 py-4 -mx-4 px-4":""}`,children:[p&&e.jsxs(N,{variant:"outline",size:"sm",onClick:p,children:[e.jsx(ye,{className:"w-4 h-4"}),!r&&e.jsx("span",{className:"ml-2",children:"Back"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h1",{className:`font-bold truncate ${r?"text-lg":"text-2xl"}`,children:s.address.street}),e.jsx(O,{variant:"outline",className:l(s.listing_details.status),children:s.listing_details.status})]}),e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(J,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm truncate",children:[s.address.city,", ",s.address.state," ",s.address.zip_code]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{variant:"ghost",size:"sm",onClick:z,className:k?"text-red-500":"",children:e.jsx(Me,{className:`w-4 h-4 ${k?"fill-current":""}`})}),e.jsx(N,{variant:"ghost",size:"sm",onClick:()=>f==null?void 0:f(s),children:e.jsx(Se,{className:"w-4 h-4"})})]})]}),v&&e.jsx(S,{className:"mb-6 overflow-hidden",children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:`grid gap-2 ${r?"grid-cols-1":"grid-cols-3"}`,children:[e.jsx("div",{className:`${r?"aspect-video":"col-span-2 aspect-video"} bg-gray-100 overflow-hidden`,children:e.jsx(fe,{src:((D=x[M])==null?void 0:D.high_res_url)||(($=x[M])==null?void 0:$.url),alt:((o=x[M])==null?void 0:o.caption)||"Property photo",className:"w-full h-full object-cover cursor-pointer",onClick:()=>g(M)})}),!r&&x.length>1&&e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.slice(1,5).map((c,L)=>e.jsx("div",{className:"aspect-square bg-gray-100 overflow-hidden cursor-pointer rounded-lg hover:opacity-80 transition-opacity",onClick:()=>g(L+1),children:e.jsx(fe,{src:c.thumbnail_url||c.url,alt:c.caption||`Property photo ${L+2}`,className:"w-full h-full object-cover"})},c.id)),x.length>5&&e.jsxs("div",{className:"aspect-square bg-gray-900/80 flex items-center justify-center text-white font-semibold rounded-lg cursor-pointer hover:bg-gray-900/90 transition-colors",children:["+",x.length-5," more"]})]})]}),r&&x.length>1&&e.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-1",children:x.map((c,L)=>e.jsx("button",{className:`w-2 h-2 rounded-full ${L===M?"bg-white":"bg-white/60"}`,onClick:()=>g(L)},L))})]})}),e.jsx(S,{className:"mb-6",children:e.jsx(C,{className:"p-6",children:e.jsxs("div",{className:`grid gap-6 ${r?"grid-cols-1":"grid-cols-3"}`,children:[e.jsx("div",{className:"space-y-2",children:s.listing_details.list_price&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-3xl font-bold text-primary",children:w(s.listing_details.list_price)}),s.listing_details.price_per_sqft&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:[w(s.listing_details.price_per_sqft),"/sq ft"]}),s.listing_details.original_list_price&&s.listing_details.original_list_price!==s.listing_details.list_price&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Originally ",w(s.listing_details.original_list_price)]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.property_details.bedrooms||"N/A"}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Bedroom",s.property_details.bedrooms!==1?"s":""]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.property_details.bathrooms||"N/A"}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Bathroom",s.property_details.bathrooms!==1?"s":""]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:((y=s.property_details.square_feet)==null?void 0:y.toLocaleString())||"N/A"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Sq Ft"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fe,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.property_details.lot_size_acres?`${s.property_details.lot_size_acres} ac`:s.property_details.lot_size_sqft?`${Math.round(s.property_details.lot_size_sqft/1e3)}K sq ft`:"N/A"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Lot Size"})]})]})]}),a&&e.jsxs("div",{className:"bg-primary/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Be,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"text-sm font-medium",children:"Est. Monthly Payment"})]}),e.jsx("div",{className:"text-2xl font-bold text-primary mb-1",children:w(a.total)}),e.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[e.jsxs("div",{children:["Principal & Interest: ",w(a.principal_interest)]}),e.jsxs("div",{children:["Taxes & Insurance: ",w(a.property_taxes+a.insurance)]}),a.hoa>0&&e.jsxs("div",{children:["HOA: ",w(a.hoa)]})]})]})]})})}),e.jsxs(ve,{value:j,onValueChange:A,className:"mb-6",children:[e.jsxs(we,{className:`grid w-full ${r?"grid-cols-4":"grid-cols-6"}`,children:[e.jsx(H,{value:"overview",children:"Overview"}),e.jsx(H,{value:"details",children:"Details"}),e.jsx(H,{value:"financial",children:"Financial"}),e.jsx(H,{value:"location",children:"Location"}),!r&&e.jsx(H,{value:"history",children:"History"}),!r&&e.jsx(H,{value:"contact",children:"Contact"})]}),e.jsxs(q,{value:"overview",className:"space-y-4",children:[s.description&&e.jsxs(S,{children:[e.jsx(P,{children:e.jsxs(I,{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-5 h-5"}),"Property Description"]})}),e.jsx(C,{children:e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:s.description})})]}),e.jsxs(S,{children:[e.jsx(P,{children:e.jsxs(I,{className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-5 h-5"}),"Key Features"]})}),e.jsx(C,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[s.property_details.year_built&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["Built ",s.property_details.year_built]})]}),s.property_details.stories&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:[s.property_details.stories," stor",s.property_details.stories!==1?"ies":"y"]})]}),s.property_details.garage_spaces&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(He,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:[s.property_details.garage_spaces," car garage"]})]}),s.property_details.pool&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-sm",children:"Pool"})]}),s.property_details.fireplace&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4 text-orange-500"}),e.jsx("span",{className:"text-sm",children:"Fireplace"})]}),s.property_details.central_air&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Oe,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-sm",children:"Central Air"})]})]})})]}),s.features&&s.features.length>0&&e.jsxs(S,{children:[e.jsx(P,{children:e.jsx(I,{children:"Additional Features"})}),e.jsx(C,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:s.features.slice(0,12).map((c,L)=>e.jsx(O,{variant:"secondary",children:c},L))})})]})]}),e.jsx(q,{value:"details",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(P,{children:e.jsx(I,{children:"Property Details"})}),e.jsx(C,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:"Basic Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Property Type"}),e.jsx("span",{children:Le(s.property_details.property_type)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Year Built"}),e.jsx("span",{children:s.property_details.year_built||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Square Feet"}),e.jsx("span",{children:le(s.property_details.square_feet)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Lot Size"}),e.jsx("span",{children:Ce(s.property_details.lot_size_sqft,s.property_details.lot_size_acres)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Stories"}),e.jsx("span",{children:s.property_details.stories||"N/A"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wide",children:"Systems & Features"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Heating"}),e.jsx("span",{children:s.property_details.heating_type||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Cooling"}),e.jsx("span",{children:s.property_details.cooling_type||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Exterior"}),e.jsx("span",{children:s.property_details.exterior_material||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Foundation"}),e.jsx("span",{children:s.property_details.foundation_type||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Roof"}),e.jsx("span",{children:s.property_details.roof_type||"N/A"})]})]})]})]})})]})}),e.jsx(q,{value:"financial",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(P,{children:e.jsxs(I,{className:"flex items-center gap-2",children:[e.jsx(_e,{className:"w-5 h-5"}),"Financial Information"]})}),e.jsx(C,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Pricing"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"List Price"}),e.jsx("span",{className:"font-medium",children:w(s.listing_details.list_price)})]}),s.listing_details.original_list_price&&s.listing_details.original_list_price!==s.listing_details.list_price&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Original Price"}),e.jsx("span",{children:w(s.listing_details.original_list_price)})]}),s.listing_details.price_per_sqft&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Price per Sq Ft"}),e.jsx("span",{children:w(s.listing_details.price_per_sqft)})]})]})]}),a&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Estimated Monthly Costs"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Principal & Interest"}),e.jsx("span",{children:w(a.principal_interest)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Property Taxes"}),e.jsx("span",{children:w(a.property_taxes)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Insurance"}),e.jsx("span",{children:w(a.insurance)})]}),a.hoa>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"HOA Fees"}),e.jsx("span",{children:w(a.hoa)})]}),e.jsx(de,{}),e.jsxs("div",{className:"flex justify-between font-medium",children:[e.jsx("span",{children:"Total Monthly"}),e.jsx("span",{children:w(a.total)})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Additional Information"}),e.jsxs("div",{className:"space-y-2",children:[((i=s.financial_details)==null?void 0:i.property_taxes)&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Annual Property Taxes"}),e.jsx("span",{children:w(s.financial_details.property_taxes)})]}),((_=s.financial_details)==null?void 0:_.hoa_fees)&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Monthly HOA Fees"}),e.jsx("span",{children:w(s.financial_details.hoa_fees)})]})]})]})]})})]})}),e.jsx(q,{value:"location",className:"space-y-4",children:e.jsxs(S,{children:[e.jsx(P,{children:e.jsxs(I,{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"w-5 h-5"}),"Location & Neighborhood"]})}),e.jsx(C,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Address"}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(J,{className:"w-4 h-4 text-muted-foreground mt-1"}),e.jsxs("div",{children:[e.jsx("div",{children:s.address.formatted}),s.address.coordinates&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.address.coordinates.latitude.toFixed(6),", ",s.address.coordinates.longitude.toFixed(6)]})]})]})]}),s.neighborhood&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Neighborhood Scores"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.neighborhood.walk_score&&e.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold",children:s.neighborhood.walk_score}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Walk Score"})]}),s.neighborhood.transit_score&&e.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold",children:s.neighborhood.transit_score}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Transit Score"})]}),s.neighborhood.bike_score&&e.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold",children:s.neighborhood.bike_score}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Bike Score"})]})]})]}),s.schools&&s.schools.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4"}),"Nearby Schools"]}),e.jsx("div",{className:"space-y-3",children:s.schools.slice(0,5).map((c,L)=>{var E;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:c.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[c.type," • ",(E=c.distance_miles)==null?void 0:E.toFixed(1)," miles"]})]}),c.rating&&e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-bold",children:[c.rating,"/10"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Rating"})]})]},L)})})]})]})})]})}),e.jsxs(q,{value:"history",className:"space-y-4",children:[e.jsxs(S,{children:[e.jsx(P,{children:e.jsx(I,{children:"Listing History"})}),e.jsx(C,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Status"}),e.jsx(O,{variant:"outline",className:l(s.listing_details.status),children:s.listing_details.status})]}),s.listing_details.list_date&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Listed Date"}),e.jsx("span",{children:new Date(s.listing_details.list_date).toLocaleDateString()})]}),s.listing_details.days_on_market&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Days on Market"}),e.jsxs("span",{children:[s.listing_details.days_on_market," days"]})]}),s.listing_details.sold_date&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Sold Date"}),e.jsx("span",{children:new Date(s.listing_details.sold_date).toLocaleDateString()})]}),s.listing_details.sold_price&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Sold Price"}),e.jsx("span",{className:"font-medium",children:w(s.listing_details.sold_price)})]})]})})]}),((F=s.market_data)==null?void 0:F.comparable_sales)&&s.market_data.comparable_sales.length>0&&e.jsxs(S,{children:[e.jsx(P,{children:e.jsx(I,{children:"Recent Comparable Sales"})}),e.jsx(C,{children:e.jsx("div",{className:"space-y-4",children:s.market_data.comparable_sales.slice(0,3).map((c,L)=>{var E,B;return e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium truncate",children:c.address}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[c.bedrooms,"br • ",c.bathrooms,"ba • ",(E=c.square_feet)==null?void 0:E.toLocaleString()," sq ft"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-medium",children:w(c.sold_price)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(c.sold_date).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[e.jsxs("span",{children:[(B=c.distance_miles)==null?void 0:B.toFixed(1)," miles away"]}),c.price_per_sqft&&e.jsxs("span",{children:[w(c.price_per_sqft),"/sq ft"]})]})]},c.id)})})})]})]}),e.jsxs(q,{value:"contact",className:"space-y-4",children:[s.listing_details.listing_agent&&e.jsxs(S,{children:[e.jsx(P,{children:e.jsxs(I,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"w-5 h-5"}),"Listing Agent"]})}),e.jsx(C,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.listing_details.listing_agent.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.listing_details.listing_agent.company})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[s.listing_details.listing_agent.phone&&e.jsx(N,{variant:"outline",className:"justify-start",asChild:!0,children:e.jsxs("a",{href:`tel:${s.listing_details.listing_agent.phone}`,children:[e.jsx(je,{className:"w-4 h-4 mr-2"}),s.listing_details.listing_agent.phone]})}),s.listing_details.listing_agent.email&&e.jsx(N,{variant:"outline",className:"justify-start",asChild:!0,children:e.jsxs("a",{href:`mailto:${s.listing_details.listing_agent.email}`,children:[e.jsx(Ze,{className:"w-4 h-4 mr-2"}),s.listing_details.listing_agent.email]})})]})]})})]}),s.listing_details.listing_office&&e.jsxs(S,{children:[e.jsx(P,{children:e.jsxs(I,{className:"flex items-center gap-2",children:[e.jsx(he,{className:"w-5 h-5"}),"Listing Office"]})}),e.jsx(C,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"font-medium",children:s.listing_details.listing_office.name}),s.listing_details.listing_office.phone&&e.jsx(N,{variant:"outline",className:"justify-start",asChild:!0,children:e.jsxs("a",{href:`tel:${s.listing_details.listing_office.phone}`,children:[e.jsx(je,{className:"w-4 h-4 mr-2"}),s.listing_details.listing_office.phone]})})]})})]})]})]}),e.jsxs("div",{className:`grid gap-3 ${r?"grid-cols-1":"grid-cols-3"}`,children:[d&&e.jsxs(N,{variant:"outline",onClick:()=>d(s),children:[e.jsx(oe,{className:"w-4 h-4 mr-2"}),"Schedule Viewing"]}),e.jsxs(N,{variant:"outline",onClick:()=>window.open(`https://maps.google.com/?q=${encodeURIComponent(s.address.formatted)}`,"_blank"),children:[e.jsx(ge,{className:"w-4 h-4 mr-2"}),"View on Map"]}),t&&e.jsx(N,{onClick:()=>t(s),children:"Select This Property"})]})]})}function ts({onComplete:s,onBack:p,initialData:t,className:h=""}){const f=V(),[d,b]=n.useState(0),[r,M]=n.useState((t==null?void 0:t.address)||null),[g,k]=n.useState((t==null?void 0:t.mlsProperty)||null),[u,j]=n.useState((t==null?void 0:t.customDetails)||{}),[A,x]=n.useState(!1),v=[{id:"address",title:"Property Address",description:"Enter the property address to search MLS database",icon:e.jsx(J,{className:"w-5 h-5"}),required:!0},{id:"details",title:"Property Details",description:"Review MLS data and add custom information",icon:e.jsx(X,{className:"w-5 h-5"}),required:!1},{id:"financial",title:"Transaction Details",description:"Add purchase price and key dates",icon:e.jsx(_e,{className:"w-5 h-5"}),required:!1},{id:"review",title:"Review & Complete",description:"Confirm all information is correct",icon:e.jsx(te,{className:"w-5 h-5"}),required:!1}],z=v[d],T=n.useCallback(i=>{M(i),i||k(null)},[]),a=n.useCallback(i=>{k(i),console.log("MLS Property found:",i)},[]),l=n.useCallback(i=>{k(i),x(!1),i.listing_details.list_price&&j(_=>({..._,purchase_price:_.purchase_price||i.listing_details.list_price}))},[]),D=n.useCallback(()=>{d<v.length-1?b(i=>i+1):o()},[d]),$=n.useCallback(()=>{d>0?b(i=>i-1):p==null||p()},[d,p]),o=n.useCallback(()=>{if(!r)return;const i={address:r,mlsProperty:g||void 0,customDetails:u,setup_complete:!0,created_at:new Date().toISOString()};localStorage.setItem("handoff-property-setup",JSON.stringify(i)),s(i)},[r,g,u,s]),y=n.useCallback(()=>{switch(d){case 0:return!!r;case 1:return!0;case 2:return!0;case 3:return!!r;default:return!0}},[d,r]);return A&&g?e.jsx("div",{className:`w-full ${h}`,children:e.jsx(Ie,{property:g,onBack:()=>x(!1),onSelect:l,className:"max-w-6xl mx-auto"})}):e.jsxs("div",{className:`w-full max-w-4xl mx-auto ${h}`,children:[e.jsx(S,{className:"mb-6",children:e.jsxs(C,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Property Setup"}),e.jsxs(O,{variant:"outline",children:["Step ",d+1," of ",v.length]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:z.title}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round((d+1)/v.length*100),"% complete"]})]}),e.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${(d+1)/v.length*100}%`}})})]}),e.jsx("div",{className:`grid gap-2 ${f?"grid-cols-2":"grid-cols-4"}`,children:v.map((i,_)=>e.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-lg text-sm ${_===d?"bg-primary/10 text-primary":_<d?"bg-green-50 text-green-700":"text-muted-foreground"}`,children:[e.jsx("div",{className:`flex-shrink-0 ${_<=d?"text-current":"text-muted-foreground"}`,children:i.icon}),e.jsx("span",{className:`font-medium ${f?"text-xs":""}`,children:i.title}),_<d&&e.jsx(te,{className:"w-4 h-4 text-green-600 ml-auto"})]},i.id))})]})}),e.jsxs(S,{className:"mb-6",children:[e.jsxs(P,{children:[e.jsxs(I,{className:"flex items-center gap-2",children:[z.icon,z.title]}),e.jsx("p",{className:"text-muted-foreground",children:z.description})]}),e.jsxs(C,{className:"space-y-6",children:[d===0&&e.jsx(Pe,{title:"Property Address",description:"Enter the complete address to search the MLS database for property details",value:r,onChange:T,required:!0,enableMLSLookup:!0,onMLSPropertyFound:a,showMLSResults:!0,autoFocus:!0}),d===1&&e.jsxs("div",{className:"space-y-6",children:[r&&e.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-green-900 mb-2",children:"Selected Property"}),e.jsx("p",{className:"text-green-800",children:r.formatted})]}),g?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium",children:"MLS Property Data"}),e.jsx(N,{variant:"outline",size:"sm",onClick:()=>x(!0),children:"View Full Details"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-muted/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"List Price"}),e.jsx("div",{className:"font-medium",children:w(g.listing_details.list_price)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Property Type"}),e.jsx("div",{className:"font-medium",children:g.property_details.property_type})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"MLS Number"}),e.jsx("div",{className:"font-medium",children:g.mls_number})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx(K,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900",children:"MLS Data Found"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Property details have been automatically populated from the MLS database. You can proceed to the next step or add custom information."})]})]})]}):e.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(K,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-900",children:"No MLS Data Available"}),e.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"This property was not found in the MLS database. You can still continue with the setup and add property details manually in the next steps."})]})]})})]}),d===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Purchase Price"}),e.jsx("input",{type:"number",placeholder:"750000",value:u.purchase_price||"",onChange:i=>j(_=>({..._,purchase_price:i.target.value?Number(i.target.value):void 0})),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary"}),(g==null?void 0:g.listing_details.list_price)&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["MLS List Price: ",w(g.listing_details.list_price)]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Closing Date"}),e.jsx("input",{type:"date",value:u.closing_date||"",onChange:i=>j(_=>({..._,closing_date:i.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Inspection Date"}),e.jsx("input",{type:"datetime-local",value:u.inspection_date||"",onChange:i=>j(_=>({..._,inspection_date:i.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Notes"}),e.jsx("textarea",{placeholder:"Any additional notes about this property...",value:u.notes||"",onChange:i=>j(_=>({..._,notes:i.target.value})),rows:4,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary resize-none"})]})]}),d===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[e.jsx("h3",{className:"font-medium mb-3",children:"Property Summary"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Address"}),e.jsx("span",{className:"text-right",children:r==null?void 0:r.formatted})]}),g&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"MLS Number"}),e.jsx("span",{children:g.mls_number})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Property Type"}),e.jsx("span",{children:g.property_details.property_type})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"MLS List Price"}),e.jsx("span",{children:w(g.listing_details.list_price)})]})]}),u.purchase_price&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Purchase Price"}),e.jsx("span",{className:"font-medium",children:w(u.purchase_price)})]}),u.closing_date&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Closing Date"}),e.jsx("span",{children:new Date(u.closing_date).toLocaleDateString()})]}),u.inspection_date&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Inspection Date"}),e.jsx("span",{children:new Date(u.inspection_date).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx(te,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-900",children:"Ready to Complete Setup"}),e.jsx("p",{className:"text-sm text-green-700 mt-1",children:'Your property information is ready. Click "Complete Setup" to save and begin managing your real estate transaction.'})]})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(N,{variant:"outline",onClick:$,className:f?"mobile-button":"",children:[e.jsx(ye,{className:"w-4 h-4 mr-2"}),d===0?"Back":"Previous"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[d<v.length-1&&e.jsx(N,{variant:"ghost",onClick:()=>b(v.length-1),className:"text-muted-foreground",children:"Skip to Review"}),e.jsxs(N,{onClick:D,disabled:!y(),className:f?"mobile-button":"",children:[d===v.length-1?"Complete Setup":"Next",d<v.length-1&&e.jsx(te,{className:"w-4 h-4 ml-2"})]})]})]})]})}function ns(){const s=V(),[p,t]=n.useState("overview"),[h,f]=n.useState(null),[d,b]=n.useState(!1),[r,M]=n.useState(!1),{property:g,isLoading:k,error:u,searchByAddress:j,searchByMLSNumber:A,clearData:x}=ke({onPropertyFound:a=>{f(a),console.log("Demo: Property found",a)}}),v=async()=>{await j("123 Oak Street, Riverside Heights, CA 90210")},z=async()=>{await A("ML12345678")},T=()=>{x(),f(null),b(!1),M(!1)};return d&&h?e.jsx("div",{className:"w-full",children:e.jsx(Ie,{property:h,onBack:()=>b(!1),onSelect:a=>{console.log("Selected property:",a),b(!1)},className:"max-w-6xl mx-auto"})}):r?e.jsx("div",{className:"w-full",children:e.jsx(ts,{onComplete:a=>{console.log("Property setup complete:",a),M(!1)},onBack:()=>M(!1),className:"max-w-4xl mx-auto"})}):e.jsx("div",{className:`w-full ${s?"page-content-mobile":"page-content"}`,children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-4",children:"MLS Integration Demo"}),e.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"Explore how address validation automatically pulls property details from MLS databases"}),e.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[e.jsxs(O,{variant:"secondary",className:"flex items-center gap-2",children:[e.jsx(ue,{className:"w-3 h-3"}),"MLS Database"]}),e.jsxs(O,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(ae,{className:"w-3 h-3"}),"Real-time lookup"]}),e.jsxs(O,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-3 h-3"}),"Property details"]}),e.jsxs(O,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(be,{className:"w-3 h-3"}),"Market data"]})]})]}),e.jsxs(S,{children:[e.jsx(P,{children:e.jsxs(I,{className:"flex items-center gap-2",children:[e.jsx(We,{className:"w-5 h-5"}),"MLS API Configuration"]})}),e.jsx(C,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-sm",children:"Environment Variables Required:"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"MLS_API_KEY"})," - Your MLS provider API key"]}),e.jsxs("li",{children:["• ",e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"MLS_API_BASE_URL"})," - MLS provider base URL"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-sm",children:"Supported MLS Providers:"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:"• Spark API (FBS/MLS Grid)"}),e.jsx("li",{children:"• RETS (Real Estate Transaction Standard)"}),e.jsx("li",{children:"• CoreLogic Matrix"}),e.jsx("li",{children:"• Custom integrations"})]})]})]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(K,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Demo Mode"}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-200 mt-1",children:"This demo shows the integration flow. In production, real MLS data would be fetched based on your MLS provider configuration."})]})]})})]})})]}),e.jsxs(ve,{value:p,onValueChange:t,children:[e.jsxs(we,{className:`grid w-full ${s?"grid-cols-2":"grid-cols-4"}`,children:[e.jsx(H,{value:"overview",children:"Overview"}),e.jsx(H,{value:"address",children:"Address + MLS"}),e.jsx(H,{value:"search",children:"Search Demo"}),e.jsx(H,{value:"integration",children:"Full Flow"})]}),e.jsxs(q,{value:"overview",className:"space-y-6",children:[e.jsxs(S,{children:[e.jsx(P,{children:e.jsx(I,{children:"How It Works"})}),e.jsx(C,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-4",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(J,{className:"w-6 h-6 text-primary"})}),e.jsx("h3",{className:"font-medium mb-2",children:"1. Address Entry"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"User enters property address with Google Places autocomplete"})]}),e.jsxs("div",{className:"text-center p-4",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(ae,{className:"w-6 h-6 text-primary"})}),e.jsx("h3",{className:"font-medium mb-2",children:"2. MLS Lookup"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"System automatically searches MLS database for property details"})]}),e.jsxs("div",{className:"text-center p-4",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Ye,{className:"w-6 h-6 text-primary"})}),e.jsx("h3",{className:"font-medium mb-2",children:"3. Auto-populate"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Property details, photos, and market data are automatically populated"})]})]})})]}),e.jsxs(S,{children:[e.jsx(P,{children:e.jsx(I,{children:"Key Features"})}),e.jsx(C,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Data Retrieved from MLS:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-4 h-4 text-green-600"}),"Property details (beds, baths, sqft, lot size)"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-4 h-4 text-green-600"}),"Listing information (price, status, MLS#)"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-4 h-4 text-green-600"}),"High-resolution property photos"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-4 h-4 text-green-600"}),"Agent and office contact information"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-4 h-4 text-green-600"}),"Market history and comparable sales"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-4 h-4 text-green-600"}),"Property features and amenities"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Integration Benefits:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4 text-yellow-600"}),"Eliminates manual data entry"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4 text-yellow-600"}),"Ensures data accuracy"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4 text-yellow-600"}),"Provides real-time market data"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4 text-yellow-600"}),"Speeds up property setup"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4 text-yellow-600"}),"Enhances user experience"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4 text-yellow-600"}),"Supports transaction management"]})]})]})]})})]})]}),e.jsxs(q,{value:"address",className:"space-y-6",children:[e.jsxs(S,{children:[e.jsx(P,{children:e.jsx(I,{children:"Address Input with MLS Lookup"})}),e.jsx(C,{children:e.jsx(Pe,{title:"Property Address",description:"Enter an address to see automatic MLS lookup in action",enableMLSLookup:!0,onMLSPropertyFound:a=>{f(a),console.log("MLS property found in demo:",a)},showMLSResults:!0})})]}),h&&e.jsxs(S,{children:[e.jsx(P,{children:e.jsx(I,{children:"Retrieved MLS Data"})}),e.jsx(C,{children:e.jsx(ce,{property:h,onSelect:()=>b(!0),showPhotos:!0})})]})]}),e.jsx(q,{value:"search",className:"space-y-6",children:e.jsxs(S,{children:[e.jsx(P,{children:e.jsx(I,{children:"MLS Search Testing"})}),e.jsxs(C,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(N,{onClick:v,disabled:k,className:"flex items-center gap-2",children:[e.jsx(ae,{className:"w-4 h-4"}),k?"Searching...":"Test Address Search"]}),e.jsxs(N,{onClick:z,disabled:k,variant:"outline",className:"flex items-center gap-2",children:[e.jsx(ue,{className:"w-4 h-4"}),k?"Searching...":"Test MLS Number Search"]})]}),e.jsx(de,{}),k&&e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900",children:"Searching MLS Database"}),e.jsx("p",{className:"text-xs text-blue-700",children:"Querying property information..."})]})]})}),u&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(K,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-red-900",children:"MLS Search Error"}),e.jsx("p",{className:"text-xs text-red-700 mt-1",children:u.message})]})]})}),g&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(G,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-green-900",children:"Property Found"}),e.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Successfully retrieved property data from MLS database"})]})]})}),e.jsx(ce,{property:g,onSelect:()=>b(!0),showPhotos:!0})]}),e.jsx(N,{onClick:T,variant:"ghost",size:"sm",className:"text-muted-foreground",children:"Reset Demo"})]})]})}),e.jsx(q,{value:"integration",className:"space-y-6",children:e.jsxs(S,{children:[e.jsx(P,{children:e.jsx(I,{children:"Complete Property Setup Flow"})}),e.jsxs(C,{className:"space-y-4",children:[e.jsx("p",{className:"text-muted-foreground",children:"Experience the complete property setup flow with integrated MLS lookup, from address entry to transaction management setup."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(N,{onClick:()=>M(!0),className:"flex items-center gap-2",size:"lg",children:[e.jsx(X,{className:"w-5 h-5"}),"Start Property Setup"]}),h&&e.jsxs(N,{onClick:()=>b(!0),variant:"outline",size:"lg",className:"flex items-center gap-2",children:[e.jsx(oe,{className:"w-5 h-5"}),"View Property Details"]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"What You'll Experience:"}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("li",{children:"• Address entry with Google Places autocomplete"}),e.jsx("li",{children:"• Automatic MLS database lookup"}),e.jsx("li",{children:"• Property details pre-population"}),e.jsx("li",{children:"• Transaction details entry"}),e.jsx("li",{children:"• Complete property setup workflow"})]})]})]})]})})]})]})})}export{ns as MLSIntegrationDemo};
