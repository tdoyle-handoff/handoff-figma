var JS=Object.defineProperty;var QS=(e,s,r)=>s in e?JS(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r;var Wa=(e,s,r)=>(QS(e,typeof s!="symbol"?s+"":s,r),r);function XS(e,s){for(var r=0;r<s.length;r++){const n=s[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Zs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oj(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ZS(e){if(e.__esModule)return e;var s=e.default;if(typeof s=="function"){var r=function n(){return this instanceof n?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};r.prototype=s.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var lj={exports:{}},Ad={},cj={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Al=Symbol.for("react.element"),e2=Symbol.for("react.portal"),t2=Symbol.for("react.fragment"),s2=Symbol.for("react.strict_mode"),r2=Symbol.for("react.profiler"),n2=Symbol.for("react.provider"),a2=Symbol.for("react.context"),i2=Symbol.for("react.forward_ref"),o2=Symbol.for("react.suspense"),l2=Symbol.for("react.memo"),c2=Symbol.for("react.lazy"),Ng=Symbol.iterator;function d2(e){return e===null||typeof e!="object"?null:(e=Ng&&e[Ng]||e["@@iterator"],typeof e=="function"?e:null)}var dj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uj=Object.assign,mj={};function Hi(e,s,r){this.props=e,this.context=s,this.refs=mj,this.updater=r||dj}Hi.prototype.isReactComponent={};Hi.prototype.setState=function(e,s){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,s,"setState")};Hi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hj(){}hj.prototype=Hi.prototype;function sf(e,s,r){this.props=e,this.context=s,this.refs=mj,this.updater=r||dj}var rf=sf.prototype=new hj;rf.constructor=sf;uj(rf,Hi.prototype);rf.isPureReactComponent=!0;var Sg=Array.isArray,fj=Object.prototype.hasOwnProperty,nf={current:null},pj={key:!0,ref:!0,__self:!0,__source:!0};function xj(e,s,r){var n,a={},i=null,o=null;if(s!=null)for(n in s.ref!==void 0&&(o=s.ref),s.key!==void 0&&(i=""+s.key),s)fj.call(s,n)&&!pj.hasOwnProperty(n)&&(a[n]=s[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Al,type:e,key:i,ref:o,props:a,_owner:nf.current}}function u2(e,s){return{$$typeof:Al,type:e.type,key:s,ref:e.ref,props:e.props,_owner:e._owner}}function af(e){return typeof e=="object"&&e!==null&&e.$$typeof===Al}function m2(e){var s={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return s[r]})}var kg=/\/+/g;function yu(e,s){return typeof e=="object"&&e!==null&&e.key!=null?m2(""+e.key):s.toString(36)}function wc(e,s,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Al:case e2:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+yu(o,0):n,Sg(a)?(r="",e!=null&&(r=e.replace(kg,"$&/")+"/"),wc(a,s,r,"",function(d){return d})):a!=null&&(af(a)&&(a=u2(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(kg,"$&/")+"/")+e)),s.push(a)),1;if(o=0,n=n===""?".":n+":",Sg(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+yu(i,l);o+=wc(i,s,r,c,a)}else if(c=d2(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+yu(i,l++),o+=wc(i,s,r,c,a);else if(i==="object")throw s=String(e),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return o}function Wl(e,s,r){if(e==null)return e;var n=[],a=0;return wc(e,n,"","",function(i){return s.call(r,i,a++)}),n}function h2(e){if(e._status===-1){var s=e._result;s=s(),s.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=s)}if(e._status===1)return e._result.default;throw e._result}var vs={current:null},Nc={transition:null},f2={ReactCurrentDispatcher:vs,ReactCurrentBatchConfig:Nc,ReactCurrentOwner:nf};function gj(){throw Error("act(...) is not supported in production builds of React.")}Ve.Children={map:Wl,forEach:function(e,s,r){Wl(e,function(){s.apply(this,arguments)},r)},count:function(e){var s=0;return Wl(e,function(){s++}),s},toArray:function(e){return Wl(e,function(s){return s})||[]},only:function(e){if(!af(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ve.Component=Hi;Ve.Fragment=t2;Ve.Profiler=r2;Ve.PureComponent=sf;Ve.StrictMode=s2;Ve.Suspense=o2;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f2;Ve.act=gj;Ve.cloneElement=function(e,s,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=uj({},e.props),a=e.key,i=e.ref,o=e._owner;if(s!=null){if(s.ref!==void 0&&(i=s.ref,o=nf.current),s.key!==void 0&&(a=""+s.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in s)fj.call(s,c)&&!pj.hasOwnProperty(c)&&(n[c]=s[c]===void 0&&l!==void 0?l[c]:s[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Al,type:e.type,key:a,ref:i,props:n,_owner:o}};Ve.createContext=function(e){return e={$$typeof:a2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:n2,_context:e},e.Consumer=e};Ve.createElement=xj;Ve.createFactory=function(e){var s=xj.bind(null,e);return s.type=e,s};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(e){return{$$typeof:i2,render:e}};Ve.isValidElement=af;Ve.lazy=function(e){return{$$typeof:c2,_payload:{_status:-1,_result:e},_init:h2}};Ve.memo=function(e,s){return{$$typeof:l2,type:e,compare:s===void 0?null:s}};Ve.startTransition=function(e){var s=Nc.transition;Nc.transition={};try{e()}finally{Nc.transition=s}};Ve.unstable_act=gj;Ve.useCallback=function(e,s){return vs.current.useCallback(e,s)};Ve.useContext=function(e){return vs.current.useContext(e)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(e){return vs.current.useDeferredValue(e)};Ve.useEffect=function(e,s){return vs.current.useEffect(e,s)};Ve.useId=function(){return vs.current.useId()};Ve.useImperativeHandle=function(e,s,r){return vs.current.useImperativeHandle(e,s,r)};Ve.useInsertionEffect=function(e,s){return vs.current.useInsertionEffect(e,s)};Ve.useLayoutEffect=function(e,s){return vs.current.useLayoutEffect(e,s)};Ve.useMemo=function(e,s){return vs.current.useMemo(e,s)};Ve.useReducer=function(e,s,r){return vs.current.useReducer(e,s,r)};Ve.useRef=function(e){return vs.current.useRef(e)};Ve.useState=function(e){return vs.current.useState(e)};Ve.useSyncExternalStore=function(e,s,r){return vs.current.useSyncExternalStore(e,s,r)};Ve.useTransition=function(){return vs.current.useTransition()};Ve.version="18.3.1";cj.exports=Ve;var m=cj.exports;const Z=oj(m),vj=XS({__proto__:null,default:Z},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p2=m,x2=Symbol.for("react.element"),g2=Symbol.for("react.fragment"),v2=Object.prototype.hasOwnProperty,y2=p2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,j2={key:!0,ref:!0,__self:!0,__source:!0};function yj(e,s,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(o=s.ref);for(n in s)v2.call(s,n)&&!j2.hasOwnProperty(n)&&(a[n]=s[n]);if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:x2,type:e,key:i,ref:o,props:a,_owner:y2.current}}Ad.Fragment=g2;Ad.jsx=yj;Ad.jsxs=yj;lj.exports=Ad;var t=lj.exports,_m={},jj={exports:{}},Us={},bj={exports:{}},wj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function s(E,D){var H=E.length;E.push(D);e:for(;0<H;){var W=H-1>>>1,L=E[W];if(0<a(L,D))E[W]=D,E[H]=L,H=W;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var D=E[0],H=E.pop();if(H!==D){E[0]=H;e:for(var W=0,L=E.length,se=L>>>1;W<se;){var te=2*(W+1)-1,le=E[te],ue=te+1,ee=E[ue];if(0>a(le,H))ue<L&&0>a(ee,le)?(E[W]=ee,E[ue]=H,W=ue):(E[W]=le,E[te]=H,W=te);else if(ue<L&&0>a(ee,H))E[W]=ee,E[ue]=H,W=ue;else break e}}return D}function a(E,D){var H=E.sortIndex-D.sortIndex;return H!==0?H:E.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,p=3,h=!1,j=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(E){for(var D=r(d);D!==null;){if(D.callback===null)n(d);else if(D.startTime<=E)n(d),D.sortIndex=D.expirationTime,s(c,D);else break;D=r(d)}}function S(E){if(v=!1,x(E),!j)if(r(c)!==null)j=!0,M(w);else{var D=r(d);D!==null&&z(S,D.startTime-E)}}function w(E,D){j=!1,v&&(v=!1,g(P),P=-1),h=!0;var H=p;try{for(x(D),f=r(c);f!==null&&(!(f.expirationTime>D)||E&&!O());){var W=f.callback;if(typeof W=="function"){f.callback=null,p=f.priorityLevel;var L=W(f.expirationTime<=D);D=e.unstable_now(),typeof L=="function"?f.callback=L:f===r(c)&&n(c),x(D)}else n(c);f=r(c)}if(f!==null)var se=!0;else{var te=r(d);te!==null&&z(S,te.startTime-D),se=!1}return se}finally{f=null,p=H,h=!1}}var k=!1,C=null,P=-1,N=5,T=-1;function O(){return!(e.unstable_now()-T<N)}function I(){if(C!==null){var E=e.unstable_now();T=E;var D=!0;try{D=C(!0,E)}finally{D?_():(k=!1,C=null)}}else k=!1}var _;if(typeof y=="function")_=function(){y(I)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,R=A.port2;A.port1.onmessage=I,_=function(){R.postMessage(null)}}else _=function(){b(I,0)};function M(E){C=E,k||(k=!0,_())}function z(E,D){P=b(function(){E(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){j||h||(j=!0,M(w))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(E){switch(p){case 1:case 2:case 3:var D=3;break;default:D=p}var H=p;p=D;try{return E()}finally{p=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,D){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var H=p;p=E;try{return D()}finally{p=H}},e.unstable_scheduleCallback=function(E,D,H){var W=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?W+H:W):H=W,E){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=H+L,E={id:u++,callback:D,priorityLevel:E,startTime:H,expirationTime:L,sortIndex:-1},H>W?(E.sortIndex=H,s(d,E),r(c)===null&&E===r(d)&&(v?(g(P),P=-1):v=!0,z(S,H-W))):(E.sortIndex=L,s(c,E),j||h||(j=!0,M(w))),E},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(E){var D=p;return function(){var H=p;p=D;try{return E.apply(this,arguments)}finally{p=H}}}})(wj);bj.exports=wj;var b2=bj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w2=m,Fs=b2;function ne(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nj=new Set,rl={};function za(e,s){Ai(e,s),Ai(e+"Capture",s)}function Ai(e,s){for(rl[e]=s,e=0;e<s.length;e++)Nj.add(s[e])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Am=Object.prototype.hasOwnProperty,N2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_g={},Ag={};function S2(e){return Am.call(Ag,e)?!0:Am.call(_g,e)?!1:N2.test(e)?Ag[e]=!0:(_g[e]=!0,!1)}function k2(e,s,r,n){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _2(e,s,r,n){if(s===null||typeof s>"u"||k2(e,s,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function ys(e,s,r,n,a,i,o){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=s,this.sanitizeURL=i,this.removeEmptyString=o}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Zt[e]=new ys(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];Zt[s]=new ys(s,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Zt[e]=new ys(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Zt[e]=new ys(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Zt[e]=new ys(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Zt[e]=new ys(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Zt[e]=new ys(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Zt[e]=new ys(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Zt[e]=new ys(e,5,!1,e.toLowerCase(),null,!1,!1)});var of=/[\-:]([a-z])/g;function lf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(of,lf);Zt[s]=new ys(s,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(of,lf);Zt[s]=new ys(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(of,lf);Zt[s]=new ys(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Zt[e]=new ys(e,1,!1,e.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new ys("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Zt[e]=new ys(e,1,!1,e.toLowerCase(),null,!0,!0)});function cf(e,s,r,n){var a=Zt.hasOwnProperty(s)?Zt[s]:null;(a!==null?a.type!==0:n||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(_2(s,r,a,n)&&(r=null),n||a===null?S2(s)&&(r===null?e.removeAttribute(s):e.setAttribute(s,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(s=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(s):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,s,r):e.setAttribute(s,r))))}var gn=w2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hl=Symbol.for("react.element"),ii=Symbol.for("react.portal"),oi=Symbol.for("react.fragment"),df=Symbol.for("react.strict_mode"),Cm=Symbol.for("react.profiler"),Sj=Symbol.for("react.provider"),kj=Symbol.for("react.context"),uf=Symbol.for("react.forward_ref"),Pm=Symbol.for("react.suspense"),Tm=Symbol.for("react.suspense_list"),mf=Symbol.for("react.memo"),En=Symbol.for("react.lazy"),_j=Symbol.for("react.offscreen"),Cg=Symbol.iterator;function bo(e){return e===null||typeof e!="object"?null:(e=Cg&&e[Cg]||e["@@iterator"],typeof e=="function"?e:null)}var jt=Object.assign,ju;function Lo(e){if(ju===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);ju=s&&s[1]||""}return`
`+ju+e}var bu=!1;function wu(e,s){if(!e||bu)return"";bu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(d){var n=d}Reflect.construct(e,[],s)}else{try{s.call()}catch(d){n=d}e.call(s.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{bu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Lo(e):""}function A2(e){switch(e.tag){case 5:return Lo(e.type);case 16:return Lo("Lazy");case 13:return Lo("Suspense");case 19:return Lo("SuspenseList");case 0:case 2:case 15:return e=wu(e.type,!1),e;case 11:return e=wu(e.type.render,!1),e;case 1:return e=wu(e.type,!0),e;default:return""}}function Em(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oi:return"Fragment";case ii:return"Portal";case Cm:return"Profiler";case df:return"StrictMode";case Pm:return"Suspense";case Tm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kj:return(e.displayName||"Context")+".Consumer";case Sj:return(e._context.displayName||"Context")+".Provider";case uf:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mf:return s=e.displayName||null,s!==null?s:Em(e.type)||"Memo";case En:s=e._payload,e=e._init;try{return Em(e(s))}catch{}}return null}function C2(e){var s=e.type;switch(e.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=s.render,e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Em(s);case 8:return s===df?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Kn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Aj(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function P2(e){var s=Aj(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),n=""+e[s];if(!e.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,s,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function ql(e){e._valueTracker||(e._valueTracker=P2(e))}function Cj(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var r=s.getValue(),n="";return e&&(n=Aj(e)?e.checked?"true":"false":e.value),e=n,e!==r?(s.setValue(e),!0):!1}function zc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Im(e,s){var r=s.checked;return jt({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Pg(e,s){var r=s.defaultValue==null?"":s.defaultValue,n=s.checked!=null?s.checked:s.defaultChecked;r=Kn(s.value!=null?s.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Pj(e,s){s=s.checked,s!=null&&cf(e,"checked",s,!1)}function Om(e,s){Pj(e,s);var r=Kn(s.value),n=s.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}s.hasOwnProperty("value")?Rm(e,s.type,r):s.hasOwnProperty("defaultValue")&&Rm(e,s.type,Kn(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(e.defaultChecked=!!s.defaultChecked)}function Tg(e,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var n=s.type;if(!(n!=="submit"&&n!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+e._wrapperState.initialValue,r||s===e.value||(e.value=s),e.defaultValue=s}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Rm(e,s,r){(s!=="number"||zc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var $o=Array.isArray;function vi(e,s,r,n){if(e=e.options,s){s={};for(var a=0;a<r.length;a++)s["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=s.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Kn(r),s=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}s!==null||e[a].disabled||(s=e[a])}s!==null&&(s.selected=!0)}}function Mm(e,s){if(s.dangerouslySetInnerHTML!=null)throw Error(ne(91));return jt({},s,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Eg(e,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(ne(92));if($o(r)){if(1<r.length)throw Error(ne(93));r=r[0]}s=r}s==null&&(s=""),r=s}e._wrapperState={initialValue:Kn(r)}}function Tj(e,s){var r=Kn(s.value),n=Kn(s.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),s.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ig(e){var s=e.textContent;s===e._wrapperState.initialValue&&s!==""&&s!==null&&(e.value=s)}function Ej(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dm(e,s){return e==null||e==="http://www.w3.org/1999/xhtml"?Ej(s):e==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yl,Ij=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(s,r,n,a)})}:e}(function(e,s){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=s;else{for(Yl=Yl||document.createElement("div"),Yl.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Yl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;s.firstChild;)e.appendChild(s.firstChild)}});function nl(e,s){if(s){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=s;return}}e.textContent=s}var Wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},T2=["Webkit","ms","Moz","O"];Object.keys(Wo).forEach(function(e){T2.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),Wo[s]=Wo[e]})});function Oj(e,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||Wo.hasOwnProperty(e)&&Wo[e]?(""+s).trim():s+"px"}function Rj(e,s){e=e.style;for(var r in s)if(s.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Oj(r,s[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var E2=jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lm(e,s){if(s){if(E2[e]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(ne(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(ne(61))}if(s.style!=null&&typeof s.style!="object")throw Error(ne(62))}}function $m(e,s){if(e.indexOf("-")===-1)return typeof s.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fm=null;function hf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zm=null,yi=null,ji=null;function Og(e){if(e=Tl(e)){if(typeof zm!="function")throw Error(ne(280));var s=e.stateNode;s&&(s=Id(s),zm(e.stateNode,e.type,s))}}function Mj(e){yi?ji?ji.push(e):ji=[e]:yi=e}function Dj(){if(yi){var e=yi,s=ji;if(ji=yi=null,Og(e),s)for(e=0;e<s.length;e++)Og(s[e])}}function Lj(e,s){return e(s)}function $j(){}var Nu=!1;function Fj(e,s,r){if(Nu)return e(s,r);Nu=!0;try{return Lj(e,s,r)}finally{Nu=!1,(yi!==null||ji!==null)&&($j(),Dj())}}function al(e,s){var r=e.stateNode;if(r===null)return null;var n=Id(r);if(n===null)return null;r=n[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ne(231,s,typeof r));return r}var Um=!1;if(ln)try{var wo={};Object.defineProperty(wo,"passive",{get:function(){Um=!0}}),window.addEventListener("test",wo,wo),window.removeEventListener("test",wo,wo)}catch{Um=!1}function I2(e,s,r,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{s.apply(r,d)}catch(u){this.onError(u)}}var Ho=!1,Uc=null,Bc=!1,Bm=null,O2={onError:function(e){Ho=!0,Uc=e}};function R2(e,s,r,n,a,i,o,l,c){Ho=!1,Uc=null,I2.apply(O2,arguments)}function M2(e,s,r,n,a,i,o,l,c){if(R2.apply(this,arguments),Ho){if(Ho){var d=Uc;Ho=!1,Uc=null}else throw Error(ne(198));Bc||(Bc=!0,Bm=d)}}function Ua(e){var s=e,r=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,s.flags&4098&&(r=s.return),e=s.return;while(e)}return s.tag===3?r:null}function zj(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function Rg(e){if(Ua(e)!==e)throw Error(ne(188))}function D2(e){var s=e.alternate;if(!s){if(s=Ua(e),s===null)throw Error(ne(188));return s!==e?null:e}for(var r=e,n=s;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Rg(a),e;if(i===n)return Rg(a),s;i=i.sibling}throw Error(ne(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(ne(189))}}if(r.alternate!==n)throw Error(ne(190))}if(r.tag!==3)throw Error(ne(188));return r.stateNode.current===r?e:s}function Uj(e){return e=D2(e),e!==null?Bj(e):null}function Bj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var s=Bj(e);if(s!==null)return s;e=e.sibling}return null}var Vj=Fs.unstable_scheduleCallback,Mg=Fs.unstable_cancelCallback,L2=Fs.unstable_shouldYield,$2=Fs.unstable_requestPaint,At=Fs.unstable_now,F2=Fs.unstable_getCurrentPriorityLevel,ff=Fs.unstable_ImmediatePriority,Wj=Fs.unstable_UserBlockingPriority,Vc=Fs.unstable_NormalPriority,z2=Fs.unstable_LowPriority,Hj=Fs.unstable_IdlePriority,Cd=null,$r=null;function U2(e){if($r&&typeof $r.onCommitFiberRoot=="function")try{$r.onCommitFiberRoot(Cd,e,void 0,(e.current.flags&128)===128)}catch{}}var fr=Math.clz32?Math.clz32:W2,B2=Math.log,V2=Math.LN2;function W2(e){return e>>>=0,e===0?32:31-(B2(e)/V2|0)|0}var Gl=64,Kl=4194304;function Fo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wc(e,s){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Fo(l):(i&=o,i!==0&&(n=Fo(i)))}else o=r&~a,o!==0?n=Fo(o):i!==0&&(n=Fo(i));if(n===0)return 0;if(s!==0&&s!==n&&!(s&a)&&(a=n&-n,i=s&-s,a>=i||a===16&&(i&4194240)!==0))return s;if(n&4&&(n|=r&16),s=e.entangledLanes,s!==0)for(e=e.entanglements,s&=n;0<s;)r=31-fr(s),a=1<<r,n|=e[r],s&=~a;return n}function H2(e,s){switch(e){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q2(e,s){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-fr(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=H2(l,s)):c<=s&&(e.expiredLanes|=l),i&=~l}}function Vm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qj(){var e=Gl;return Gl<<=1,!(Gl&4194240)&&(Gl=64),e}function Su(e){for(var s=[],r=0;31>r;r++)s.push(e);return s}function Cl(e,s,r){e.pendingLanes|=s,s!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,s=31-fr(s),e[s]=r}function Y2(e,s){var r=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-fr(r),i=1<<a;s[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function pf(e,s){var r=e.entangledLanes|=s;for(e=e.entanglements;r;){var n=31-fr(r),a=1<<n;a&s|e[n]&s&&(e[n]|=s),r&=~a}}var tt=0;function Yj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Gj,xf,Kj,Jj,Qj,Wm=!1,Jl=[],zn=null,Un=null,Bn=null,il=new Map,ol=new Map,Rn=[],G2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dg(e,s){switch(e){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":il.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(s.pointerId)}}function No(e,s,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:s,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},s!==null&&(s=Tl(s),s!==null&&xf(s)),e):(e.eventSystemFlags|=n,s=e.targetContainers,a!==null&&s.indexOf(a)===-1&&s.push(a),e)}function K2(e,s,r,n,a){switch(s){case"focusin":return zn=No(zn,e,s,r,n,a),!0;case"dragenter":return Un=No(Un,e,s,r,n,a),!0;case"mouseover":return Bn=No(Bn,e,s,r,n,a),!0;case"pointerover":var i=a.pointerId;return il.set(i,No(il.get(i)||null,e,s,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,ol.set(i,No(ol.get(i)||null,e,s,r,n,a)),!0}return!1}function Xj(e){var s=ga(e.target);if(s!==null){var r=Ua(s);if(r!==null){if(s=r.tag,s===13){if(s=zj(r),s!==null){e.blockedOn=s,Qj(e.priority,function(){Kj(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var r=Hm(e.domEventName,e.eventSystemFlags,s[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Fm=n,r.target.dispatchEvent(n),Fm=null}else return s=Tl(r),s!==null&&xf(s),e.blockedOn=r,!1;s.shift()}return!0}function Lg(e,s,r){Sc(e)&&r.delete(s)}function J2(){Wm=!1,zn!==null&&Sc(zn)&&(zn=null),Un!==null&&Sc(Un)&&(Un=null),Bn!==null&&Sc(Bn)&&(Bn=null),il.forEach(Lg),ol.forEach(Lg)}function So(e,s){e.blockedOn===s&&(e.blockedOn=null,Wm||(Wm=!0,Fs.unstable_scheduleCallback(Fs.unstable_NormalPriority,J2)))}function ll(e){function s(a){return So(a,e)}if(0<Jl.length){So(Jl[0],e);for(var r=1;r<Jl.length;r++){var n=Jl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(zn!==null&&So(zn,e),Un!==null&&So(Un,e),Bn!==null&&So(Bn,e),il.forEach(s),ol.forEach(s),r=0;r<Rn.length;r++)n=Rn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Rn.length&&(r=Rn[0],r.blockedOn===null);)Xj(r),r.blockedOn===null&&Rn.shift()}var bi=gn.ReactCurrentBatchConfig,Hc=!0;function Q2(e,s,r,n){var a=tt,i=bi.transition;bi.transition=null;try{tt=1,gf(e,s,r,n)}finally{tt=a,bi.transition=i}}function X2(e,s,r,n){var a=tt,i=bi.transition;bi.transition=null;try{tt=4,gf(e,s,r,n)}finally{tt=a,bi.transition=i}}function gf(e,s,r,n){if(Hc){var a=Hm(e,s,r,n);if(a===null)Ru(e,s,n,qc,r),Dg(e,n);else if(K2(a,e,s,r,n))n.stopPropagation();else if(Dg(e,n),s&4&&-1<G2.indexOf(e)){for(;a!==null;){var i=Tl(a);if(i!==null&&Gj(i),i=Hm(e,s,r,n),i===null&&Ru(e,s,n,qc,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Ru(e,s,n,null,r)}}var qc=null;function Hm(e,s,r,n){if(qc=null,e=hf(n),e=ga(e),e!==null)if(s=Ua(e),s===null)e=null;else if(r=s.tag,r===13){if(e=zj(s),e!==null)return e;e=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null);return qc=e,null}function Zj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(F2()){case ff:return 1;case Wj:return 4;case Vc:case z2:return 16;case Hj:return 536870912;default:return 16}default:return 16}}var Ln=null,vf=null,kc=null;function e0(){if(kc)return kc;var e,s=vf,r=s.length,n,a="value"in Ln?Ln.value:Ln.textContent,i=a.length;for(e=0;e<r&&s[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&s[r-n]===a[i-n];n++);return kc=a.slice(e,1<n?1-n:void 0)}function _c(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function Ql(){return!0}function $g(){return!1}function Bs(e){function s(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ql:$g,this.isPropagationStopped=$g,this}return jt(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ql)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ql)},persist:function(){},isPersistent:Ql}),s}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yf=Bs(qi),Pl=jt({},qi,{view:0,detail:0}),Z2=Bs(Pl),ku,_u,ko,Pd=jt({},Pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ko&&(ko&&e.type==="mousemove"?(ku=e.screenX-ko.screenX,_u=e.screenY-ko.screenY):_u=ku=0,ko=e),ku)},movementY:function(e){return"movementY"in e?e.movementY:_u}}),Fg=Bs(Pd),ek=jt({},Pd,{dataTransfer:0}),tk=Bs(ek),sk=jt({},Pl,{relatedTarget:0}),Au=Bs(sk),rk=jt({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),nk=Bs(rk),ak=jt({},qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ik=Bs(ak),ok=jt({},qi,{data:0}),zg=Bs(ok),lk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ck={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uk(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=dk[e])?!!s[e]:!1}function jf(){return uk}var mk=jt({},Pl,{key:function(e){if(e.key){var s=lk[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=_c(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ck[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jf,charCode:function(e){return e.type==="keypress"?_c(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_c(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hk=Bs(mk),fk=jt({},Pd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ug=Bs(fk),pk=jt({},Pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jf}),xk=Bs(pk),gk=jt({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),vk=Bs(gk),yk=jt({},Pd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jk=Bs(yk),bk=[9,13,27,32],bf=ln&&"CompositionEvent"in window,qo=null;ln&&"documentMode"in document&&(qo=document.documentMode);var wk=ln&&"TextEvent"in window&&!qo,t0=ln&&(!bf||qo&&8<qo&&11>=qo),Bg=String.fromCharCode(32),Vg=!1;function s0(e,s){switch(e){case"keyup":return bk.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var li=!1;function Nk(e,s){switch(e){case"compositionend":return r0(s);case"keypress":return s.which!==32?null:(Vg=!0,Bg);case"textInput":return e=s.data,e===Bg&&Vg?null:e;default:return null}}function Sk(e,s){if(li)return e==="compositionend"||!bf&&s0(e,s)?(e=e0(),kc=vf=Ln=null,li=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return t0&&s.locale!=="ko"?null:s.data;default:return null}}var kk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wg(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!kk[e.type]:s==="textarea"}function n0(e,s,r,n){Mj(n),s=Yc(s,"onChange"),0<s.length&&(r=new yf("onChange","change",null,r,n),e.push({event:r,listeners:s}))}var Yo=null,cl=null;function _k(e){p0(e,0)}function Td(e){var s=ui(e);if(Cj(s))return e}function Ak(e,s){if(e==="change")return s}var a0=!1;if(ln){var Cu;if(ln){var Pu="oninput"in document;if(!Pu){var Hg=document.createElement("div");Hg.setAttribute("oninput","return;"),Pu=typeof Hg.oninput=="function"}Cu=Pu}else Cu=!1;a0=Cu&&(!document.documentMode||9<document.documentMode)}function qg(){Yo&&(Yo.detachEvent("onpropertychange",i0),cl=Yo=null)}function i0(e){if(e.propertyName==="value"&&Td(cl)){var s=[];n0(s,cl,e,hf(e)),Fj(_k,s)}}function Ck(e,s,r){e==="focusin"?(qg(),Yo=s,cl=r,Yo.attachEvent("onpropertychange",i0)):e==="focusout"&&qg()}function Pk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Td(cl)}function Tk(e,s){if(e==="click")return Td(s)}function Ek(e,s){if(e==="input"||e==="change")return Td(s)}function Ik(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var vr=typeof Object.is=="function"?Object.is:Ik;function dl(e,s){if(vr(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var r=Object.keys(e),n=Object.keys(s);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Am.call(s,a)||!vr(e[a],s[a]))return!1}return!0}function Yg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gg(e,s){var r=Yg(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=s&&n>=s)return{node:r,offset:s-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yg(r)}}function o0(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?o0(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function l0(){for(var e=window,s=zc();s instanceof e.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)e=s.contentWindow;else break;s=zc(e.document)}return s}function wf(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function Ok(e){var s=l0(),r=e.focusedElem,n=e.selectionRange;if(s!==r&&r&&r.ownerDocument&&o0(r.ownerDocument.documentElement,r)){if(n!==null&&wf(r)){if(s=n.start,e=n.end,e===void 0&&(e=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(e,r.value.length);else if(e=(s=r.ownerDocument||document)&&s.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Gg(r,i);var o=Gg(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(s=s.createRange(),s.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(s),e.extend(o.node,o.offset)):(s.setEnd(o.node,o.offset),e.addRange(s)))}}for(s=[],e=r;e=e.parentNode;)e.nodeType===1&&s.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)e=s[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Rk=ln&&"documentMode"in document&&11>=document.documentMode,ci=null,qm=null,Go=null,Ym=!1;function Kg(e,s,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ym||ci==null||ci!==zc(n)||(n=ci,"selectionStart"in n&&wf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Go&&dl(Go,n)||(Go=n,n=Yc(qm,"onSelect"),0<n.length&&(s=new yf("onSelect","select",null,s,r),e.push({event:s,listeners:n}),s.target=ci)))}function Xl(e,s){var r={};return r[e.toLowerCase()]=s.toLowerCase(),r["Webkit"+e]="webkit"+s,r["Moz"+e]="moz"+s,r}var di={animationend:Xl("Animation","AnimationEnd"),animationiteration:Xl("Animation","AnimationIteration"),animationstart:Xl("Animation","AnimationStart"),transitionend:Xl("Transition","TransitionEnd")},Tu={},c0={};ln&&(c0=document.createElement("div").style,"AnimationEvent"in window||(delete di.animationend.animation,delete di.animationiteration.animation,delete di.animationstart.animation),"TransitionEvent"in window||delete di.transitionend.transition);function Ed(e){if(Tu[e])return Tu[e];if(!di[e])return e;var s=di[e],r;for(r in s)if(s.hasOwnProperty(r)&&r in c0)return Tu[e]=s[r];return e}var d0=Ed("animationend"),u0=Ed("animationiteration"),m0=Ed("animationstart"),h0=Ed("transitionend"),f0=new Map,Jg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ea(e,s){f0.set(e,s),za(s,[e])}for(var Eu=0;Eu<Jg.length;Eu++){var Iu=Jg[Eu],Mk=Iu.toLowerCase(),Dk=Iu[0].toUpperCase()+Iu.slice(1);ea(Mk,"on"+Dk)}ea(d0,"onAnimationEnd");ea(u0,"onAnimationIteration");ea(m0,"onAnimationStart");ea("dblclick","onDoubleClick");ea("focusin","onFocus");ea("focusout","onBlur");ea(h0,"onTransitionEnd");Ai("onMouseEnter",["mouseout","mouseover"]);Ai("onMouseLeave",["mouseout","mouseover"]);Ai("onPointerEnter",["pointerout","pointerover"]);Ai("onPointerLeave",["pointerout","pointerover"]);za("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));za("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));za("onBeforeInput",["compositionend","keypress","textInput","paste"]);za("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));za("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));za("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lk=new Set("cancel close invalid load scroll toggle".split(" ").concat(zo));function Qg(e,s,r){var n=e.type||"unknown-event";e.currentTarget=r,M2(n,s,void 0,e),e.currentTarget=null}function p0(e,s){s=(s&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(s)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Qg(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Qg(a,l,d),i=c}}}if(Bc)throw e=Bm,Bc=!1,Bm=null,e}function ct(e,s){var r=s[Xm];r===void 0&&(r=s[Xm]=new Set);var n=e+"__bubble";r.has(n)||(x0(s,e,2,!1),r.add(n))}function Ou(e,s,r){var n=0;s&&(n|=4),x0(r,e,n,s)}var Zl="_reactListening"+Math.random().toString(36).slice(2);function ul(e){if(!e[Zl]){e[Zl]=!0,Nj.forEach(function(r){r!=="selectionchange"&&(Lk.has(r)||Ou(r,!1,e),Ou(r,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Zl]||(s[Zl]=!0,Ou("selectionchange",!1,s))}}function x0(e,s,r,n){switch(Zj(s)){case 1:var a=Q2;break;case 4:a=X2;break;default:a=gf}r=a.bind(null,s,r,e),a=void 0,!Um||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(s,r,{capture:!0,passive:a}):e.addEventListener(s,r,!0):a!==void 0?e.addEventListener(s,r,{passive:a}):e.addEventListener(s,r,!1)}function Ru(e,s,r,n,a){var i=n;if(!(s&1)&&!(s&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=ga(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Fj(function(){var d=i,u=hf(r),f=[];e:{var p=f0.get(e);if(p!==void 0){var h=yf,j=e;switch(e){case"keypress":if(_c(r)===0)break e;case"keydown":case"keyup":h=hk;break;case"focusin":j="focus",h=Au;break;case"focusout":j="blur",h=Au;break;case"beforeblur":case"afterblur":h=Au;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Fg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=tk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=xk;break;case d0:case u0:case m0:h=nk;break;case h0:h=vk;break;case"scroll":h=Z2;break;case"wheel":h=jk;break;case"copy":case"cut":case"paste":h=ik;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Ug}var v=(s&4)!==0,b=!v&&e==="scroll",g=v?p!==null?p+"Capture":null:p;v=[];for(var y=d,x;y!==null;){x=y;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,g!==null&&(S=al(y,g),S!=null&&v.push(ml(y,S,x)))),b)break;y=y.return}0<v.length&&(p=new h(p,j,null,r,u),f.push({event:p,listeners:v}))}}if(!(s&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&r!==Fm&&(j=r.relatedTarget||r.fromElement)&&(ga(j)||j[cn]))break e;if((h||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,h?(j=r.relatedTarget||r.toElement,h=d,j=j?ga(j):null,j!==null&&(b=Ua(j),j!==b||j.tag!==5&&j.tag!==6)&&(j=null)):(h=null,j=d),h!==j)){if(v=Fg,S="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=Ug,S="onPointerLeave",g="onPointerEnter",y="pointer"),b=h==null?p:ui(h),x=j==null?p:ui(j),p=new v(S,y+"leave",h,r,u),p.target=b,p.relatedTarget=x,S=null,ga(u)===d&&(v=new v(g,y+"enter",j,r,u),v.target=x,v.relatedTarget=b,S=v),b=S,h&&j)t:{for(v=h,g=j,y=0,x=v;x;x=Ha(x))y++;for(x=0,S=g;S;S=Ha(S))x++;for(;0<y-x;)v=Ha(v),y--;for(;0<x-y;)g=Ha(g),x--;for(;y--;){if(v===g||g!==null&&v===g.alternate)break t;v=Ha(v),g=Ha(g)}v=null}else v=null;h!==null&&Xg(f,p,h,v,!1),j!==null&&b!==null&&Xg(f,b,j,v,!0)}}e:{if(p=d?ui(d):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var w=Ak;else if(Wg(p))if(a0)w=Ek;else{w=Pk;var k=Ck}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(w=Tk);if(w&&(w=w(e,d))){n0(f,w,r,u);break e}k&&k(e,p,d),e==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&Rm(p,"number",p.value)}switch(k=d?ui(d):window,e){case"focusin":(Wg(k)||k.contentEditable==="true")&&(ci=k,qm=d,Go=null);break;case"focusout":Go=qm=ci=null;break;case"mousedown":Ym=!0;break;case"contextmenu":case"mouseup":case"dragend":Ym=!1,Kg(f,r,u);break;case"selectionchange":if(Rk)break;case"keydown":case"keyup":Kg(f,r,u)}var C;if(bf)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else li?s0(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(t0&&r.locale!=="ko"&&(li||P!=="onCompositionStart"?P==="onCompositionEnd"&&li&&(C=e0()):(Ln=u,vf="value"in Ln?Ln.value:Ln.textContent,li=!0)),k=Yc(d,P),0<k.length&&(P=new zg(P,e,null,r,u),f.push({event:P,listeners:k}),C?P.data=C:(C=r0(r),C!==null&&(P.data=C)))),(C=wk?Nk(e,r):Sk(e,r))&&(d=Yc(d,"onBeforeInput"),0<d.length&&(u=new zg("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=C))}p0(f,s)})}function ml(e,s,r){return{instance:e,listener:s,currentTarget:r}}function Yc(e,s){for(var r=s+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=al(e,r),i!=null&&n.unshift(ml(e,i,a)),i=al(e,s),i!=null&&n.push(ml(e,i,a))),e=e.return}return n}function Ha(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xg(e,s,r,n,a){for(var i=s._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=al(r,i),c!=null&&o.unshift(ml(r,c,l))):a||(c=al(r,i),c!=null&&o.push(ml(r,c,l)))),r=r.return}o.length!==0&&e.push({event:s,listeners:o})}var $k=/\r\n?/g,Fk=/\u0000|\uFFFD/g;function Zg(e){return(typeof e=="string"?e:""+e).replace($k,`
`).replace(Fk,"")}function ec(e,s,r){if(s=Zg(s),Zg(e)!==s&&r)throw Error(ne(425))}function Gc(){}var Gm=null,Km=null;function Jm(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Qm=typeof setTimeout=="function"?setTimeout:void 0,zk=typeof clearTimeout=="function"?clearTimeout:void 0,ev=typeof Promise=="function"?Promise:void 0,Uk=typeof queueMicrotask=="function"?queueMicrotask:typeof ev<"u"?function(e){return ev.resolve(null).then(e).catch(Bk)}:Qm;function Bk(e){setTimeout(function(){throw e})}function Mu(e,s){var r=s,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),ll(s);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);ll(s)}function Vn(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return e}function tv(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return e;s--}else r==="/$"&&s++}e=e.previousSibling}return null}var Yi=Math.random().toString(36).slice(2),Rr="__reactFiber$"+Yi,hl="__reactProps$"+Yi,cn="__reactContainer$"+Yi,Xm="__reactEvents$"+Yi,Vk="__reactListeners$"+Yi,Wk="__reactHandles$"+Yi;function ga(e){var s=e[Rr];if(s)return s;for(var r=e.parentNode;r;){if(s=r[cn]||r[Rr]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(e=tv(e);e!==null;){if(r=e[Rr])return r;e=tv(e)}return s}e=r,r=e.parentNode}return null}function Tl(e){return e=e[Rr]||e[cn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ui(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function Id(e){return e[hl]||null}var Zm=[],mi=-1;function ta(e){return{current:e}}function dt(e){0>mi||(e.current=Zm[mi],Zm[mi]=null,mi--)}function at(e,s){mi++,Zm[mi]=e.current,e.current=s}var Jn={},ds=ta(Jn),_s=ta(!1),_a=Jn;function Ci(e,s){var r=e.type.contextTypes;if(!r)return Jn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===s)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=s[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),a}function As(e){return e=e.childContextTypes,e!=null}function Kc(){dt(_s),dt(ds)}function sv(e,s,r){if(ds.current!==Jn)throw Error(ne(168));at(ds,s),at(_s,r)}function g0(e,s,r){var n=e.stateNode;if(s=s.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in s))throw Error(ne(108,C2(e)||"Unknown",a));return jt({},r,n)}function Jc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jn,_a=ds.current,at(ds,e),at(_s,_s.current),!0}function rv(e,s,r){var n=e.stateNode;if(!n)throw Error(ne(169));r?(e=g0(e,s,_a),n.__reactInternalMemoizedMergedChildContext=e,dt(_s),dt(ds),at(ds,e)):dt(_s),at(_s,r)}var sn=null,Od=!1,Du=!1;function v0(e){sn===null?sn=[e]:sn.push(e)}function Hk(e){Od=!0,v0(e)}function sa(){if(!Du&&sn!==null){Du=!0;var e=0,s=tt;try{var r=sn;for(tt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}sn=null,Od=!1}catch(a){throw sn!==null&&(sn=sn.slice(e+1)),Vj(ff,sa),a}finally{tt=s,Du=!1}}return null}var hi=[],fi=0,Qc=null,Xc=0,Gs=[],Ks=0,Aa=null,rn=1,nn="";function ua(e,s){hi[fi++]=Xc,hi[fi++]=Qc,Qc=e,Xc=s}function y0(e,s,r){Gs[Ks++]=rn,Gs[Ks++]=nn,Gs[Ks++]=Aa,Aa=e;var n=rn;e=nn;var a=32-fr(n)-1;n&=~(1<<a),r+=1;var i=32-fr(s)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,rn=1<<32-fr(s)+a|r<<a|n,nn=i+e}else rn=1<<i|r<<a|n,nn=e}function Nf(e){e.return!==null&&(ua(e,1),y0(e,1,0))}function Sf(e){for(;e===Qc;)Qc=hi[--fi],hi[fi]=null,Xc=hi[--fi],hi[fi]=null;for(;e===Aa;)Aa=Gs[--Ks],Gs[Ks]=null,nn=Gs[--Ks],Gs[Ks]=null,rn=Gs[--Ks],Gs[Ks]=null}var Ms=null,Rs=null,mt=!1,mr=null;function j0(e,s){var r=Js(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=e,s=e.deletions,s===null?(e.deletions=[r],e.flags|=16):s.push(r)}function nv(e,s){switch(e.tag){case 5:var r=e.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(e.stateNode=s,Ms=e,Rs=Vn(s.firstChild),!0):!1;case 6:return s=e.pendingProps===""||s.nodeType!==3?null:s,s!==null?(e.stateNode=s,Ms=e,Rs=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=Aa!==null?{id:rn,overflow:nn}:null,e.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=Js(18,null,null,0),r.stateNode=s,r.return=e,e.child=r,Ms=e,Rs=null,!0):!1;default:return!1}}function eh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function th(e){if(mt){var s=Rs;if(s){var r=s;if(!nv(e,s)){if(eh(e))throw Error(ne(418));s=Vn(r.nextSibling);var n=Ms;s&&nv(e,s)?j0(n,r):(e.flags=e.flags&-4097|2,mt=!1,Ms=e)}}else{if(eh(e))throw Error(ne(418));e.flags=e.flags&-4097|2,mt=!1,Ms=e}}}function av(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ms=e}function tc(e){if(e!==Ms)return!1;if(!mt)return av(e),mt=!0,!1;var s;if((s=e.tag!==3)&&!(s=e.tag!==5)&&(s=e.type,s=s!=="head"&&s!=="body"&&!Jm(e.type,e.memoizedProps)),s&&(s=Rs)){if(eh(e))throw b0(),Error(ne(418));for(;s;)j0(e,s),s=Vn(s.nextSibling)}if(av(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(s===0){Rs=Vn(e.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}e=e.nextSibling}Rs=null}}else Rs=Ms?Vn(e.stateNode.nextSibling):null;return!0}function b0(){for(var e=Rs;e;)e=Vn(e.nextSibling)}function Pi(){Rs=Ms=null,mt=!1}function kf(e){mr===null?mr=[e]:mr.push(e)}var qk=gn.ReactCurrentBatchConfig;function _o(e,s,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ne(309));var n=r.stateNode}if(!n)throw Error(ne(147,e));var a=n,i=""+e;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===i?s.ref:(s=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},s._stringRef=i,s)}if(typeof e!="string")throw Error(ne(284));if(!r._owner)throw Error(ne(290,e))}return e}function sc(e,s){throw e=Object.prototype.toString.call(s),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function iv(e){var s=e._init;return s(e._payload)}function w0(e){function s(g,y){if(e){var x=g.deletions;x===null?(g.deletions=[y],g.flags|=16):x.push(y)}}function r(g,y){if(!e)return null;for(;y!==null;)s(g,y),y=y.sibling;return null}function n(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function a(g,y){return g=Yn(g,y),g.index=0,g.sibling=null,g}function i(g,y,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<y?(g.flags|=2,y):x):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,y,x,S){return y===null||y.tag!==6?(y=Vu(x,g.mode,S),y.return=g,y):(y=a(y,x),y.return=g,y)}function c(g,y,x,S){var w=x.type;return w===oi?u(g,y,x.props.children,S,x.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===En&&iv(w)===y.type)?(S=a(y,x.props),S.ref=_o(g,y,x),S.return=g,S):(S=Oc(x.type,x.key,x.props,null,g.mode,S),S.ref=_o(g,y,x),S.return=g,S)}function d(g,y,x,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Wu(x,g.mode,S),y.return=g,y):(y=a(y,x.children||[]),y.return=g,y)}function u(g,y,x,S,w){return y===null||y.tag!==7?(y=wa(x,g.mode,S,w),y.return=g,y):(y=a(y,x),y.return=g,y)}function f(g,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Vu(""+y,g.mode,x),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Hl:return x=Oc(y.type,y.key,y.props,null,g.mode,x),x.ref=_o(g,null,y),x.return=g,x;case ii:return y=Wu(y,g.mode,x),y.return=g,y;case En:var S=y._init;return f(g,S(y._payload),x)}if($o(y)||bo(y))return y=wa(y,g.mode,x,null),y.return=g,y;sc(g,y)}return null}function p(g,y,x,S){var w=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:l(g,y,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Hl:return x.key===w?c(g,y,x,S):null;case ii:return x.key===w?d(g,y,x,S):null;case En:return w=x._init,p(g,y,w(x._payload),S)}if($o(x)||bo(x))return w!==null?null:u(g,y,x,S,null);sc(g,x)}return null}function h(g,y,x,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(x)||null,l(y,g,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Hl:return g=g.get(S.key===null?x:S.key)||null,c(y,g,S,w);case ii:return g=g.get(S.key===null?x:S.key)||null,d(y,g,S,w);case En:var k=S._init;return h(g,y,x,k(S._payload),w)}if($o(S)||bo(S))return g=g.get(x)||null,u(y,g,S,w,null);sc(y,S)}return null}function j(g,y,x,S){for(var w=null,k=null,C=y,P=y=0,N=null;C!==null&&P<x.length;P++){C.index>P?(N=C,C=null):N=C.sibling;var T=p(g,C,x[P],S);if(T===null){C===null&&(C=N);break}e&&C&&T.alternate===null&&s(g,C),y=i(T,y,P),k===null?w=T:k.sibling=T,k=T,C=N}if(P===x.length)return r(g,C),mt&&ua(g,P),w;if(C===null){for(;P<x.length;P++)C=f(g,x[P],S),C!==null&&(y=i(C,y,P),k===null?w=C:k.sibling=C,k=C);return mt&&ua(g,P),w}for(C=n(g,C);P<x.length;P++)N=h(C,g,P,x[P],S),N!==null&&(e&&N.alternate!==null&&C.delete(N.key===null?P:N.key),y=i(N,y,P),k===null?w=N:k.sibling=N,k=N);return e&&C.forEach(function(O){return s(g,O)}),mt&&ua(g,P),w}function v(g,y,x,S){var w=bo(x);if(typeof w!="function")throw Error(ne(150));if(x=w.call(x),x==null)throw Error(ne(151));for(var k=w=null,C=y,P=y=0,N=null,T=x.next();C!==null&&!T.done;P++,T=x.next()){C.index>P?(N=C,C=null):N=C.sibling;var O=p(g,C,T.value,S);if(O===null){C===null&&(C=N);break}e&&C&&O.alternate===null&&s(g,C),y=i(O,y,P),k===null?w=O:k.sibling=O,k=O,C=N}if(T.done)return r(g,C),mt&&ua(g,P),w;if(C===null){for(;!T.done;P++,T=x.next())T=f(g,T.value,S),T!==null&&(y=i(T,y,P),k===null?w=T:k.sibling=T,k=T);return mt&&ua(g,P),w}for(C=n(g,C);!T.done;P++,T=x.next())T=h(C,g,P,T.value,S),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?P:T.key),y=i(T,y,P),k===null?w=T:k.sibling=T,k=T);return e&&C.forEach(function(I){return s(g,I)}),mt&&ua(g,P),w}function b(g,y,x,S){if(typeof x=="object"&&x!==null&&x.type===oi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Hl:e:{for(var w=x.key,k=y;k!==null;){if(k.key===w){if(w=x.type,w===oi){if(k.tag===7){r(g,k.sibling),y=a(k,x.props.children),y.return=g,g=y;break e}}else if(k.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===En&&iv(w)===k.type){r(g,k.sibling),y=a(k,x.props),y.ref=_o(g,k,x),y.return=g,g=y;break e}r(g,k);break}else s(g,k);k=k.sibling}x.type===oi?(y=wa(x.props.children,g.mode,S,x.key),y.return=g,g=y):(S=Oc(x.type,x.key,x.props,null,g.mode,S),S.ref=_o(g,y,x),S.return=g,g=S)}return o(g);case ii:e:{for(k=x.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){r(g,y.sibling),y=a(y,x.children||[]),y.return=g,g=y;break e}else{r(g,y);break}else s(g,y);y=y.sibling}y=Wu(x,g.mode,S),y.return=g,g=y}return o(g);case En:return k=x._init,b(g,y,k(x._payload),S)}if($o(x))return j(g,y,x,S);if(bo(x))return v(g,y,x,S);sc(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(r(g,y.sibling),y=a(y,x),y.return=g,g=y):(r(g,y),y=Vu(x,g.mode,S),y.return=g,g=y),o(g)):r(g,y)}return b}var Ti=w0(!0),N0=w0(!1),Zc=ta(null),ed=null,pi=null,_f=null;function Af(){_f=pi=ed=null}function Cf(e){var s=Zc.current;dt(Zc),e._currentValue=s}function sh(e,s,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,n!==null&&(n.childLanes|=s)):n!==null&&(n.childLanes&s)!==s&&(n.childLanes|=s),e===r)break;e=e.return}}function wi(e,s){ed=e,_f=pi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&s&&(Ss=!0),e.firstContext=null)}function er(e){var s=e._currentValue;if(_f!==e)if(e={context:e,memoizedValue:s,next:null},pi===null){if(ed===null)throw Error(ne(308));pi=e,ed.dependencies={lanes:0,firstContext:e}}else pi=pi.next=e;return s}var va=null;function Pf(e){va===null?va=[e]:va.push(e)}function S0(e,s,r,n){var a=s.interleaved;return a===null?(r.next=r,Pf(s)):(r.next=a.next,a.next=r),s.interleaved=r,dn(e,n)}function dn(e,s){e.lanes|=s;var r=e.alternate;for(r!==null&&(r.lanes|=s),r=e,e=e.return;e!==null;)e.childLanes|=s,r=e.alternate,r!==null&&(r.childLanes|=s),r=e,e=e.return;return r.tag===3?r.stateNode:null}var In=!1;function Tf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function k0(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function an(e,s){return{eventTime:e,lane:s,tag:0,payload:null,callback:null,next:null}}function Wn(e,s,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Qe&2){var a=n.pending;return a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s,dn(e,r)}return a=n.interleaved,a===null?(s.next=s,Pf(n)):(s.next=a.next,a.next=s),n.interleaved=s,dn(e,r)}function Ac(e,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var n=s.lanes;n&=e.pendingLanes,r|=n,s.lanes=r,pf(e,r)}}function ov(e,s){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=s:i=i.next=s}else a=i=s;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=s:e.next=s,r.lastBaseUpdate=s}function td(e,s,r,n){var a=e.updateQueue;In=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,u=d=c=null,l=i;do{var p=l.lane,h=l.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var j=e,v=l;switch(p=s,h=r,v.tag){case 1:if(j=v.payload,typeof j=="function"){f=j.call(h,f,p);break e}f=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=v.payload,p=typeof j=="function"?j.call(h,f,p):j,p==null)break e;f=jt({},f,p);break e;case 2:In=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[l]:p.push(l))}else h={eventTime:h,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=h,c=f):u=u.next=h,o|=p;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;p=l,l=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(1);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,s=a.shared.interleaved,s!==null){a=s;do o|=a.lane,a=a.next;while(a!==s)}else i===null&&(a.shared.lanes=0);Pa|=o,e.lanes=o,e.memoizedState=f}}function lv(e,s,r){if(e=s.effects,s.effects=null,e!==null)for(s=0;s<e.length;s++){var n=e[s],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ne(191,a));a.call(n)}}}var El={},Fr=ta(El),fl=ta(El),pl=ta(El);function ya(e){if(e===El)throw Error(ne(174));return e}function Ef(e,s){switch(at(pl,s),at(fl,e),at(Fr,El),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Dm(null,"");break;default:e=e===8?s.parentNode:s,s=e.namespaceURI||null,e=e.tagName,s=Dm(s,e)}dt(Fr),at(Fr,s)}function Ei(){dt(Fr),dt(fl),dt(pl)}function _0(e){ya(pl.current);var s=ya(Fr.current),r=Dm(s,e.type);s!==r&&(at(fl,e),at(Fr,r))}function If(e){fl.current===e&&(dt(Fr),dt(fl))}var vt=ta(0);function sd(e){for(var s=e;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Lu=[];function Of(){for(var e=0;e<Lu.length;e++)Lu[e]._workInProgressVersionPrimary=null;Lu.length=0}var Cc=gn.ReactCurrentDispatcher,$u=gn.ReactCurrentBatchConfig,Ca=0,yt=null,Ft=null,Vt=null,rd=!1,Ko=!1,xl=0,Yk=0;function ns(){throw Error(ne(321))}function Rf(e,s){if(s===null)return!1;for(var r=0;r<s.length&&r<e.length;r++)if(!vr(e[r],s[r]))return!1;return!0}function Mf(e,s,r,n,a,i){if(Ca=i,yt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Cc.current=e===null||e.memoizedState===null?Qk:Xk,e=r(n,a),Ko){i=0;do{if(Ko=!1,xl=0,25<=i)throw Error(ne(301));i+=1,Vt=Ft=null,s.updateQueue=null,Cc.current=Zk,e=r(n,a)}while(Ko)}if(Cc.current=nd,s=Ft!==null&&Ft.next!==null,Ca=0,Vt=Ft=yt=null,rd=!1,s)throw Error(ne(300));return e}function Df(){var e=xl!==0;return xl=0,e}function Ir(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?yt.memoizedState=Vt=e:Vt=Vt.next=e,Vt}function tr(){if(Ft===null){var e=yt.alternate;e=e!==null?e.memoizedState:null}else e=Ft.next;var s=Vt===null?yt.memoizedState:Vt.next;if(s!==null)Vt=s,Ft=e;else{if(e===null)throw Error(ne(310));Ft=e,e={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Vt===null?yt.memoizedState=Vt=e:Vt=Vt.next=e}return Vt}function gl(e,s){return typeof s=="function"?s(e):s}function Fu(e){var s=tr(),r=s.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=Ft,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Ca&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,yt.lanes|=u,Pa|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,vr(n,s.memoizedState)||(Ss=!0),s.memoizedState=n,s.baseState=o,s.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,yt.lanes|=i,Pa|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function zu(e){var s=tr(),r=s.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=s.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);vr(i,s.memoizedState)||(Ss=!0),s.memoizedState=i,s.baseQueue===null&&(s.baseState=i),r.lastRenderedState=i}return[i,n]}function A0(){}function C0(e,s){var r=yt,n=tr(),a=s(),i=!vr(n.memoizedState,a);if(i&&(n.memoizedState=a,Ss=!0),n=n.queue,Lf(E0.bind(null,r,n,e),[e]),n.getSnapshot!==s||i||Vt!==null&&Vt.memoizedState.tag&1){if(r.flags|=2048,vl(9,T0.bind(null,r,n,a,s),void 0,null),Wt===null)throw Error(ne(349));Ca&30||P0(r,s,a)}return a}function P0(e,s,r){e.flags|=16384,e={getSnapshot:s,value:r},s=yt.updateQueue,s===null?(s={lastEffect:null,stores:null},yt.updateQueue=s,s.stores=[e]):(r=s.stores,r===null?s.stores=[e]:r.push(e))}function T0(e,s,r,n){s.value=r,s.getSnapshot=n,I0(s)&&O0(e)}function E0(e,s,r){return r(function(){I0(s)&&O0(e)})}function I0(e){var s=e.getSnapshot;e=e.value;try{var r=s();return!vr(e,r)}catch{return!0}}function O0(e){var s=dn(e,1);s!==null&&pr(s,e,1,-1)}function cv(e){var s=Ir();return typeof e=="function"&&(e=e()),s.memoizedState=s.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:e},s.queue=e,e=e.dispatch=Jk.bind(null,yt,e),[s.memoizedState,e]}function vl(e,s,r,n){return e={tag:e,create:s,destroy:r,deps:n,next:null},s=yt.updateQueue,s===null?(s={lastEffect:null,stores:null},yt.updateQueue=s,s.lastEffect=e.next=e):(r=s.lastEffect,r===null?s.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,s.lastEffect=e)),e}function R0(){return tr().memoizedState}function Pc(e,s,r,n){var a=Ir();yt.flags|=e,a.memoizedState=vl(1|s,r,void 0,n===void 0?null:n)}function Rd(e,s,r,n){var a=tr();n=n===void 0?null:n;var i=void 0;if(Ft!==null){var o=Ft.memoizedState;if(i=o.destroy,n!==null&&Rf(n,o.deps)){a.memoizedState=vl(s,r,i,n);return}}yt.flags|=e,a.memoizedState=vl(1|s,r,i,n)}function dv(e,s){return Pc(8390656,8,e,s)}function Lf(e,s){return Rd(2048,8,e,s)}function M0(e,s){return Rd(4,2,e,s)}function D0(e,s){return Rd(4,4,e,s)}function L0(e,s){if(typeof s=="function")return e=e(),s(e),function(){s(null)};if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function $0(e,s,r){return r=r!=null?r.concat([e]):null,Rd(4,4,L0.bind(null,s,e),r)}function $f(){}function F0(e,s){var r=tr();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&Rf(s,n[1])?n[0]:(r.memoizedState=[e,s],e)}function z0(e,s){var r=tr();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&Rf(s,n[1])?n[0]:(e=e(),r.memoizedState=[e,s],e)}function U0(e,s,r){return Ca&21?(vr(r,s)||(r=qj(),yt.lanes|=r,Pa|=r,e.baseState=!0),s):(e.baseState&&(e.baseState=!1,Ss=!0),e.memoizedState=r)}function Gk(e,s){var r=tt;tt=r!==0&&4>r?r:4,e(!0);var n=$u.transition;$u.transition={};try{e(!1),s()}finally{tt=r,$u.transition=n}}function B0(){return tr().memoizedState}function Kk(e,s,r){var n=qn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},V0(e))W0(s,r);else if(r=S0(e,s,r,n),r!==null){var a=gs();pr(r,e,n,a),H0(r,s,n)}}function Jk(e,s,r){var n=qn(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(V0(e))W0(s,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=s.lastRenderedReducer,i!==null))try{var o=s.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,vr(l,o)){var c=s.interleaved;c===null?(a.next=a,Pf(s)):(a.next=c.next,c.next=a),s.interleaved=a;return}}catch{}finally{}r=S0(e,s,a,n),r!==null&&(a=gs(),pr(r,e,n,a),H0(r,s,n))}}function V0(e){var s=e.alternate;return e===yt||s!==null&&s===yt}function W0(e,s){Ko=rd=!0;var r=e.pending;r===null?s.next=s:(s.next=r.next,r.next=s),e.pending=s}function H0(e,s,r){if(r&4194240){var n=s.lanes;n&=e.pendingLanes,r|=n,s.lanes=r,pf(e,r)}}var nd={readContext:er,useCallback:ns,useContext:ns,useEffect:ns,useImperativeHandle:ns,useInsertionEffect:ns,useLayoutEffect:ns,useMemo:ns,useReducer:ns,useRef:ns,useState:ns,useDebugValue:ns,useDeferredValue:ns,useTransition:ns,useMutableSource:ns,useSyncExternalStore:ns,useId:ns,unstable_isNewReconciler:!1},Qk={readContext:er,useCallback:function(e,s){return Ir().memoizedState=[e,s===void 0?null:s],e},useContext:er,useEffect:dv,useImperativeHandle:function(e,s,r){return r=r!=null?r.concat([e]):null,Pc(4194308,4,L0.bind(null,s,e),r)},useLayoutEffect:function(e,s){return Pc(4194308,4,e,s)},useInsertionEffect:function(e,s){return Pc(4,2,e,s)},useMemo:function(e,s){var r=Ir();return s=s===void 0?null:s,e=e(),r.memoizedState=[e,s],e},useReducer:function(e,s,r){var n=Ir();return s=r!==void 0?r(s):s,n.memoizedState=n.baseState=s,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},n.queue=e,e=e.dispatch=Kk.bind(null,yt,e),[n.memoizedState,e]},useRef:function(e){var s=Ir();return e={current:e},s.memoizedState=e},useState:cv,useDebugValue:$f,useDeferredValue:function(e){return Ir().memoizedState=e},useTransition:function(){var e=cv(!1),s=e[0];return e=Gk.bind(null,e[1]),Ir().memoizedState=e,[s,e]},useMutableSource:function(){},useSyncExternalStore:function(e,s,r){var n=yt,a=Ir();if(mt){if(r===void 0)throw Error(ne(407));r=r()}else{if(r=s(),Wt===null)throw Error(ne(349));Ca&30||P0(n,s,r)}a.memoizedState=r;var i={value:r,getSnapshot:s};return a.queue=i,dv(E0.bind(null,n,i,e),[e]),n.flags|=2048,vl(9,T0.bind(null,n,i,r,s),void 0,null),r},useId:function(){var e=Ir(),s=Wt.identifierPrefix;if(mt){var r=nn,n=rn;r=(n&~(1<<32-fr(n)-1)).toString(32)+r,s=":"+s+"R"+r,r=xl++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=Yk++,s=":"+s+"r"+r.toString(32)+":";return e.memoizedState=s},unstable_isNewReconciler:!1},Xk={readContext:er,useCallback:F0,useContext:er,useEffect:Lf,useImperativeHandle:$0,useInsertionEffect:M0,useLayoutEffect:D0,useMemo:z0,useReducer:Fu,useRef:R0,useState:function(){return Fu(gl)},useDebugValue:$f,useDeferredValue:function(e){var s=tr();return U0(s,Ft.memoizedState,e)},useTransition:function(){var e=Fu(gl)[0],s=tr().memoizedState;return[e,s]},useMutableSource:A0,useSyncExternalStore:C0,useId:B0,unstable_isNewReconciler:!1},Zk={readContext:er,useCallback:F0,useContext:er,useEffect:Lf,useImperativeHandle:$0,useInsertionEffect:M0,useLayoutEffect:D0,useMemo:z0,useReducer:zu,useRef:R0,useState:function(){return zu(gl)},useDebugValue:$f,useDeferredValue:function(e){var s=tr();return Ft===null?s.memoizedState=e:U0(s,Ft.memoizedState,e)},useTransition:function(){var e=zu(gl)[0],s=tr().memoizedState;return[e,s]},useMutableSource:A0,useSyncExternalStore:C0,useId:B0,unstable_isNewReconciler:!1};function lr(e,s){if(e&&e.defaultProps){s=jt({},s),e=e.defaultProps;for(var r in e)s[r]===void 0&&(s[r]=e[r]);return s}return s}function rh(e,s,r,n){s=e.memoizedState,r=r(n,s),r=r==null?s:jt({},s,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Md={isMounted:function(e){return(e=e._reactInternals)?Ua(e)===e:!1},enqueueSetState:function(e,s,r){e=e._reactInternals;var n=gs(),a=qn(e),i=an(n,a);i.payload=s,r!=null&&(i.callback=r),s=Wn(e,i,a),s!==null&&(pr(s,e,a,n),Ac(s,e,a))},enqueueReplaceState:function(e,s,r){e=e._reactInternals;var n=gs(),a=qn(e),i=an(n,a);i.tag=1,i.payload=s,r!=null&&(i.callback=r),s=Wn(e,i,a),s!==null&&(pr(s,e,a,n),Ac(s,e,a))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var r=gs(),n=qn(e),a=an(r,n);a.tag=2,s!=null&&(a.callback=s),s=Wn(e,a,n),s!==null&&(pr(s,e,n,r),Ac(s,e,n))}};function uv(e,s,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):s.prototype&&s.prototype.isPureReactComponent?!dl(r,n)||!dl(a,i):!0}function q0(e,s,r){var n=!1,a=Jn,i=s.contextType;return typeof i=="object"&&i!==null?i=er(i):(a=As(s)?_a:ds.current,n=s.contextTypes,i=(n=n!=null)?Ci(e,a):Jn),s=new s(r,i),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Md,e.stateNode=s,s._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),s}function mv(e,s,r,n){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,n),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,n),s.state!==e&&Md.enqueueReplaceState(s,s.state,null)}function nh(e,s,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Tf(e);var i=s.contextType;typeof i=="object"&&i!==null?a.context=er(i):(i=As(s)?_a:ds.current,a.context=Ci(e,i)),a.state=e.memoizedState,i=s.getDerivedStateFromProps,typeof i=="function"&&(rh(e,s,i,r),a.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Md.enqueueReplaceState(a,a.state,null),td(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ii(e,s){try{var r="",n=s;do r+=A2(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:s,stack:a,digest:null}}function Uu(e,s,r){return{value:e,source:null,stack:r??null,digest:s??null}}function ah(e,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var e_=typeof WeakMap=="function"?WeakMap:Map;function Y0(e,s,r){r=an(-1,r),r.tag=3,r.payload={element:null};var n=s.value;return r.callback=function(){id||(id=!0,ph=n),ah(e,s)},r}function G0(e,s,r){r=an(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=s.value;r.payload=function(){return n(a)},r.callback=function(){ah(e,s)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ah(e,s),typeof n!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var o=s.stack;this.componentDidCatch(s.value,{componentStack:o!==null?o:""})}),r}function hv(e,s,r){var n=e.pingCache;if(n===null){n=e.pingCache=new e_;var a=new Set;n.set(s,a)}else a=n.get(s),a===void 0&&(a=new Set,n.set(s,a));a.has(r)||(a.add(r),e=f_.bind(null,e,s,r),s.then(e,e))}function fv(e){do{var s;if((s=e.tag===13)&&(s=e.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return e;e=e.return}while(e!==null);return null}function pv(e,s,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===s?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=an(-1,1),s.tag=2,Wn(r,s,1))),r.lanes|=1),e)}var t_=gn.ReactCurrentOwner,Ss=!1;function ps(e,s,r,n){s.child=e===null?N0(s,null,r,n):Ti(s,e.child,r,n)}function xv(e,s,r,n,a){r=r.render;var i=s.ref;return wi(s,a),n=Mf(e,s,r,n,i,a),r=Df(),e!==null&&!Ss?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a,un(e,s,a)):(mt&&r&&Nf(s),s.flags|=1,ps(e,s,n,a),s.child)}function gv(e,s,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!qf(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=i,K0(e,s,i,n,a)):(e=Oc(r.type,null,n,s,s.mode,a),e.ref=s.ref,e.return=s,s.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:dl,r(o,n)&&e.ref===s.ref)return un(e,s,a)}return s.flags|=1,e=Yn(i,n),e.ref=s.ref,e.return=s,s.child=e}function K0(e,s,r,n,a){if(e!==null){var i=e.memoizedProps;if(dl(i,n)&&e.ref===s.ref)if(Ss=!1,s.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Ss=!0);else return s.lanes=e.lanes,un(e,s,a)}return ih(e,s,r,n,a)}function J0(e,s,r){var n=s.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(gi,Es),Es|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:e,cachePool:null,transitions:null},s.updateQueue=null,at(gi,Es),Es|=e,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,at(gi,Es),Es|=n}else i!==null?(n=i.baseLanes|r,s.memoizedState=null):n=r,at(gi,Es),Es|=n;return ps(e,s,a,r),s.child}function Q0(e,s){var r=s.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function ih(e,s,r,n,a){var i=As(r)?_a:ds.current;return i=Ci(s,i),wi(s,a),r=Mf(e,s,r,n,i,a),n=Df(),e!==null&&!Ss?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a,un(e,s,a)):(mt&&n&&Nf(s),s.flags|=1,ps(e,s,r,a),s.child)}function vv(e,s,r,n,a){if(As(r)){var i=!0;Jc(s)}else i=!1;if(wi(s,a),s.stateNode===null)Tc(e,s),q0(s,r,n),nh(s,r,n,a),n=!0;else if(e===null){var o=s.stateNode,l=s.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=er(d):(d=As(r)?_a:ds.current,d=Ci(s,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&mv(s,o,n,d),In=!1;var p=s.memoizedState;o.state=p,td(s,n,o,a),c=s.memoizedState,l!==n||p!==c||_s.current||In?(typeof u=="function"&&(rh(s,r,u,n),c=s.memoizedState),(l=In||uv(s,r,l,n,p,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(s.flags|=4194308)):(typeof o.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=n,s.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(s.flags|=4194308),n=!1)}else{o=s.stateNode,k0(e,s),l=s.memoizedProps,d=s.type===s.elementType?l:lr(s.type,l),o.props=d,f=s.pendingProps,p=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=er(c):(c=As(r)?_a:ds.current,c=Ci(s,c));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||p!==c)&&mv(s,o,n,c),In=!1,p=s.memoizedState,o.state=p,td(s,n,o,a);var j=s.memoizedState;l!==f||p!==j||_s.current||In?(typeof h=="function"&&(rh(s,r,h,n),j=s.memoizedState),(d=In||uv(s,r,d,n,p,j,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,j,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,j,c)),typeof o.componentDidUpdate=="function"&&(s.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(s.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(s.flags|=1024),s.memoizedProps=n,s.memoizedState=j),o.props=n,o.state=j,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(s.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(s.flags|=1024),n=!1)}return oh(e,s,r,n,i,a)}function oh(e,s,r,n,a,i){Q0(e,s);var o=(s.flags&128)!==0;if(!n&&!o)return a&&rv(s,r,!1),un(e,s,i);n=s.stateNode,t_.current=s;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return s.flags|=1,e!==null&&o?(s.child=Ti(s,e.child,null,i),s.child=Ti(s,null,l,i)):ps(e,s,l,i),s.memoizedState=n.state,a&&rv(s,r,!0),s.child}function X0(e){var s=e.stateNode;s.pendingContext?sv(e,s.pendingContext,s.pendingContext!==s.context):s.context&&sv(e,s.context,!1),Ef(e,s.containerInfo)}function yv(e,s,r,n,a){return Pi(),kf(a),s.flags|=256,ps(e,s,r,n),s.child}var lh={dehydrated:null,treeContext:null,retryLane:0};function ch(e){return{baseLanes:e,cachePool:null,transitions:null}}function Z0(e,s,r){var n=s.pendingProps,a=vt.current,i=!1,o=(s.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,s.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),at(vt,a&1),e===null)return th(s),e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(s.mode&1?e.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(o=n.children,e=n.fallback,i?(n=s.mode,i=s.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=$d(o,n,0,null),e=wa(e,n,r,null),i.return=s,e.return=s,i.sibling=e,s.child=i,s.child.memoizedState=ch(r),s.memoizedState=lh,e):Ff(s,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return s_(e,s,o,n,l,a,r);if(i){i=n.fallback,o=s.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&s.child!==a?(n=s.child,n.childLanes=0,n.pendingProps=c,s.deletions=null):(n=Yn(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Yn(l,i):(i=wa(i,o,r,null),i.flags|=2),i.return=s,n.return=s,n.sibling=i,s.child=n,n=i,i=s.child,o=e.child.memoizedState,o=o===null?ch(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,s.memoizedState=lh,n}return i=e.child,e=i.sibling,n=Yn(i,{mode:"visible",children:n.children}),!(s.mode&1)&&(n.lanes=r),n.return=s,n.sibling=null,e!==null&&(r=s.deletions,r===null?(s.deletions=[e],s.flags|=16):r.push(e)),s.child=n,s.memoizedState=null,n}function Ff(e,s){return s=$d({mode:"visible",children:s},e.mode,0,null),s.return=e,e.child=s}function rc(e,s,r,n){return n!==null&&kf(n),Ti(s,e.child,null,r),e=Ff(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function s_(e,s,r,n,a,i,o){if(r)return s.flags&256?(s.flags&=-257,n=Uu(Error(ne(422))),rc(e,s,o,n)):s.memoizedState!==null?(s.child=e.child,s.flags|=128,null):(i=n.fallback,a=s.mode,n=$d({mode:"visible",children:n.children},a,0,null),i=wa(i,a,o,null),i.flags|=2,n.return=s,i.return=s,n.sibling=i,s.child=n,s.mode&1&&Ti(s,e.child,null,o),s.child.memoizedState=ch(o),s.memoizedState=lh,i);if(!(s.mode&1))return rc(e,s,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ne(419)),n=Uu(i,n,void 0),rc(e,s,o,n)}if(l=(o&e.childLanes)!==0,Ss||l){if(n=Wt,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,dn(e,a),pr(n,e,a,-1))}return Hf(),n=Uu(Error(ne(421))),rc(e,s,o,n)}return a.data==="$?"?(s.flags|=128,s.child=e.child,s=p_.bind(null,e),a._reactRetry=s,null):(e=i.treeContext,Rs=Vn(a.nextSibling),Ms=s,mt=!0,mr=null,e!==null&&(Gs[Ks++]=rn,Gs[Ks++]=nn,Gs[Ks++]=Aa,rn=e.id,nn=e.overflow,Aa=s),s=Ff(s,n.children),s.flags|=4096,s)}function jv(e,s,r){e.lanes|=s;var n=e.alternate;n!==null&&(n.lanes|=s),sh(e.return,s,r)}function Bu(e,s,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=s,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function eb(e,s,r){var n=s.pendingProps,a=n.revealOrder,i=n.tail;if(ps(e,s,n.children,r),n=vt.current,n&2)n=n&1|2,s.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jv(e,r,s);else if(e.tag===19)jv(e,r,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(at(vt,n),!(s.mode&1))s.memoizedState=null;else switch(a){case"forwards":for(r=s.child,a=null;r!==null;)e=r.alternate,e!==null&&sd(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=s.child,s.child=null):(a=r.sibling,r.sibling=null),Bu(s,!1,a,r,i);break;case"backwards":for(r=null,a=s.child,s.child=null;a!==null;){if(e=a.alternate,e!==null&&sd(e)===null){s.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Bu(s,!0,r,null,i);break;case"together":Bu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Tc(e,s){!(s.mode&1)&&e!==null&&(e.alternate=null,s.alternate=null,s.flags|=2)}function un(e,s,r){if(e!==null&&(s.dependencies=e.dependencies),Pa|=s.lanes,!(r&s.childLanes))return null;if(e!==null&&s.child!==e.child)throw Error(ne(153));if(s.child!==null){for(e=s.child,r=Yn(e,e.pendingProps),s.child=r,r.return=s;e.sibling!==null;)e=e.sibling,r=r.sibling=Yn(e,e.pendingProps),r.return=s;r.sibling=null}return s.child}function r_(e,s,r){switch(s.tag){case 3:X0(s),Pi();break;case 5:_0(s);break;case 1:As(s.type)&&Jc(s);break;case 4:Ef(s,s.stateNode.containerInfo);break;case 10:var n=s.type._context,a=s.memoizedProps.value;at(Zc,n._currentValue),n._currentValue=a;break;case 13:if(n=s.memoizedState,n!==null)return n.dehydrated!==null?(at(vt,vt.current&1),s.flags|=128,null):r&s.child.childLanes?Z0(e,s,r):(at(vt,vt.current&1),e=un(e,s,r),e!==null?e.sibling:null);at(vt,vt.current&1);break;case 19:if(n=(r&s.childLanes)!==0,e.flags&128){if(n)return eb(e,s,r);s.flags|=128}if(a=s.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),at(vt,vt.current),n)break;return null;case 22:case 23:return s.lanes=0,J0(e,s,r)}return un(e,s,r)}var tb,dh,sb,rb;tb=function(e,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};dh=function(){};sb=function(e,s,r,n){var a=e.memoizedProps;if(a!==n){e=s.stateNode,ya(Fr.current);var i=null;switch(r){case"input":a=Im(e,a),n=Im(e,n),i=[];break;case"select":a=jt({},a,{value:void 0}),n=jt({},n,{value:void 0}),i=[];break;case"textarea":a=Mm(e,a),n=Mm(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Gc)}Lm(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(rl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(rl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ct("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(s.updateQueue=d)&&(s.flags|=4)}};rb=function(e,s,r,n){r!==n&&(s.flags|=4)};function Ao(e,s){if(!mt)switch(e.tailMode){case"hidden":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function as(e){var s=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(s)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,s}function n_(e,s,r){var n=s.pendingProps;switch(Sf(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return as(s),null;case 1:return As(s.type)&&Kc(),as(s),null;case 3:return n=s.stateNode,Ei(),dt(_s),dt(ds),Of(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(tc(s)?s.flags|=4:e===null||e.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,mr!==null&&(vh(mr),mr=null))),dh(e,s),as(s),null;case 5:If(s);var a=ya(pl.current);if(r=s.type,e!==null&&s.stateNode!=null)sb(e,s,r,n,a),e.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!n){if(s.stateNode===null)throw Error(ne(166));return as(s),null}if(e=ya(Fr.current),tc(s)){n=s.stateNode,r=s.type;var i=s.memoizedProps;switch(n[Rr]=s,n[hl]=i,e=(s.mode&1)!==0,r){case"dialog":ct("cancel",n),ct("close",n);break;case"iframe":case"object":case"embed":ct("load",n);break;case"video":case"audio":for(a=0;a<zo.length;a++)ct(zo[a],n);break;case"source":ct("error",n);break;case"img":case"image":case"link":ct("error",n),ct("load",n);break;case"details":ct("toggle",n);break;case"input":Pg(n,i),ct("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ct("invalid",n);break;case"textarea":Eg(n,i),ct("invalid",n)}Lm(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&ec(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ec(n.textContent,l,e),a=["children",""+l]):rl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ct("scroll",n)}switch(r){case"input":ql(n),Tg(n,i,!0);break;case"textarea":ql(n),Ig(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Gc)}n=a,s.updateQueue=n,n!==null&&(s.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ej(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Rr]=s,e[hl]=n,tb(e,s,!1,!1),s.stateNode=e;e:{switch(o=$m(r,n),r){case"dialog":ct("cancel",e),ct("close",e),a=n;break;case"iframe":case"object":case"embed":ct("load",e),a=n;break;case"video":case"audio":for(a=0;a<zo.length;a++)ct(zo[a],e);a=n;break;case"source":ct("error",e),a=n;break;case"img":case"image":case"link":ct("error",e),ct("load",e),a=n;break;case"details":ct("toggle",e),a=n;break;case"input":Pg(e,n),a=Im(e,n),ct("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=jt({},n,{value:void 0}),ct("invalid",e);break;case"textarea":Eg(e,n),a=Mm(e,n),ct("invalid",e);break;default:a=n}Lm(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Rj(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ij(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&nl(e,c):typeof c=="number"&&nl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(rl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ct("scroll",e):c!=null&&cf(e,i,c,o))}switch(r){case"input":ql(e),Tg(e,n,!1);break;case"textarea":ql(e),Ig(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Kn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?vi(e,!!n.multiple,i,!1):n.defaultValue!=null&&vi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Gc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return as(s),null;case 6:if(e&&s.stateNode!=null)rb(e,s,e.memoizedProps,n);else{if(typeof n!="string"&&s.stateNode===null)throw Error(ne(166));if(r=ya(pl.current),ya(Fr.current),tc(s)){if(n=s.stateNode,r=s.memoizedProps,n[Rr]=s,(i=n.nodeValue!==r)&&(e=Ms,e!==null))switch(e.tag){case 3:ec(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ec(n.nodeValue,r,(e.mode&1)!==0)}i&&(s.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Rr]=s,s.stateNode=n}return as(s),null;case 13:if(dt(vt),n=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(mt&&Rs!==null&&s.mode&1&&!(s.flags&128))b0(),Pi(),s.flags|=98560,i=!1;else if(i=tc(s),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ne(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ne(317));i[Rr]=s}else Pi(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;as(s),i=!1}else mr!==null&&(vh(mr),mr=null),i=!0;if(!i)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(s.child.flags|=8192,s.mode&1&&(e===null||vt.current&1?Ut===0&&(Ut=3):Hf())),s.updateQueue!==null&&(s.flags|=4),as(s),null);case 4:return Ei(),dh(e,s),e===null&&ul(s.stateNode.containerInfo),as(s),null;case 10:return Cf(s.type._context),as(s),null;case 17:return As(s.type)&&Kc(),as(s),null;case 19:if(dt(vt),i=s.memoizedState,i===null)return as(s),null;if(n=(s.flags&128)!==0,o=i.rendering,o===null)if(n)Ao(i,!1);else{if(Ut!==0||e!==null&&e.flags&128)for(e=s.child;e!==null;){if(o=sd(e),o!==null){for(s.flags|=128,Ao(i,!1),n=o.updateQueue,n!==null&&(s.updateQueue=n,s.flags|=4),s.subtreeFlags=0,n=r,r=s.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return at(vt,vt.current&1|2),s.child}e=e.sibling}i.tail!==null&&At()>Oi&&(s.flags|=128,n=!0,Ao(i,!1),s.lanes=4194304)}else{if(!n)if(e=sd(o),e!==null){if(s.flags|=128,n=!0,r=e.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),Ao(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!mt)return as(s),null}else 2*At()-i.renderingStartTime>Oi&&r!==1073741824&&(s.flags|=128,n=!0,Ao(i,!1),s.lanes=4194304);i.isBackwards?(o.sibling=s.child,s.child=o):(r=i.last,r!==null?r.sibling=o:s.child=o,i.last=o)}return i.tail!==null?(s=i.tail,i.rendering=s,i.tail=s.sibling,i.renderingStartTime=At(),s.sibling=null,r=vt.current,at(vt,n?r&1|2:r&1),s):(as(s),null);case 22:case 23:return Wf(),n=s.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(s.flags|=8192),n&&s.mode&1?Es&1073741824&&(as(s),s.subtreeFlags&6&&(s.flags|=8192)):as(s),null;case 24:return null;case 25:return null}throw Error(ne(156,s.tag))}function a_(e,s){switch(Sf(s),s.tag){case 1:return As(s.type)&&Kc(),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return Ei(),dt(_s),dt(ds),Of(),e=s.flags,e&65536&&!(e&128)?(s.flags=e&-65537|128,s):null;case 5:return If(s),null;case 13:if(dt(vt),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(ne(340));Pi()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return dt(vt),null;case 4:return Ei(),null;case 10:return Cf(s.type._context),null;case 22:case 23:return Wf(),null;case 24:return null;default:return null}}var nc=!1,is=!1,i_=typeof WeakSet=="function"?WeakSet:Set,xe=null;function xi(e,s){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){St(e,s,n)}else r.current=null}function uh(e,s,r){try{r()}catch(n){St(e,s,n)}}var bv=!1;function o_(e,s){if(Gm=Hc,e=l0(),wf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,p=null;t:for(;;){for(var h;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===e)break t;if(p===r&&++d===a&&(l=o),p===i&&++u===n&&(c=o),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Km={focusedElem:e,selectionRange:r},Hc=!1,xe=s;xe!==null;)if(s=xe,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,xe=e;else for(;xe!==null;){s=xe;try{var j=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var v=j.memoizedProps,b=j.memoizedState,g=s.stateNode,y=g.getSnapshotBeforeUpdate(s.elementType===s.type?v:lr(s.type,v),b);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=s.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(S){St(s,s.return,S)}if(e=s.sibling,e!==null){e.return=s.return,xe=e;break}xe=s.return}return j=bv,bv=!1,j}function Jo(e,s,r){var n=s.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&uh(s,r,i)}a=a.next}while(a!==n)}}function Dd(e,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==s)}}function mh(e){var s=e.ref;if(s!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof s=="function"?s(e):s.current=e}}function nb(e){var s=e.alternate;s!==null&&(e.alternate=null,nb(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&(delete s[Rr],delete s[hl],delete s[Xm],delete s[Vk],delete s[Wk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ab(e){return e.tag===5||e.tag===3||e.tag===4}function wv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ab(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hh(e,s,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(e,s):r.insertBefore(e,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(e,r)):(s=r,s.appendChild(e)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=Gc));else if(n!==4&&(e=e.child,e!==null))for(hh(e,s,r),e=e.sibling;e!==null;)hh(e,s,r),e=e.sibling}function fh(e,s,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,s?r.insertBefore(e,s):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(fh(e,s,r),e=e.sibling;e!==null;)fh(e,s,r),e=e.sibling}var Jt=null,dr=!1;function Sn(e,s,r){for(r=r.child;r!==null;)ib(e,s,r),r=r.sibling}function ib(e,s,r){if($r&&typeof $r.onCommitFiberUnmount=="function")try{$r.onCommitFiberUnmount(Cd,r)}catch{}switch(r.tag){case 5:is||xi(r,s);case 6:var n=Jt,a=dr;Jt=null,Sn(e,s,r),Jt=n,dr=a,Jt!==null&&(dr?(e=Jt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Jt.removeChild(r.stateNode));break;case 18:Jt!==null&&(dr?(e=Jt,r=r.stateNode,e.nodeType===8?Mu(e.parentNode,r):e.nodeType===1&&Mu(e,r),ll(e)):Mu(Jt,r.stateNode));break;case 4:n=Jt,a=dr,Jt=r.stateNode.containerInfo,dr=!0,Sn(e,s,r),Jt=n,dr=a;break;case 0:case 11:case 14:case 15:if(!is&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&uh(r,s,o),a=a.next}while(a!==n)}Sn(e,s,r);break;case 1:if(!is&&(xi(r,s),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){St(r,s,l)}Sn(e,s,r);break;case 21:Sn(e,s,r);break;case 22:r.mode&1?(is=(n=is)||r.memoizedState!==null,Sn(e,s,r),is=n):Sn(e,s,r);break;default:Sn(e,s,r)}}function Nv(e){var s=e.updateQueue;if(s!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new i_),s.forEach(function(n){var a=x_.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function nr(e,s){var r=s.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=s,l=o;e:for(;l!==null;){switch(l.tag){case 5:Jt=l.stateNode,dr=!1;break e;case 3:Jt=l.stateNode.containerInfo,dr=!0;break e;case 4:Jt=l.stateNode.containerInfo,dr=!0;break e}l=l.return}if(Jt===null)throw Error(ne(160));ib(i,o,a),Jt=null,dr=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){St(a,s,d)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ob(s,e),s=s.sibling}function ob(e,s){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nr(s,e),Er(e),n&4){try{Jo(3,e,e.return),Dd(3,e)}catch(v){St(e,e.return,v)}try{Jo(5,e,e.return)}catch(v){St(e,e.return,v)}}break;case 1:nr(s,e),Er(e),n&512&&r!==null&&xi(r,r.return);break;case 5:if(nr(s,e),Er(e),n&512&&r!==null&&xi(r,r.return),e.flags&32){var a=e.stateNode;try{nl(a,"")}catch(v){St(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Pj(a,i),$m(l,o);var d=$m(l,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?Rj(a,f):u==="dangerouslySetInnerHTML"?Ij(a,f):u==="children"?nl(a,f):cf(a,u,f,d)}switch(l){case"input":Om(a,i);break;case"textarea":Tj(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?vi(a,!!i.multiple,h,!1):p!==!!i.multiple&&(i.defaultValue!=null?vi(a,!!i.multiple,i.defaultValue,!0):vi(a,!!i.multiple,i.multiple?[]:"",!1))}a[hl]=i}catch(v){St(e,e.return,v)}}break;case 6:if(nr(s,e),Er(e),n&4){if(e.stateNode===null)throw Error(ne(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){St(e,e.return,v)}}break;case 3:if(nr(s,e),Er(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ll(s.containerInfo)}catch(v){St(e,e.return,v)}break;case 4:nr(s,e),Er(e);break;case 13:nr(s,e),Er(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Bf=At())),n&4&&Nv(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(is=(d=is)||u,nr(s,e),is=d):nr(s,e),Er(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(xe=e,u=e.child;u!==null;){for(f=xe=u;xe!==null;){switch(p=xe,h=p.child,p.tag){case 0:case 11:case 14:case 15:Jo(4,p,p.return);break;case 1:xi(p,p.return);var j=p.stateNode;if(typeof j.componentWillUnmount=="function"){n=p,r=p.return;try{s=n,j.props=s.memoizedProps,j.state=s.memoizedState,j.componentWillUnmount()}catch(v){St(n,r,v)}}break;case 5:xi(p,p.return);break;case 22:if(p.memoizedState!==null){kv(f);continue}}h!==null?(h.return=p,xe=h):kv(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Oj("display",o))}catch(v){St(e,e.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(v){St(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:nr(s,e),Er(e),n&4&&Nv(e);break;case 21:break;default:nr(s,e),Er(e)}}function Er(e){var s=e.flags;if(s&2){try{e:{for(var r=e.return;r!==null;){if(ab(r)){var n=r;break e}r=r.return}throw Error(ne(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(nl(a,""),n.flags&=-33);var i=wv(e);fh(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=wv(e);hh(e,l,o);break;default:throw Error(ne(161))}}catch(c){St(e,e.return,c)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function l_(e,s,r){xe=e,lb(e)}function lb(e,s,r){for(var n=(e.mode&1)!==0;xe!==null;){var a=xe,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||nc;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||is;l=nc;var d=is;if(nc=o,(is=c)&&!d)for(xe=a;xe!==null;)o=xe,c=o.child,o.tag===22&&o.memoizedState!==null?_v(a):c!==null?(c.return=o,xe=c):_v(a);for(;i!==null;)xe=i,lb(i),i=i.sibling;xe=a,nc=l,is=d}Sv(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,xe=i):Sv(e)}}function Sv(e){for(;xe!==null;){var s=xe;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:is||Dd(5,s);break;case 1:var n=s.stateNode;if(s.flags&4&&!is)if(r===null)n.componentDidMount();else{var a=s.elementType===s.type?r.memoizedProps:lr(s.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=s.updateQueue;i!==null&&lv(s,i,n);break;case 3:var o=s.updateQueue;if(o!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}lv(s,o,r)}break;case 5:var l=s.stateNode;if(r===null&&s.flags&4){r=l;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var d=s.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&ll(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}is||s.flags&512&&mh(s)}catch(p){St(s,s.return,p)}}if(s===e){xe=null;break}if(r=s.sibling,r!==null){r.return=s.return,xe=r;break}xe=s.return}}function kv(e){for(;xe!==null;){var s=xe;if(s===e){xe=null;break}var r=s.sibling;if(r!==null){r.return=s.return,xe=r;break}xe=s.return}}function _v(e){for(;xe!==null;){var s=xe;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{Dd(4,s)}catch(c){St(s,r,c)}break;case 1:var n=s.stateNode;if(typeof n.componentDidMount=="function"){var a=s.return;try{n.componentDidMount()}catch(c){St(s,a,c)}}var i=s.return;try{mh(s)}catch(c){St(s,i,c)}break;case 5:var o=s.return;try{mh(s)}catch(c){St(s,o,c)}}}catch(c){St(s,s.return,c)}if(s===e){xe=null;break}var l=s.sibling;if(l!==null){l.return=s.return,xe=l;break}xe=s.return}}var c_=Math.ceil,ad=gn.ReactCurrentDispatcher,zf=gn.ReactCurrentOwner,Qs=gn.ReactCurrentBatchConfig,Qe=0,Wt=null,Rt=null,Xt=0,Es=0,gi=ta(0),Ut=0,yl=null,Pa=0,Ld=0,Uf=0,Qo=null,ws=null,Bf=0,Oi=1/0,en=null,id=!1,ph=null,Hn=null,ac=!1,$n=null,od=0,Xo=0,xh=null,Ec=-1,Ic=0;function gs(){return Qe&6?At():Ec!==-1?Ec:Ec=At()}function qn(e){return e.mode&1?Qe&2&&Xt!==0?Xt&-Xt:qk.transition!==null?(Ic===0&&(Ic=qj()),Ic):(e=tt,e!==0||(e=window.event,e=e===void 0?16:Zj(e.type)),e):1}function pr(e,s,r,n){if(50<Xo)throw Xo=0,xh=null,Error(ne(185));Cl(e,r,n),(!(Qe&2)||e!==Wt)&&(e===Wt&&(!(Qe&2)&&(Ld|=r),Ut===4&&Mn(e,Xt)),Cs(e,n),r===1&&Qe===0&&!(s.mode&1)&&(Oi=At()+500,Od&&sa()))}function Cs(e,s){var r=e.callbackNode;q2(e,s);var n=Wc(e,e===Wt?Xt:0);if(n===0)r!==null&&Mg(r),e.callbackNode=null,e.callbackPriority=0;else if(s=n&-n,e.callbackPriority!==s){if(r!=null&&Mg(r),s===1)e.tag===0?Hk(Av.bind(null,e)):v0(Av.bind(null,e)),Uk(function(){!(Qe&6)&&sa()}),r=null;else{switch(Yj(n)){case 1:r=ff;break;case 4:r=Wj;break;case 16:r=Vc;break;case 536870912:r=Hj;break;default:r=Vc}r=xb(r,cb.bind(null,e))}e.callbackPriority=s,e.callbackNode=r}}function cb(e,s){if(Ec=-1,Ic=0,Qe&6)throw Error(ne(327));var r=e.callbackNode;if(Ni()&&e.callbackNode!==r)return null;var n=Wc(e,e===Wt?Xt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||s)s=ld(e,n);else{s=n;var a=Qe;Qe|=2;var i=ub();(Wt!==e||Xt!==s)&&(en=null,Oi=At()+500,ba(e,s));do try{m_();break}catch(l){db(e,l)}while(1);Af(),ad.current=i,Qe=a,Rt!==null?s=0:(Wt=null,Xt=0,s=Ut)}if(s!==0){if(s===2&&(a=Vm(e),a!==0&&(n=a,s=gh(e,a))),s===1)throw r=yl,ba(e,0),Mn(e,n),Cs(e,At()),r;if(s===6)Mn(e,n);else{if(a=e.current.alternate,!(n&30)&&!d_(a)&&(s=ld(e,n),s===2&&(i=Vm(e),i!==0&&(n=i,s=gh(e,i))),s===1))throw r=yl,ba(e,0),Mn(e,n),Cs(e,At()),r;switch(e.finishedWork=a,e.finishedLanes=n,s){case 0:case 1:throw Error(ne(345));case 2:ma(e,ws,en);break;case 3:if(Mn(e,n),(n&130023424)===n&&(s=Bf+500-At(),10<s)){if(Wc(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){gs(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Qm(ma.bind(null,e,ws,en),s);break}ma(e,ws,en);break;case 4:if(Mn(e,n),(n&4194240)===n)break;for(s=e.eventTimes,a=-1;0<n;){var o=31-fr(n);i=1<<o,o=s[o],o>a&&(a=o),n&=~i}if(n=a,n=At()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*c_(n/1960))-n,10<n){e.timeoutHandle=Qm(ma.bind(null,e,ws,en),n);break}ma(e,ws,en);break;case 5:ma(e,ws,en);break;default:throw Error(ne(329))}}}return Cs(e,At()),e.callbackNode===r?cb.bind(null,e):null}function gh(e,s){var r=Qo;return e.current.memoizedState.isDehydrated&&(ba(e,s).flags|=256),e=ld(e,s),e!==2&&(s=ws,ws=r,s!==null&&vh(s)),e}function vh(e){ws===null?ws=e:ws.push.apply(ws,e)}function d_(e){for(var s=e;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!vr(i(),a))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Mn(e,s){for(s&=~Uf,s&=~Ld,e.suspendedLanes|=s,e.pingedLanes&=~s,e=e.expirationTimes;0<s;){var r=31-fr(s),n=1<<r;e[r]=-1,s&=~n}}function Av(e){if(Qe&6)throw Error(ne(327));Ni();var s=Wc(e,0);if(!(s&1))return Cs(e,At()),null;var r=ld(e,s);if(e.tag!==0&&r===2){var n=Vm(e);n!==0&&(s=n,r=gh(e,n))}if(r===1)throw r=yl,ba(e,0),Mn(e,s),Cs(e,At()),r;if(r===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=s,ma(e,ws,en),Cs(e,At()),null}function Vf(e,s){var r=Qe;Qe|=1;try{return e(s)}finally{Qe=r,Qe===0&&(Oi=At()+500,Od&&sa())}}function Ta(e){$n!==null&&$n.tag===0&&!(Qe&6)&&Ni();var s=Qe;Qe|=1;var r=Qs.transition,n=tt;try{if(Qs.transition=null,tt=1,e)return e()}finally{tt=n,Qs.transition=r,Qe=s,!(Qe&6)&&sa()}}function Wf(){Es=gi.current,dt(gi)}function ba(e,s){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,zk(r)),Rt!==null)for(r=Rt.return;r!==null;){var n=r;switch(Sf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Kc();break;case 3:Ei(),dt(_s),dt(ds),Of();break;case 5:If(n);break;case 4:Ei();break;case 13:dt(vt);break;case 19:dt(vt);break;case 10:Cf(n.type._context);break;case 22:case 23:Wf()}r=r.return}if(Wt=e,Rt=e=Yn(e.current,null),Xt=Es=s,Ut=0,yl=null,Uf=Ld=Pa=0,ws=Qo=null,va!==null){for(s=0;s<va.length;s++)if(r=va[s],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}va=null}return e}function db(e,s){do{var r=Rt;try{if(Af(),Cc.current=nd,rd){for(var n=yt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}rd=!1}if(Ca=0,Vt=Ft=yt=null,Ko=!1,xl=0,zf.current=null,r===null||r.return===null){Ut=1,yl=s,Rt=null;break}e:{var i=e,o=r.return,l=r,c=s;if(s=Xt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=fv(o);if(h!==null){h.flags&=-257,pv(h,o,l,i,s),h.mode&1&&hv(i,d,s),s=h,c=d;var j=s.updateQueue;if(j===null){var v=new Set;v.add(c),s.updateQueue=v}else j.add(c);break e}else{if(!(s&1)){hv(i,d,s),Hf();break e}c=Error(ne(426))}}else if(mt&&l.mode&1){var b=fv(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),pv(b,o,l,i,s),kf(Ii(c,l));break e}}i=c=Ii(c,l),Ut!==4&&(Ut=2),Qo===null?Qo=[i]:Qo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,s&=-s,i.lanes|=s;var g=Y0(i,c,s);ov(i,g);break e;case 1:l=c;var y=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Hn===null||!Hn.has(x)))){i.flags|=65536,s&=-s,i.lanes|=s;var S=G0(i,l,s);ov(i,S);break e}}i=i.return}while(i!==null)}hb(r)}catch(w){s=w,Rt===r&&r!==null&&(Rt=r=r.return);continue}break}while(1)}function ub(){var e=ad.current;return ad.current=nd,e===null?nd:e}function Hf(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Wt===null||!(Pa&268435455)&&!(Ld&268435455)||Mn(Wt,Xt)}function ld(e,s){var r=Qe;Qe|=2;var n=ub();(Wt!==e||Xt!==s)&&(en=null,ba(e,s));do try{u_();break}catch(a){db(e,a)}while(1);if(Af(),Qe=r,ad.current=n,Rt!==null)throw Error(ne(261));return Wt=null,Xt=0,Ut}function u_(){for(;Rt!==null;)mb(Rt)}function m_(){for(;Rt!==null&&!L2();)mb(Rt)}function mb(e){var s=pb(e.alternate,e,Es);e.memoizedProps=e.pendingProps,s===null?hb(e):Rt=s,zf.current=null}function hb(e){var s=e;do{var r=s.alternate;if(e=s.return,s.flags&32768){if(r=a_(r,s),r!==null){r.flags&=32767,Rt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ut=6,Rt=null;return}}else if(r=n_(r,s,Es),r!==null){Rt=r;return}if(s=s.sibling,s!==null){Rt=s;return}Rt=s=e}while(s!==null);Ut===0&&(Ut=5)}function ma(e,s,r){var n=tt,a=Qs.transition;try{Qs.transition=null,tt=1,h_(e,s,r,n)}finally{Qs.transition=a,tt=n}return null}function h_(e,s,r,n){do Ni();while($n!==null);if(Qe&6)throw Error(ne(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Y2(e,i),e===Wt&&(Rt=Wt=null,Xt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ac||(ac=!0,xb(Vc,function(){return Ni(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Qs.transition,Qs.transition=null;var o=tt;tt=1;var l=Qe;Qe|=4,zf.current=null,o_(e,r),ob(r,e),Ok(Km),Hc=!!Gm,Km=Gm=null,e.current=r,l_(r),$2(),Qe=l,tt=o,Qs.transition=i}else e.current=r;if(ac&&(ac=!1,$n=e,od=a),i=e.pendingLanes,i===0&&(Hn=null),U2(r.stateNode),Cs(e,At()),s!==null)for(n=e.onRecoverableError,r=0;r<s.length;r++)a=s[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(id)throw id=!1,e=ph,ph=null,e;return od&1&&e.tag!==0&&Ni(),i=e.pendingLanes,i&1?e===xh?Xo++:(Xo=0,xh=e):Xo=0,sa(),null}function Ni(){if($n!==null){var e=Yj(od),s=Qs.transition,r=tt;try{if(Qs.transition=null,tt=16>e?16:e,$n===null)var n=!1;else{if(e=$n,$n=null,od=0,Qe&6)throw Error(ne(331));var a=Qe;for(Qe|=4,xe=e.current;xe!==null;){var i=xe,o=i.child;if(xe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(xe=d;xe!==null;){var u=xe;switch(u.tag){case 0:case 11:case 15:Jo(8,u,i)}var f=u.child;if(f!==null)f.return=u,xe=f;else for(;xe!==null;){u=xe;var p=u.sibling,h=u.return;if(nb(u),u===d){xe=null;break}if(p!==null){p.return=h,xe=p;break}xe=h}}}var j=i.alternate;if(j!==null){var v=j.child;if(v!==null){j.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}xe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,xe=o;else e:for(;xe!==null;){if(i=xe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Jo(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,xe=g;break e}xe=i.return}}var y=e.current;for(xe=y;xe!==null;){o=xe;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,xe=x;else e:for(o=y;xe!==null;){if(l=xe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Dd(9,l)}}catch(w){St(l,l.return,w)}if(l===o){xe=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,xe=S;break e}xe=l.return}}if(Qe=a,sa(),$r&&typeof $r.onPostCommitFiberRoot=="function")try{$r.onPostCommitFiberRoot(Cd,e)}catch{}n=!0}return n}finally{tt=r,Qs.transition=s}}return!1}function Cv(e,s,r){s=Ii(r,s),s=Y0(e,s,1),e=Wn(e,s,1),s=gs(),e!==null&&(Cl(e,1,s),Cs(e,s))}function St(e,s,r){if(e.tag===3)Cv(e,e,r);else for(;s!==null;){if(s.tag===3){Cv(s,e,r);break}else if(s.tag===1){var n=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Hn===null||!Hn.has(n))){e=Ii(r,e),e=G0(s,e,1),s=Wn(s,e,1),e=gs(),s!==null&&(Cl(s,1,e),Cs(s,e));break}}s=s.return}}function f_(e,s,r){var n=e.pingCache;n!==null&&n.delete(s),s=gs(),e.pingedLanes|=e.suspendedLanes&r,Wt===e&&(Xt&r)===r&&(Ut===4||Ut===3&&(Xt&130023424)===Xt&&500>At()-Bf?ba(e,0):Uf|=r),Cs(e,s)}function fb(e,s){s===0&&(e.mode&1?(s=Kl,Kl<<=1,!(Kl&130023424)&&(Kl=4194304)):s=1);var r=gs();e=dn(e,s),e!==null&&(Cl(e,s,r),Cs(e,r))}function p_(e){var s=e.memoizedState,r=0;s!==null&&(r=s.retryLane),fb(e,r)}function x_(e,s){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ne(314))}n!==null&&n.delete(s),fb(e,r)}var pb;pb=function(e,s,r){if(e!==null)if(e.memoizedProps!==s.pendingProps||_s.current)Ss=!0;else{if(!(e.lanes&r)&&!(s.flags&128))return Ss=!1,r_(e,s,r);Ss=!!(e.flags&131072)}else Ss=!1,mt&&s.flags&1048576&&y0(s,Xc,s.index);switch(s.lanes=0,s.tag){case 2:var n=s.type;Tc(e,s),e=s.pendingProps;var a=Ci(s,ds.current);wi(s,r),a=Mf(null,s,n,e,a,r);var i=Df();return s.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,As(n)?(i=!0,Jc(s)):i=!1,s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Tf(s),a.updater=Md,s.stateNode=a,a._reactInternals=s,nh(s,n,e,r),s=oh(null,s,n,!0,i,r)):(s.tag=0,mt&&i&&Nf(s),ps(null,s,a,r),s=s.child),s;case 16:n=s.elementType;e:{switch(Tc(e,s),e=s.pendingProps,a=n._init,n=a(n._payload),s.type=n,a=s.tag=v_(n),e=lr(n,e),a){case 0:s=ih(null,s,n,e,r);break e;case 1:s=vv(null,s,n,e,r);break e;case 11:s=xv(null,s,n,e,r);break e;case 14:s=gv(null,s,n,lr(n.type,e),r);break e}throw Error(ne(306,n,""))}return s;case 0:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:lr(n,a),ih(e,s,n,a,r);case 1:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:lr(n,a),vv(e,s,n,a,r);case 3:e:{if(X0(s),e===null)throw Error(ne(387));n=s.pendingProps,i=s.memoizedState,a=i.element,k0(e,s),td(s,n,null,r);var o=s.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},s.updateQueue.baseState=i,s.memoizedState=i,s.flags&256){a=Ii(Error(ne(423)),s),s=yv(e,s,n,r,a);break e}else if(n!==a){a=Ii(Error(ne(424)),s),s=yv(e,s,n,r,a);break e}else for(Rs=Vn(s.stateNode.containerInfo.firstChild),Ms=s,mt=!0,mr=null,r=N0(s,null,n,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Pi(),n===a){s=un(e,s,r);break e}ps(e,s,n,r)}s=s.child}return s;case 5:return _0(s),e===null&&th(s),n=s.type,a=s.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Jm(n,a)?o=null:i!==null&&Jm(n,i)&&(s.flags|=32),Q0(e,s),ps(e,s,o,r),s.child;case 6:return e===null&&th(s),null;case 13:return Z0(e,s,r);case 4:return Ef(s,s.stateNode.containerInfo),n=s.pendingProps,e===null?s.child=Ti(s,null,n,r):ps(e,s,n,r),s.child;case 11:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:lr(n,a),xv(e,s,n,a,r);case 7:return ps(e,s,s.pendingProps,r),s.child;case 8:return ps(e,s,s.pendingProps.children,r),s.child;case 12:return ps(e,s,s.pendingProps.children,r),s.child;case 10:e:{if(n=s.type._context,a=s.pendingProps,i=s.memoizedProps,o=a.value,at(Zc,n._currentValue),n._currentValue=o,i!==null)if(vr(i.value,o)){if(i.children===a.children&&!_s.current){s=un(e,s,r);break e}}else for(i=s.child,i!==null&&(i.return=s);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=an(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),sh(i.return,r,s),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===s.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ne(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),sh(o,r,s),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===s){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ps(e,s,a.children,r),s=s.child}return s;case 9:return a=s.type,n=s.pendingProps.children,wi(s,r),a=er(a),n=n(a),s.flags|=1,ps(e,s,n,r),s.child;case 14:return n=s.type,a=lr(n,s.pendingProps),a=lr(n.type,a),gv(e,s,n,a,r);case 15:return K0(e,s,s.type,s.pendingProps,r);case 17:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:lr(n,a),Tc(e,s),s.tag=1,As(n)?(e=!0,Jc(s)):e=!1,wi(s,r),q0(s,n,a),nh(s,n,a,r),oh(null,s,n,!0,e,r);case 19:return eb(e,s,r);case 22:return J0(e,s,r)}throw Error(ne(156,s.tag))};function xb(e,s){return Vj(e,s)}function g_(e,s,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Js(e,s,r,n){return new g_(e,s,r,n)}function qf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function v_(e){if(typeof e=="function")return qf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uf)return 11;if(e===mf)return 14}return 2}function Yn(e,s){var r=e.alternate;return r===null?(r=Js(e.tag,s,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=s,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,s=e.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Oc(e,s,r,n,a,i){var o=2;if(n=e,typeof e=="function")qf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case oi:return wa(r.children,a,i,s);case df:o=8,a|=8;break;case Cm:return e=Js(12,r,s,a|2),e.elementType=Cm,e.lanes=i,e;case Pm:return e=Js(13,r,s,a),e.elementType=Pm,e.lanes=i,e;case Tm:return e=Js(19,r,s,a),e.elementType=Tm,e.lanes=i,e;case _j:return $d(r,a,i,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Sj:o=10;break e;case kj:o=9;break e;case uf:o=11;break e;case mf:o=14;break e;case En:o=16,n=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return s=Js(o,r,s,a),s.elementType=e,s.type=n,s.lanes=i,s}function wa(e,s,r,n){return e=Js(7,e,n,s),e.lanes=r,e}function $d(e,s,r,n){return e=Js(22,e,n,s),e.elementType=_j,e.lanes=r,e.stateNode={isHidden:!1},e}function Vu(e,s,r){return e=Js(6,e,null,s),e.lanes=r,e}function Wu(e,s,r){return s=Js(4,e.children!==null?e.children:[],e.key,s),s.lanes=r,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function y_(e,s,r,n,a){this.tag=s,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Su(0),this.expirationTimes=Su(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Su(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Yf(e,s,r,n,a,i,o,l,c){return e=new y_(e,s,r,l,c),s===1?(s=1,i===!0&&(s|=8)):s=0,i=Js(3,null,null,s),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tf(i),e}function j_(e,s,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ii,key:n==null?null:""+n,children:e,containerInfo:s,implementation:r}}function gb(e){if(!e)return Jn;e=e._reactInternals;e:{if(Ua(e)!==e||e.tag!==1)throw Error(ne(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(As(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(ne(171))}if(e.tag===1){var r=e.type;if(As(r))return g0(e,r,s)}return s}function vb(e,s,r,n,a,i,o,l,c){return e=Yf(r,n,!0,e,a,i,o,l,c),e.context=gb(null),r=e.current,n=gs(),a=qn(r),i=an(n,a),i.callback=s??null,Wn(r,i,a),e.current.lanes=a,Cl(e,a,n),Cs(e,n),e}function Fd(e,s,r,n){var a=s.current,i=gs(),o=qn(a);return r=gb(r),s.context===null?s.context=r:s.pendingContext=r,s=an(i,o),s.payload={element:e},n=n===void 0?null:n,n!==null&&(s.callback=n),e=Wn(a,s,o),e!==null&&(pr(e,a,o,i),Ac(e,a,o)),o}function cd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pv(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<s?r:s}}function Gf(e,s){Pv(e,s),(e=e.alternate)&&Pv(e,s)}function b_(){return null}var yb=typeof reportError=="function"?reportError:function(e){console.error(e)};function Kf(e){this._internalRoot=e}zd.prototype.render=Kf.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(ne(409));Fd(e,s,null,null)};zd.prototype.unmount=Kf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;Ta(function(){Fd(null,e,null,null)}),s[cn]=null}};function zd(e){this._internalRoot=e}zd.prototype.unstable_scheduleHydration=function(e){if(e){var s=Jj();e={blockedOn:null,target:e,priority:s};for(var r=0;r<Rn.length&&s!==0&&s<Rn[r].priority;r++);Rn.splice(r,0,e),r===0&&Xj(e)}};function Jf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ud(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Tv(){}function w_(e,s,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=cd(o);i.call(d)}}var o=vb(s,n,e,0,null,!1,!1,"",Tv);return e._reactRootContainer=o,e[cn]=o.current,ul(e.nodeType===8?e.parentNode:e),Ta(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=cd(c);l.call(d)}}var c=Yf(e,0,!1,null,null,!1,!1,"",Tv);return e._reactRootContainer=c,e[cn]=c.current,ul(e.nodeType===8?e.parentNode:e),Ta(function(){Fd(s,c,r,n)}),c}function Bd(e,s,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=cd(o);l.call(c)}}Fd(s,o,e,a)}else o=w_(r,s,e,a,n);return cd(o)}Gj=function(e){switch(e.tag){case 3:var s=e.stateNode;if(s.current.memoizedState.isDehydrated){var r=Fo(s.pendingLanes);r!==0&&(pf(s,r|1),Cs(s,At()),!(Qe&6)&&(Oi=At()+500,sa()))}break;case 13:Ta(function(){var n=dn(e,1);if(n!==null){var a=gs();pr(n,e,1,a)}}),Gf(e,1)}};xf=function(e){if(e.tag===13){var s=dn(e,134217728);if(s!==null){var r=gs();pr(s,e,134217728,r)}Gf(e,134217728)}};Kj=function(e){if(e.tag===13){var s=qn(e),r=dn(e,s);if(r!==null){var n=gs();pr(r,e,s,n)}Gf(e,s)}};Jj=function(){return tt};Qj=function(e,s){var r=tt;try{return tt=e,s()}finally{tt=r}};zm=function(e,s,r){switch(s){case"input":if(Om(e,r),s=r.name,r.type==="radio"&&s!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var n=r[s];if(n!==e&&n.form===e.form){var a=Id(n);if(!a)throw Error(ne(90));Cj(n),Om(n,a)}}}break;case"textarea":Tj(e,r);break;case"select":s=r.value,s!=null&&vi(e,!!r.multiple,s,!1)}};Lj=Vf;$j=Ta;var N_={usingClientEntryPoint:!1,Events:[Tl,ui,Id,Mj,Dj,Vf]},Co={findFiberByHostInstance:ga,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},S_={bundleType:Co.bundleType,version:Co.version,rendererPackageName:Co.rendererPackageName,rendererConfig:Co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Uj(e),e===null?null:e.stateNode},findFiberByHostInstance:Co.findFiberByHostInstance||b_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{Cd=ic.inject(S_),$r=ic}catch{}}Us.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N_;Us.createPortal=function(e,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jf(s))throw Error(ne(200));return j_(e,s,null,r)};Us.createRoot=function(e,s){if(!Jf(e))throw Error(ne(299));var r=!1,n="",a=yb;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(n=s.identifierPrefix),s.onRecoverableError!==void 0&&(a=s.onRecoverableError)),s=Yf(e,1,!1,null,null,r,!1,n,a),e[cn]=s.current,ul(e.nodeType===8?e.parentNode:e),new Kf(s)};Us.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=Uj(s),e=e===null?null:e.stateNode,e};Us.flushSync=function(e){return Ta(e)};Us.hydrate=function(e,s,r){if(!Ud(s))throw Error(ne(200));return Bd(null,e,s,!0,r)};Us.hydrateRoot=function(e,s,r){if(!Jf(e))throw Error(ne(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=yb;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),s=vb(s,null,e,1,r??null,a,!1,i,o),e[cn]=s.current,ul(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,a]:s.mutableSourceEagerHydrationData.push(r,a);return new zd(s)};Us.render=function(e,s,r){if(!Ud(s))throw Error(ne(200));return Bd(null,e,s,!1,r)};Us.unmountComponentAtNode=function(e){if(!Ud(e))throw Error(ne(40));return e._reactRootContainer?(Ta(function(){Bd(null,null,e,!1,function(){e._reactRootContainer=null,e[cn]=null})}),!0):!1};Us.unstable_batchedUpdates=Vf;Us.unstable_renderSubtreeIntoContainer=function(e,s,r,n){if(!Ud(r))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return Bd(e,s,r,!1,n)};Us.version="18.3.1-next-f1338f8080-20240426";function jb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jb)}catch(e){console.error(e)}}jb(),jj.exports=Us;var Gi=jj.exports;const bb=oj(Gi);var Ev=Gi;_m.createRoot=Ev.createRoot,_m.hydrateRoot=Ev.hydrateRoot;const Iv=768;function ms(){const[e,s]=m.useState(void 0);return m.useEffect(()=>{const r=()=>{const i=window.innerWidth,o=window.innerHeight,l=navigator.userAgent,c=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(l),d=i<Iv,u="ontouchstart"in window||navigator.maxTouchPoints>0,f=c||d||u&&i<1024;return console.log("Mobile detection:",{width:i,height:o,userAgent:l.substring(0,50)+"...",isMobileDevice:c,isMobileSize:d,isTouchDevice:u,result:f}),f},n=()=>{s(r())};s(r());const a=window.matchMedia(`(max-width: ${Iv-1}px)`);return a.addEventListener("change",n),window.addEventListener("resize",n),window.addEventListener("orientationchange",n),()=>{a.removeEventListener("change",n),window.removeEventListener("resize",n),window.removeEventListener("orientationchange",n)}},[]),!!e}const wb=m.createContext(void 0),Nb=()=>{try{const e=localStorage.getItem("handoff-pre-questionnaire");if(e){const s=JSON.parse(e);return s.hasExistingHome===!0&&s.isUnderContract===!0}}catch(e){console.warn("Error parsing pre-questionnaire data:",e)}return!1},Hu=()=>{try{const e=localStorage.getItem("handoff-property-data");if(e)return JSON.parse(e);const s=localStorage.getItem("handoff-questionnaire-responses");if(s)return JSON.parse(s)}catch(e){console.warn("Error parsing property data:",e)}return null},qu=e=>{const s=Nb(),r=new Date,n=d=>d.toISOString().split("T")[0],a=e.targetClosingDate?new Date(e.targetClosingDate):new Date(r.getTime()+45*24*60*60*1e3),i=Math.ceil((a.getTime()-r.getTime())/(1e3*60*60*24)),o=d=>{const u=new Date(a);return u.setDate(u.getDate()-d),n(u)},l=d=>{const u=new Date(r);return u.setDate(u.getDate()+d),n(u)},c=[];return c.push({id:"search-questionnaire",title:"Complete Property Questionnaire",description:"Define your home preferences, must-have features, and budget requirements",category:"search",subcategory:"general",priority:"high",status:"completed",completedDate:n(r),estimatedTime:"30-45 minutes",assignedTo:"You",linkedPage:"property",actionLabel:"View Questionnaire",propertySpecific:!0}),c.push({id:"search-preapproval",title:"Get Mortgage Pre-Approval",description:`Obtain pre-approval for ${e.mortgageType||"conventional"} mortgage up to your target amount`,category:"search",subcategory:"financing",priority:"high",status:s?"completed":e.hasLender?"in-progress":"active",dueDate:s?void 0:l(7),completedDate:s?l(-20):void 0,estimatedTime:"3-5 business days",assignedTo:e.hasLender?e.lenderContactName||"Your Lender":"You",linkedPage:"financing",actionLabel:"Start Pre-Approval",propertySpecific:!0}),s&&(c.push({id:"offer-select-lawyer",title:"Select Real Estate Attorney",description:"Choose and retain qualified real estate attorney for closing",category:"offer",subcategory:"legal",priority:"high",status:e.hasAttorney?"completed":"active",dueDate:e.hasAttorney?void 0:l(3),completedDate:e.hasAttorney?l(-10):void 0,estimatedTime:"2-3 hours",assignedTo:"You",linkedPage:"legal",actionLabel:"Find Attorney",propertySpecific:!0,instructions:{overview:"A qualified real estate attorney will protect your interests throughout the transaction, review contracts, handle title issues, and ensure a smooth closing.",steps:[{step:1,title:"Get Referrals",description:"Ask your real estate agent, lender, or friends for attorney recommendations",action:"Contact your agent for a list of recommended attorneys in your area",duration:"30 minutes"},{step:2,title:"Research Candidates",description:"Look up each attorney's credentials, experience, and reviews online",action:"Check state bar website, Google reviews, and Better Business Bureau",duration:"1 hour"},{step:3,title:"Interview Attorneys",description:"Call 2-3 attorneys to discuss your transaction and ask about fees",action:"Schedule brief consultations to assess communication style and expertise",duration:"1-2 hours",important:!0},{step:4,title:"Make Your Selection",description:"Choose an attorney and sign retainer agreement",action:"Review and sign the engagement letter, pay any required retainer",duration:"30 minutes"}],requiredDocuments:["Purchase agreement (to discuss with attorney)","Property address and details","Timeline and closing date"],contacts:[{name:"Your Real Estate Agent",role:"Referral Source",when:"For initial recommendations"}],tips:["Choose an attorney experienced in your local area","Ask about flat fees vs. hourly rates for closing services","Ensure they can meet your closing timeline","Verify they carry professional liability insurance","Ask about their communication preferences and response time"],nextSteps:["Provide attorney with purchase agreement once signed","Schedule regular check-ins during the transaction","Attorney will order title search and review all documents"],timeline:"Complete within 3 days of offer acceptance",cost:"$800-$2,000 for closing services",whatToExpect:"Initial consultation (often free), review of retainer agreement, discussion of services included, and establishment of communication protocols."}}),c.push({id:"diligence-mortgage-application",title:"Submit Full Mortgage Application",description:"Complete formal mortgage application with financial documents",category:"diligence",subcategory:"financing",priority:"high",status:"upcoming",dueDate:o(i>25?18:Math.max(2,i-10)),estimatedTime:"1-2 days",assignedTo:"You & Lender",linkedPage:"financing",actionLabel:"Submit Application",propertySpecific:!0,instructions:{overview:"The formal mortgage application is your official request for a loan. All information must be accurate and complete to avoid delays in underwriting.",steps:[{step:1,title:"Gather Required Documents",description:"Collect all financial documents needed for the application",action:"Use the lender's document checklist to gather all required paperwork",duration:"2-3 hours",important:!0},{step:2,title:"Complete Application Form",description:"Fill out the Uniform Residential Loan Application (Form 1003)",action:"Work with your loan officer to complete all sections accurately",duration:"1-2 hours"},{step:3,title:"Review Before Signing",description:"Carefully review all information for accuracy",action:"Double-check all names, addresses, employment, and financial information",duration:"30 minutes",important:!0},{step:4,title:"Submit Application",description:"Sign and submit application with all supporting documents",action:"Submit via lender's preferred method (online portal, email, or in-person)",duration:"30 minutes"},{step:5,title:"Pay Application Fee",description:"Pay required application and credit report fees",action:"Submit payment as instructed by lender (typically $300-$500)",duration:"15 minutes"}],requiredDocuments:["Photo ID (driver's license or passport)","Social Security card","Pay stubs (last 2-3)","W-2 forms (last 2 years)","Tax returns (last 2 years)","Bank statements (last 2 months)","Investment account statements","Employment verification letter","Purchase agreement","Proof of down payment source"],contacts:[{name:"Your Loan Officer",role:"Primary Contact",when:"For application assistance and questions"},{name:"Loan Processor",role:"Document Review",when:"For document requirements and status updates"}],tips:["Be completely honest and accurate - discrepancies can delay approval","Don't apply for new credit during the loan process","Keep copies of everything you submit","Respond quickly to any lender requests for additional information","Don't make large deposits without explaining the source","Keep your employment stable - avoid job changes if possible"],nextSteps:["Lender will order appraisal","Underwriter will review your application","You may receive requests for additional documentation","Loan processor will update you on status","Expect final approval 2-3 weeks after submission"],timeline:"Complete within 5 days of contract acceptance",cost:"Application fee: $300-$500, Appraisal fee: $400-$600",whatToExpect:"Initial review within 24-48 hours, possible requests for additional documents, and regular status updates from your loan processor."}}),c.push({id:"diligence-schedule-inspection",title:`Schedule Home Inspection for ${e.address||"Property"}`,description:"Book professional home inspection within contingency period",category:"diligence",subcategory:"inspections",priority:"high",status:"active",dueDate:o(i>15?10:3),estimatedTime:"3-4 hours",assignedTo:"You & Inspector",linkedPage:"inspections",actionLabel:"Schedule Inspection",propertySpecific:!0,instructions:{overview:"A professional home inspection is crucial for identifying potential issues with the property before you finalize the purchase. This protects your investment and gives you negotiating power.",steps:[{step:1,title:"Find Qualified Inspectors",description:"Research and contact 2-3 licensed home inspectors",action:"Get referrals from your agent, check online reviews, and verify licenses",duration:"1 hour"},{step:2,title:"Compare Inspectors",description:"Ask about experience, certifications, and what's included",action:"Compare quotes, ask about report turnaround time and follow-up policies",duration:"30 minutes",important:!0},{step:3,title:"Schedule Inspection",description:"Book inspection within your contingency period",action:"Schedule for a date that allows time to review results and negotiate",duration:"15 minutes"},{step:4,title:"Prepare for Inspection",description:"Ensure utilities are on and property is accessible",action:"Coordinate with seller's agent to ensure power, water, and gas are on",duration:"30 minutes"},{step:5,title:"Attend Inspection",description:"Be present during the inspection to ask questions",action:"Follow inspector, take notes, ask about any concerns you observe",duration:"3-4 hours",important:!0}],requiredDocuments:["Purchase agreement (to verify inspection contingency period)","Property address and access information","Seller's disclosure statement","Any previous inspection reports (if available)"],contacts:[{name:"Your Real Estate Agent",role:"Coordinator",when:"For inspector referrals and scheduling coordination"},{name:"Seller's Agent",role:"Property Access",when:"To arrange property access and utility confirmation"},{name:"Home Inspector",role:"Primary Service Provider",when:"For scheduling and conducting the inspection"}],tips:["Schedule as early as possible within your contingency period","Choose an inspector who belongs to professional organizations (ASHI, InterNACHI)","Ask if the inspector carries errors & omissions insurance","Verify the inspector will test all major systems","Plan to attend the entire inspection - don't just rely on the report","Bring a flashlight and wear appropriate clothing","Take photos of any issues the inspector identifies"],nextSteps:["Receive detailed inspection report within 24-48 hours","Review report with your real estate agent","Decide whether to request repairs, credits, or walk away","Submit formal response to seller within contingency period","Consider additional specialized inspections if issues are found"],timeline:"Schedule within 3-5 days of contract acceptance, complete within contingency period",cost:"$400-$800 depending on property size and location",whatToExpect:"Inspector will examine all accessible areas, test major systems, and provide a detailed report with photos. Inspection typically takes 3-4 hours for an average home."}}),c.push({id:"pre-closing-find-insurance",title:"Find Homeowners Insurance Coverage",description:`Obtain homeowners insurance quotes for ${e.address||"the property"}`,category:"pre-closing",subcategory:"insurance",priority:"high",status:"upcoming",dueDate:o(i>15?10:Math.max(3,i-5)),estimatedTime:"2-3 hours",assignedTo:"You & Insurance Agent",linkedPage:"insurance",actionLabel:"Get Quotes",propertySpecific:!0,instructions:{overview:"Homeowners insurance is required by your lender and protects your investment. Shop around for the best coverage and rates before closing.",steps:[{step:1,title:"Gather Property Information",description:"Collect detailed information about the property for quotes",action:"Compile property details, square footage, construction type, and features",duration:"30 minutes"},{step:2,title:"Research Insurance Companies",description:"Identify reputable insurance companies and agents",action:"Get referrals and check financial ratings (A.M. Best, Standard & Poor's)",duration:"45 minutes"},{step:3,title:"Request Multiple Quotes",description:"Contact 3-5 insurance companies for quotes",action:"Provide same information to each company for accurate comparison",duration:"1-2 hours",important:!0},{step:4,title:"Compare Coverage Options",description:"Review coverage types, limits, and deductibles",action:"Compare dwelling coverage, personal property, liability, and additional coverages",duration:"1 hour"},{step:5,title:"Select Best Policy",description:"Choose policy that provides best value and coverage",action:"Consider price, coverage, deductibles, and company reputation",duration:"30 minutes",important:!0}],requiredDocuments:["Property address and legal description","Property details (square footage, age, construction type)","Home inspection report (if available)","Security system information","Previous insurance claims history"],contacts:[{name:"Insurance Agents",role:"Quote Providers",when:"For obtaining quotes and coverage options"},{name:"Your Lender",role:"Requirements Specialist",when:"To confirm minimum coverage requirements"},{name:"Current Insurance Agent",role:"Existing Relationship",when:"For potential bundle discounts and quotes"}],tips:["Shop around - prices can vary significantly","Consider bundling with auto insurance for discounts","Ask about discounts (security systems, smoke detectors, etc.)","Understand the difference between replacement cost and actual cash value","Consider umbrella liability coverage for additional protection","Review and understand all policy exclusions","Ensure coverage meets lender requirements","Factor insurance costs into your monthly housing budget"],nextSteps:["Purchase selected policy before closing","Provide insurance binder to lender","Set up automatic payments if desired","Schedule annual policy reviews","Update policy for any home improvements"],timeline:"Start shopping 2-3 weeks before closing, finalize 1 week before",cost:"$800-$2,000+ annually depending on property value and location",whatToExpect:"Multiple agent consultations, detailed property questions, and comprehensive coverage proposals with various options and pricing."}}),c.push({id:"pre-closing-walkthrough-schedule",title:"Schedule Final Walkthrough",description:"Schedule final property inspection 24-48 hours before closing",category:"pre-closing",subcategory:"inspections",priority:"high",status:"upcoming",dueDate:o(3),estimatedTime:"30 minutes to schedule",assignedTo:e.realtorName||"Your Agent",linkedPage:"inspections",actionLabel:"Schedule Walkthrough",propertySpecific:!0,instructions:{overview:"The final walkthrough is your last chance to verify the property is in the agreed-upon condition before closing. This is not a second inspection, but a verification that nothing has changed.",steps:[{step:1,title:"Schedule Walkthrough",description:"Coordinate walkthrough 24-48 hours before closing",action:"Work with agents to schedule convenient time for all parties",duration:"15 minutes"},{step:2,title:"Prepare Walkthrough Checklist",description:"Create systematic checklist for property review",action:"Include all rooms, systems, and agreed-upon repairs",duration:"30 minutes"},{step:3,title:"Conduct Walkthrough",description:"Systematically inspect entire property",action:"Check all rooms, test systems, verify repairs completed",duration:"1-2 hours",important:!0},{step:4,title:"Test All Systems",description:"Verify electrical, plumbing, HVAC, and appliances work",action:"Turn on lights, run water, test heating/cooling, check appliances",duration:"30 minutes"},{step:5,title:"Document Any Issues",description:"Note any problems or incomplete items",action:"Take photos and create detailed list of any concerns",duration:"15 minutes"},{step:6,title:"Address Issues Before Closing",description:"Resolve any problems found during walkthrough",action:"Negotiate solutions with seller before proceeding to closing",duration:"Variable"}],requiredDocuments:["Purchase agreement with repair addendum","Home inspection report for reference","Walkthrough checklist","Camera for documentation"],contacts:[{name:"Your Real Estate Agent",role:"Walkthrough Coordinator",when:"For scheduling and conducting walkthrough"},{name:"Seller's Agent",role:"Property Access",when:"To coordinate access and address any issues"}],tips:["Bring a copy of your original inspection report","Test every light switch, faucet, and appliance","Check that agreed-upon repairs are complete and satisfactory","Verify all personal property remains that was included in sale","Ensure no new damage has occurred since inspection","Don't rush - take your time to be thorough","Bring a flashlight to check dark areas","Take photos of any issues for documentation"],nextSteps:["If everything is satisfactory, proceed to closing","If issues are found, negotiate resolution before closing","Consider holding funds in escrow for unresolved items","Document all agreements in writing","Inform your attorney of any last-minute issues"],timeline:"Schedule 2-3 days before closing, conduct 24-48 hours before",cost:"No cost (part of transaction process)",whatToExpect:"Thorough walk-through of entire property to verify condition and completion of any agreed-upon repairs or conditions."}})),c.map(d=>d.dueDate&&d.status!=="completed"&&new Date(d.dueDate)<r?{...d,status:"overdue"}:d)},oc=(e,s)=>{const r=Nb(),n=[{id:"phase-search",title:"Search & Pre-Approval",description:"Complete questionnaire and get pre-approved for financing",status:"completed",tasks:[],order:1,estimatedDuration:"1-2 weeks",keyMilestones:["Questionnaire complete","Pre-approval obtained"]},{id:"phase-offer",title:r?"Offer Accepted":"Make Offer",description:r?"Your offer has been accepted":"Submit offers and negotiate terms",status:r?"completed":"active",tasks:[],order:2,estimatedDuration:r?"Complete":"1-4 weeks",keyMilestones:r?["Offer submitted","Terms negotiated","Contract signed"]:["Property found","Offer submitted","Terms negotiated"]},{id:"phase-diligence",title:"Due Diligence",description:"Complete financing, legal, and inspection requirements",status:r?"active":"upcoming",tasks:[],order:3,estimatedDuration:"3-6 weeks",keyMilestones:["Financing approved","Title clear","Inspections complete"]},{id:"phase-pre-closing",title:"Pre-Closing Preparation",description:"Final walkthrough and insurance arrangements",status:"upcoming",tasks:[],order:4,estimatedDuration:"1 week",keyMilestones:["Insurance secured","Final walkthrough","Funds ready"]},{id:"phase-closing",title:"Closing Day",description:"Complete the purchase and receive keys",status:"upcoming",tasks:[],order:5,estimatedDuration:"1 day",keyMilestones:["Documents signed","Funds transferred","Keys received"]}];return e.forEach(a=>{const i=n.findIndex(o=>o.id===`phase-${a.category}`);i!==-1&&n[i].tasks.push(a)}),n.forEach(a=>{const i=a.tasks.filter(l=>l.status==="completed").length,o=a.tasks.length;o===0?a.status="upcoming":i===o?a.status="completed":i>0||a.tasks.some(l=>l.status==="active"||l.status==="in-progress")?a.status="active":a.status="upcoming"}),n};function k_({children:e,userProfile:s}){const[r,n]=m.useState([]),[a,i]=m.useState([]);m.useEffect(()=>{const O=Hu(),I=qu(O||{}),_=oc(I);n(I),i(_)},[s]),m.useEffect(()=>{const O=I=>{const _=I.detail;o(_)};return window.addEventListener("propertyDataUpdated",O),()=>{window.removeEventListener("propertyDataUpdated",O)}},[]),m.useEffect(()=>{const O=()=>{const I=Hu();if(I){const _=qu(I),A=oc(_);n(_),i(A)}};return window.addEventListener("storage",O),()=>window.removeEventListener("storage",O)},[]);const o=O=>{const I=qu(O),_=oc(I);n(I),i(_)},l=()=>r.length,c=()=>r.filter(O=>O.status==="pending"||O.status==="in-progress"||O.status==="overdue"||O.status==="active"||O.status==="upcoming").length,d=()=>r.filter(O=>O.status==="completed").length,u=()=>d(),T={tasks:r,taskPhases:a,getTotalTasksCount:l,getTotalDueTasks:c,getCompletedTasks:d,getCompletedTasksCount:u,getActiveTasksCount:()=>r.filter(O=>O.status==="active"||O.status==="in-progress").length,getOverallProgress:()=>{const O=l(),I=u();return O>0?I/O*100:0},getTasksByCategory:O=>r.filter(I=>I.category===O||I.subcategory===O||I.category===O.toLowerCase()||I.subcategory===O.toLowerCase()),getActiveTasksByCategory:O=>r.filter(I=>{var _;return(I.category.toLowerCase()===O.toLowerCase()||((_=I.subcategory)==null?void 0:_.toLowerCase())===O.toLowerCase())&&(I.status==="active"||I.status==="in-progress")}),getTasksByStatus:O=>r.filter(I=>I.status===O),getHighPriorityTasks:()=>r.filter(O=>O.priority==="high"&&(O.status==="pending"||O.status==="in-progress"||O.status==="overdue"||O.status==="active")),updateTaskStatus:(O,I)=>{n(_=>_.map(A=>{if(A.id===O){const R={...A,status:I};return I==="completed"&&!A.completedDate?R.completedDate=new Date().toISOString().split("T")[0]:I!=="completed"&&(R.completedDate=void 0),R}return A})),setTimeout(()=>{Hu();const _=r.map(R=>R.id===O?{...R,status:I,completedDate:I==="completed"?new Date().toISOString().split("T")[0]:void 0}:R),A=oc(_);i(A)},100)},addTask:O=>{const I={...O,id:`custom-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,userCustomized:!0};n(_=>[..._,I])},updateTask:(O,I)=>{n(_=>_.map(A=>A.id===O?{...A,...I}:A))},deleteTask:O=>{n(I=>I.filter(_=>_.id!==O))},getUpcomingTasks:(O=7)=>{const I=new Date;return I.setDate(I.getDate()+O),r.filter(_=>!_.dueDate||_.status==="completed"?!1:new Date(_.dueDate)<=I&&(_.status==="pending"||_.status==="in-progress"||_.status==="active"||_.status==="upcoming"))},getOverdueTasks:()=>{const O=new Date;return r.filter(I=>!I.dueDate||I.status==="completed"?!1:new Date(I.dueDate)<O)},generatePersonalizedTasks:o,getTasksByPhase:O=>{const I=a.find(_=>_.id===O);return I?I.tasks:[]},getNextActionableTasks:()=>r.filter(O=>O.status==="active"||O.status==="in-progress").sort((O,I)=>{const _={high:3,medium:2,low:1},A=_[I.priority]-_[O.priority];return A!==0?A:O.dueDate&&I.dueDate?new Date(O.dueDate).getTime()-new Date(I.dueDate).getTime():0}).slice(0,5),getTasksNeedingAttention:()=>{const O=new Date;return r.filter(I=>{if(I.status==="overdue")return!0;if(I.dueDate&&I.status!=="completed"){const _=new Date(I.dueDate),A=Math.ceil((_.getTime()-O.getTime())/(1e3*60*60*24));return A<=3&&A>=0}return!1})}};return t.jsx(wb.Provider,{value:T,children:e})}function __(){const e=m.useContext(wb);if(e===void 0)throw new Error("useTaskContext must be used within a TaskProvider");return e}const Sb=m.createContext(void 0),qa={address:"",city:"",state:"",zipCode:"",price:"",homeType:"",bedrooms:"",bathrooms:"",squareFootage:"",lotSize:"",yearBuilt:"",targetClosingDate:"",moveInDate:"",currentLeaseEnd:"",mustHaveFeatures:[],locationPriorities:[],maxCommuteTime:"",workAddress:"",preferredNeighborhoods:[],customNeighborhoods:[],downPaymentAmount:"",downPaymentPercent:"",preApprovalAmount:"",lenderName:"",mortgageType:"",needToSellCurrent:!1,currentHomeAddress:"",standardContingencies:[],additionalNotes:"",hasRealtor:!1,realtorName:"",realtorEmail:"",realtorPhone:"",hasLender:!1,lenderContactName:"",lenderEmail:"",lenderPhone:"",specialRequirements:[],accessibilityNeeds:[],petRequirements:[],currentStep:"basic-info",completionPercentage:0},ut=e=>Array.isArray(e)?e.filter(s=>typeof s=="string"):typeof e=="string"&&e.trim()?[e.trim()]:[],Bt=e=>typeof e=="string"?e:e!=null?String(e):"",Yu=e=>typeof e=="boolean"?e:typeof e=="string"?e.toLowerCase()==="true":!1,Ov=e=>{if(typeof e=="number"&&!isNaN(e))return e;if(typeof e=="string"){const s=parseFloat(e);return isNaN(s)?0:s}return 0};function A_({children:e}){const[s,r]=m.useState(null),[n,a]=m.useState(null),[i,o]=m.useState(null),[l,c]=m.useState([]);m.useEffect(()=>{f()},[]),m.useEffect(()=>{if(s)try{const N=p(s);a(N)}catch(N){console.error("Error generating search criteria:",N),a({priceRange:{min:0,max:1e6},bedrooms:{min:1},bathrooms:{min:1},homeTypes:[],locations:[],mustHaveFeatures:[],maxCommuteTime:"",specialRequirements:[]})}},[s]);const d=N=>{r(T=>{try{const O=S(N),I=T?{...T,...O}:{...qa,...O},_=w(I);I.completionPercentage=_;try{localStorage.setItem("handoff-property-data",JSON.stringify(I))}catch(A){console.warn("Failed to save property data to localStorage:",A)}return I}catch(O){return console.error("Failed to update property data:",O),T}})},u=async N=>{try{const T=S(N);r(T),localStorage.setItem("handoff-property-data",JSON.stringify(T)),localStorage.setItem("handoff-questionnaire-complete","true"),localStorage.setItem("handoff-questionnaire-responses",JSON.stringify(T)),console.log("Property data saved successfully:",T),window.dispatchEvent(new CustomEvent("propertyDataUpdated",{detail:T}))}catch(T){throw console.error("Failed to save property data:",T),T}},f=async()=>{try{const N=localStorage.getItem("handoff-property-data");if(N){const O=JSON.parse(N),I=S(O);return r(I),I}const T=localStorage.getItem("handoff-questionnaire-responses");if(T){const O=JSON.parse(T),I=k(O),_=S(I);return r(_),localStorage.setItem("handoff-property-data",JSON.stringify(_)),_}return null}catch(N){return console.error("Failed to load property data:",N),null}},p=N=>{try{if(!N||typeof N!="object")throw new Error("Invalid property data provided");const O=Bt(N.price).replace(/[^0-9.]/g,""),I=parseFloat(O)||0,_={min:Math.max(0,I*.9),max:I>0?I*1.1:1e6},A=Bt(N.bedrooms),R=Bt(N.bathrooms),M=parseInt(A)||1,z=parseFloat(R)||1,E={min:M,max:M>0?M+1:void 0},D={min:z,max:z>0?z+.5:void 0},H=ut(N.preferredNeighborhoods),W=ut(N.customNeighborhoods),L=[...H,...W,Bt(N.city),Bt(N.state)].filter(Boolean),se=ut(N.mustHaveFeatures),te=ut(N.specialRequirements),le=ut(N.accessibilityNeeds),ue=ut(N.petRequirements);return{priceRange:_,bedrooms:E,bathrooms:D,homeTypes:N.homeType?[Bt(N.homeType)]:[],locations:L,mustHaveFeatures:se,maxCommuteTime:Bt(N.maxCommuteTime),specialRequirements:[...te,...le,...ue]}}catch(T){return console.error("Error generating search criteria:",T),{priceRange:{min:0,max:1e6},bedrooms:{min:1},bathrooms:{min:1},homeTypes:[],locations:[],mustHaveFeatures:[],maxCommuteTime:"",specialRequirements:[]}}},h=N=>{a(T=>T?{...T,...N}:null)},j=async N=>{try{const T={averagePrice:425e3,pricePerSquareFoot:180,daysOnMarket:28,marketTrend:"rising",competitionLevel:"high",recommendedActions:["Consider increasing your budget by 5-10%","Get pre-approved quickly to compete","Be prepared to make offers above asking price","Waive minor contingencies if comfortable"],lastUpdated:new Date().toISOString()};o(T)}catch(T){console.error("Failed to load market insights:",T)}},v=async N=>{try{c([{id:"1",address:"123 Maple Street, Sacramento, CA",price:485e3,bedrooms:3,bathrooms:2,squareFootage:1850,matchScore:95,matchReasons:["Matches budget range","In preferred neighborhood","Has 2 of your must-have features"],images:[]},{id:"2",address:"456 Oak Avenue, Sacramento, CA",price:51e4,bedrooms:4,bathrooms:2.5,squareFootage:2100,matchScore:88,matchReasons:["Slightly above budget but great value","Excellent school district","Recently updated"],images:[]}])}catch(T){console.error("Failed to load recommendations:",T)}},b=()=>{if(!s)return{completed:!1,percentage:0,missingFields:["All fields"]};try{const N=[{field:"address",label:"Property Address"},{field:"city",label:"City"},{field:"state",label:"State"},{field:"homeType",label:"Property Type"},{field:"bedrooms",label:"Bedrooms"},{field:"bathrooms",label:"Bathrooms"},{field:"targetClosingDate",label:"Target Closing Date"},{field:"mortgageType",label:"Mortgage Type"},{field:"downPaymentPercent",label:"Down Payment Percentage"}],T=N.filter(({field:L})=>!s[L]).map(({label:L})=>L),I=(N.length-T.length)/N.length*70,_=ut(s.mustHaveFeatures),A=ut(s.locationPriorities),R=ut(s.preferredNeighborhoods),M=ut(s.customNeighborhoods),z=_.length>0?10:0,E=A.length>0?10:0,D=R.length>0||M.length>0?10:0,H=Math.min(100,I+z+E+D);return{completed:H>=80,percentage:H,missingFields:T}}catch(N){return console.error("Error calculating completion status:",N),{completed:!1,percentage:0,missingFields:["Error calculating completion"]}}},g=()=>{if(!(s!=null&&s.targetClosingDate))return{daysUntilClosing:0,milestones:[]};try{const N=new Date(s.targetClosingDate),T=new Date,O=Math.ceil((N.getTime()-T.getTime())/(1e3*60*60*24)),I=C(N,s);return{daysUntilClosing:O,milestones:I}}catch(N){return console.error("Error calculating timeline status:",N),{daysUntilClosing:0,milestones:[]}}},y=()=>{if(!s)return"";try{return JSON.stringify({version:"1.0",exportDate:new Date().toISOString(),data:s},null,2)}catch(N){return console.error("Error exporting property data:",N),""}},x=N=>{try{const T=JSON.parse(N);if(T.data&&typeof T.data=="object"){const O=S(T.data);return d(O),!0}return!1}catch(T){return console.error("Failed to import property data:",T),!1}},S=N=>{if(!N||typeof N!="object")return{};try{const T={};return["address","city","state","zipCode","price","homeType","bedrooms","bathrooms","squareFootage","lotSize","yearBuilt","targetClosingDate","moveInDate","currentLeaseEnd","maxCommuteTime","workAddress","downPaymentAmount","downPaymentPercent","preApprovalAmount","lenderName","mortgageType","currentHomeAddress","additionalNotes","realtorName","realtorEmail","realtorPhone","lenderContactName","lenderEmail","lenderPhone","currentStep"].forEach(A=>{N[A]!==void 0&&(T[A]=Bt(N[A]))}),["mustHaveFeatures","locationPriorities","preferredNeighborhoods","customNeighborhoods","standardContingencies","specialRequirements","accessibilityNeeds","petRequirements"].forEach(A=>{N[A]!==void 0&&(T[A]=ut(N[A]))}),["needToSellCurrent","hasRealtor","hasLender"].forEach(A=>{N[A]!==void 0&&(T[A]=Yu(N[A]))}),N.completionPercentage!==void 0&&(T.completionPercentage=Ov(N.completionPercentage)),T}catch(T){return console.error("Error sanitizing property data:",T),{}}},w=N=>{try{const T=["address","city","state","homeType","bedrooms","bathrooms","targetClosingDate","mortgageType","downPaymentPercent"],O=T.filter(se=>N[se]).length,I=ut(N.mustHaveFeatures),_=ut(N.locationPriorities),A=ut(N.preferredNeighborhoods),R=ut(N.customNeighborhoods),M=I.length>0,z=_.length>0,E=A.length>0||R.length>0,D=O/T.length*70,H=M?10:0,W=z?10:0,L=E?10:0;return Math.min(100,D+H+W+L)}catch(T){return console.error("Error calculating completion percentage:",T),0}},k=N=>{try{const T={address:Bt(N.propertyAddress||N.address),city:Bt(N.city),state:Bt(N.state),homeType:Bt(N.homeType),bedrooms:Bt(N.bedrooms),bathrooms:Bt(N.bathrooms),mustHaveFeatures:ut(N.mustHaves||N.mustHaveFeatures),locationPriorities:ut(N.locationPriorities),preferredNeighborhoods:ut(N.neighborhoods||N.preferredNeighborhoods),customNeighborhoods:ut(N.customNeighborhoods),realtorName:Bt(N.agentName||N.realtorName),realtorEmail:Bt(N.agentEmail||N.realtorEmail),realtorPhone:Bt(N.agentPhone||N.realtorPhone),hasRealtor:Yu(N.agentName||N.realtorName||N.hasRealtor),specialRequirements:ut(N.specialRequirements),accessibilityNeeds:ut(N.accessibilityNeeds),petRequirements:ut(N.petRequirements),standardContingencies:ut(N.standardContingencies)};return Object.keys(N).forEach(O=>{if(O in qa&&!(O in T)){const I=N[O];I!=null&&(Array.isArray(qa[O])?T[O]=ut(I):typeof qa[O]=="boolean"?T[O]=Yu(I):typeof qa[O]=="string"?T[O]=Bt(I):typeof qa[O]=="number"&&(T[O]=Ov(I)))}}),T}catch(T){return console.error("Error converting legacy data:",T),{}}},C=(N,T)=>{try{const O=[],I=new Date,_=(A,R,M,z)=>{const E=new Date(N);E.setDate(E.getDate()-A),O.push({date:E.toISOString(),title:R,description:M,category:z,completed:E<=I,daysFromNow:Math.ceil((E.getTime()-I.getTime())/(1e3*60*60*24))})};return _(30,"Pre-approval Complete","Secure mortgage pre-approval","financing"),_(25,"Home Search Active","Begin actively searching for properties","search"),_(20,"Offer Submitted","Submit offer on chosen property","offer"),_(18,"Contract Accepted","Purchase agreement signed","contract"),_(15,"Home Inspection","Professional home inspection completed","inspection"),_(12,"Appraisal Ordered","Property appraisal scheduled","financing"),_(10,"Inspection Negotiations","Address any inspection issues","inspection"),_(7,"Final Loan Approval","Mortgage underwriting complete","financing"),_(3,"Final Walkthrough","Final property inspection","closing"),_(1,"Closing Preparation","Review closing documents","closing"),_(0,"Closing Day","Close on your new home!","closing"),O.sort((A,R)=>new Date(A.date).getTime()-new Date(R.date).getTime())}catch(O){return console.error("Error generating timeline:",O),[]}},P={propertyData:s,updatePropertyData:d,savePropertyData:u,loadPropertyData:f,searchCriteria:n,updateSearchCriteria:h,generateSearchCriteria:p,marketInsights:i,loadMarketInsights:j,recommendations:l,loadRecommendations:v,getCompletionStatus:b,getTimelineStatus:g,exportPropertyData:y,importPropertyData:x};return t.jsx(Sb.Provider,{value:P,children:e})}function Vd(){const e=m.useContext(Sb);if(e===void 0)throw new Error("usePropertyContext must be used within a PropertyProvider");return e}class Nt extends Z.Component{constructor(s){super(s),this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){console.error("ErrorBoundary caught an error:",s,r)}render(){return this.state.hasError?this.props.fallback||t.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx("h2",{className:"text-xl font-semibold",children:"Something went wrong"}),t.jsx("p",{className:"text-muted-foreground",children:"Please refresh the page to try again."}),t.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90",children:"Refresh Page"})]})}):this.props.children}}function kb(e){var s,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(s=0;s<a;s++)e[s]&&(r=kb(e[s]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function _b(){for(var e,s,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(s=kb(e))&&(n&&(n+=" "),n+=s);return n}const Qf="-",C_=e=>{const s=T_(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(Qf);return l[0]===""&&l.length!==1&&l.shift(),Ab(l,s)||P_(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},Ab=(e,s)=>{var o;if(e.length===0)return s.classGroupId;const r=e[0],n=s.nextPart.get(r),a=n?Ab(e.slice(1),n):void 0;if(a)return a;if(s.validators.length===0)return;const i=e.join(Qf);return(o=s.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Rv=/^\[(.+)\]$/,P_=e=>{if(Rv.test(e)){const s=Rv.exec(e)[1],r=s==null?void 0:s.substring(0,s.indexOf(":"));if(r)return"arbitrary.."+r}},T_=e=>{const{theme:s,prefix:r}=e,n={nextPart:new Map,validators:[]};return I_(Object.entries(e.classGroups),r).forEach(([i,o])=>{yh(o,n,i,s)}),n},yh=(e,s,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?s:Mv(s,a);i.classGroupId=r;return}if(typeof a=="function"){if(E_(a)){yh(a(n),s,r,n);return}s.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{yh(o,Mv(s,i),r,n)})})},Mv=(e,s)=>{let r=e;return s.split(Qf).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},E_=e=>e.isThemeGetter,I_=(e,s)=>s?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?s+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[s+o,l])):i);return[r,a]}):e,O_=e=>{if(e<1)return{get:()=>{},set:()=>{}};let s=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),s++,s>e&&(s=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},Cb="!",R_=e=>{const{separator:s,experimentalParseClassName:r}=e,n=s.length===1,a=s[0],i=s.length,o=l=>{const c=[];let d=0,u=0,f;for(let b=0;b<l.length;b++){let g=l[b];if(d===0){if(g===a&&(n||l.slice(b,b+i)===s)){c.push(l.slice(u,b)),u=b+i;continue}if(g==="/"){f=b;continue}}g==="["?d++:g==="]"&&d--}const p=c.length===0?l:l.substring(u),h=p.startsWith(Cb),j=h?p.substring(1):p,v=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:j,maybePostfixModifierPosition:v}};return r?l=>r({className:l,parseClassName:o}):o},M_=e=>{if(e.length<=1)return e;const s=[];let r=[];return e.forEach(n=>{n[0]==="["?(s.push(...r.sort(),n),r=[]):r.push(n)}),s.push(...r.sort()),s},D_=e=>({cache:O_(e.cacheSize),parseClassName:R_(e),...C_(e)}),L_=/\s+/,$_=(e,s)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=s,i=[],o=e.trim().split(L_);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:h}=r(d);let j=!!h,v=n(j?p.substring(0,h):p);if(!v){if(!j){l=d+(l.length>0?" "+l:l);continue}if(v=n(p),!v){l=d+(l.length>0?" "+l:l);continue}j=!1}const b=M_(u).join(":"),g=f?b+Cb:b,y=g+v;if(i.includes(y))continue;i.push(y);const x=a(v,j);for(let S=0;S<x.length;++S){const w=x[S];i.push(g+w)}l=d+(l.length>0?" "+l:l)}return l};function F_(){let e=0,s,r,n="";for(;e<arguments.length;)(s=arguments[e++])&&(r=Pb(s))&&(n&&(n+=" "),n+=r);return n}const Pb=e=>{if(typeof e=="string")return e;let s,r="";for(let n=0;n<e.length;n++)e[n]&&(s=Pb(e[n]))&&(r&&(r+=" "),r+=s);return r};function z_(e,...s){let r,n,a,i=o;function o(c){const d=s.reduce((u,f)=>f(u),e());return r=D_(d),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=$_(c,r);return a(c,u),u}return function(){return i(F_.apply(null,arguments))}}const lt=e=>{const s=r=>r[e]||[];return s.isThemeGetter=!0,s},Tb=/^\[(?:([a-z-]+):)?(.+)\]$/i,U_=/^\d+\/\d+$/,B_=new Set(["px","full","screen"]),V_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,W_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,H_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,q_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Y_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qr=e=>Si(e)||B_.has(e)||U_.test(e),kn=e=>Ki(e,"length",tA),Si=e=>!!e&&!Number.isNaN(Number(e)),Gu=e=>Ki(e,"number",Si),Po=e=>!!e&&Number.isInteger(Number(e)),G_=e=>e.endsWith("%")&&Si(e.slice(0,-1)),$e=e=>Tb.test(e),_n=e=>V_.test(e),K_=new Set(["length","size","percentage"]),J_=e=>Ki(e,K_,Eb),Q_=e=>Ki(e,"position",Eb),X_=new Set(["image","url"]),Z_=e=>Ki(e,X_,rA),eA=e=>Ki(e,"",sA),To=()=>!0,Ki=(e,s,r)=>{const n=Tb.exec(e);return n?n[1]?typeof s=="string"?n[1]===s:s.has(n[1]):r(n[2]):!1},tA=e=>W_.test(e)&&!H_.test(e),Eb=()=>!1,sA=e=>q_.test(e),rA=e=>Y_.test(e),nA=()=>{const e=lt("colors"),s=lt("spacing"),r=lt("blur"),n=lt("brightness"),a=lt("borderColor"),i=lt("borderRadius"),o=lt("borderSpacing"),l=lt("borderWidth"),c=lt("contrast"),d=lt("grayscale"),u=lt("hueRotate"),f=lt("invert"),p=lt("gap"),h=lt("gradientColorStops"),j=lt("gradientColorStopPositions"),v=lt("inset"),b=lt("margin"),g=lt("opacity"),y=lt("padding"),x=lt("saturate"),S=lt("scale"),w=lt("sepia"),k=lt("skew"),C=lt("space"),P=lt("translate"),N=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",$e,s],I=()=>[$e,s],_=()=>["",Qr,kn],A=()=>["auto",Si,$e],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",$e],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Si,$e];return{cacheSize:500,separator:":",theme:{colors:[To],spacing:[Qr,kn],blur:["none","",_n,$e],brightness:W(),borderColor:[e],borderRadius:["none","","full",_n,$e],borderSpacing:I(),borderWidth:_(),contrast:W(),grayscale:D(),hueRotate:W(),invert:D(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[G_,kn],inset:O(),margin:O(),opacity:W(),padding:I(),saturate:W(),scale:W(),sepia:D(),skew:W(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",$e]}],container:["container"],columns:[{columns:[_n]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),$e]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Po,$e]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$e]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Po,$e]}],"grid-cols":[{"grid-cols":[To]}],"col-start-end":[{col:["auto",{span:["full",Po,$e]},$e]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[To]}],"row-start-end":[{row:["auto",{span:[Po,$e]},$e]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$e]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$e,s]}],"min-w":[{"min-w":[$e,s,"min","max","fit"]}],"max-w":[{"max-w":[$e,s,"none","full","min","max","fit","prose",{screen:[_n]},_n]}],h:[{h:[$e,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$e,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$e,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$e,s,"auto","min","max","fit"]}],"font-size":[{text:["base",_n,kn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Gu]}],"font-family":[{font:[To]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$e]}],"line-clamp":[{"line-clamp":["none",Si,Gu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qr,$e]}],"list-image":[{"list-image":["none",$e]}],"list-style-type":[{list:["none","disc","decimal",$e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qr,kn]}],"underline-offset":[{"underline-offset":["auto",Qr,$e]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),Q_]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",J_]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Z_]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:M()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[Qr,$e]}],"outline-w":[{outline:[Qr,kn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:_()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Qr,kn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",_n,eA]}],"shadow-color":[{shadow:[To]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",_n,$e]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$e]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",$e]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",$e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Po,$e]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$e]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Qr,kn,Gu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},aA=z_(nA);function ve(...e){return aA(_b(e))}function F({className:e,...s}){return t.jsx("div",{"data-slot":"card",className:ve("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...s})}function q({className:e,...s}){return t.jsx("div",{"data-slot":"card-header",className:ve("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function Y({className:e,...s}){return t.jsx("h4",{"data-slot":"card-title",className:ve("leading-none",e),...s})}function Ie({className:e,...s}){return t.jsx("p",{"data-slot":"card-description",className:ve("text-muted-foreground",e),...s})}function U({className:e,...s}){return t.jsx("div",{"data-slot":"card-content",className:ve("px-6 [&:last-child]:pb-6",e),...s})}/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oA=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,r,n)=>n?n.toUpperCase():r.toLowerCase()),Dv=e=>{const s=oA(e);return s.charAt(0).toUpperCase()+s.slice(1)},Ib=(...e)=>e.filter((s,r,n)=>!!s&&s.trim()!==""&&n.indexOf(s)===r).join(" ").trim(),lA=e=>{for(const s in e)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=m.forwardRef(({color:e="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...cA,width:s,height:s,stroke:e,strokeWidth:n?Number(r)*24/Number(s):r,className:Ib("lucide",a),...!i&&!lA(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,u])=>m.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=(e,s)=>{const r=m.forwardRef(({className:n,...a},i)=>m.createElement(dA,{ref:i,iconNode:s,className:Ib(`lucide-${iA(Dv(e))}`,`lucide-${e}`,n),...a}));return r.displayName=Dv(e),r};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],jh=oe("activity",uA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],Ku=oe("arrow-left-right",mA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Fn=oe("arrow-left",hA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Il=oe("arrow-right",fA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]],Ob=oe("bath",pA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],Rb=oe("bed",xA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Xf=oe("book-open",gA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],yA=oe("briefcase",vA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],bA=oe("building-2",jA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]],Mb=oe("bug",wA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],mn=oe("building",NA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Ri=oe("calculator",SA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ea=oe("calendar",kA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Wd=oe("car",_A);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],xr=oe("chart-column",AA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Lv=oe("chart-pie",CA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Zf=oe("check",PA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ia=oe("chevron-down",TA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],IA=oe("chevron-left",EA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],dd=oe("chevron-right",OA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Db=oe("chevron-up",RA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],it=oe("circle-alert",MA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],be=oe("circle-check-big",DA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],hr=oe("circle-check",LA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ze=oe("circle-x",$A);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Zo=oe("clock",FA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],jl=oe("code",zA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ht=oe("copy",UA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],VA=oe("credit-card",BA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Ds=oe("database",WA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ls=oe("dollar-sign",HA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],YA=oe("droplets",qA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],yr=oe("external-link",GA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Oa=oe("eye-off",KA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ht=oe("eye",JA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Qt=oe("file-text",QA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],ZA=oe("gavel",XA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]],lc=oe("git-compare",eC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],bl=oe("globe",tC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],rC=oe("hammer",sC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],We=oe("house",nC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ct=oe("info",aC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],cs=oe("key",iC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],lC=oe("landmark",oC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Qn=oe("lightbulb",cC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ft=oe("loader-circle",dC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],mC=oe("lock-open",uC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Rc=oe("lock",hC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Lb=oe("log-out",fC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],xC=oe("mail",pC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],kt=oe("map-pin",gC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],yC=oe("menu",vC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],bh=oe("message-square",jC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ud=oe("pen-line",bC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],NC=oe("play",wC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],on=oe("plus",SC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],$b=oe("receipt",kC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ye=oe("refresh-cw",_C);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],CC=oe("rotate-ccw",AC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],Ol=oe("ruler",PC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],ep=oe("scale",TC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Fb=oe("save",EC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],zb=oe("school",IC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ls=oe("search",OC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],wh=oe("server",RC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Sr=oe("settings",MC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],us=oe("shield",DC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Nh=oe("square-check-big",LC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],$v=oe("square-pen",$C);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],zC=oe("star",FC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ub=oe("target",UC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],Ts=oe("test-tube",BC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],WC=oe("thermometer",VC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Mi=oe("trash-2",HC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],Bb=oe("tree-pine",qC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]],GC=oe("trees",YC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Hr=oe("trending-up",KC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ze=oe("triangle-alert",JC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],XC=oe("user-plus",QC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hn=oe("user",ZC);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fn=oe("users",eP);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],sP=oe("waves",tP);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],nP=oe("wifi-off",rP);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],iP=oe("wind",aP);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Di=oe("wrench",oP);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Li=oe("x",lP);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Xs=oe("zap",cP),wl="/favicon.svg";function dP(){const[e,s]=m.useState(0),[r,n]=m.useState(0),a=[{id:0,label:"Initializing...",icon:ft,duration:200},{id:1,label:"Checking session...",icon:us,duration:300},{id:2,label:"Loading profile...",icon:hn,duration:200},{id:3,label:"Ready!",icon:be,duration:100}];m.useEffect(()=>{let o,l;return l=setInterval(()=>{n(c=>{const d=(e+1)/a.length*100,u=(d-c)*.1;return Math.min(c+u,d)})},16),e<a.length-1&&(o=setTimeout(()=>{s(c=>c+1)},a[e].duration)),()=>{clearTimeout(o),clearInterval(l)}},[e,a]);const i=a[e].icon;return t.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:t.jsx(F,{className:"w-full max-w-md mx-4 border-0 shadow-lg",children:t.jsxs(U,{className:"p-8 text-center space-y-6",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("img",{src:wl,alt:"Handoff",className:"h-16 w-auto animate-pulse"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"flex justify-center",children:t.jsx(i,{className:`h-8 w-8 text-primary ${e<a.length-1?"animate-spin":"animate-bounce"}`})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-lg font-medium text-foreground",children:a[e].label}),t.jsx("div",{className:"w-full bg-muted rounded-full h-2 overflow-hidden",children:t.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out rounded-full",style:{width:`${r}%`}})}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Setting up your secure session..."})]})]}),t.jsx("div",{className:"flex justify-center space-x-2 pt-4",children:a.map((o,l)=>t.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${l<=e?"bg-primary scale-110":"bg-muted scale-100"}`},o.id))})]})})})}const uP="modulepreload",mP=function(e){return"/"+e},Fv={},Mt=function(s,r,n){if(!r||r.length===0)return s();const a=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=mP(i),i in Fv)return;Fv[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!n)for(let u=a.length-1;u>=0;u--){const f=a[u];if(f.href===i&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const d=document.createElement("link");if(d.rel=o?"stylesheet":uP,o||(d.as="script",d.crossOrigin=""),d.href=i,document.head.appendChild(d),o)return new Promise((u,f)=>{d.addEventListener("load",u),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>s()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};function zv(e,s){if(typeof e=="function")return e(s);e!=null&&(e.current=s)}function Vb(...e){return s=>{let r=!1;const n=e.map(a=>{const i=zv(a,s);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():zv(e[a],null)}}}}function Ke(...e){return m.useCallback(Vb(...e),e)}function Ra(e){const s=hP(e),r=m.forwardRef((n,a)=>{const{children:i,...o}=n,l=m.Children.toArray(i),c=l.find(pP);if(c){const d=c.props.children,u=l.map(f=>f===c?m.Children.count(d)>1?m.Children.only(null):m.isValidElement(d)?d.props.children:null:f);return t.jsx(s,{...o,ref:a,children:m.isValidElement(d)?m.cloneElement(d,void 0,u):null})}return t.jsx(s,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var Wb=Ra("Slot");function hP(e){const s=m.forwardRef((r,n)=>{const{children:a,...i}=r;if(m.isValidElement(a)){const o=gP(a),l=xP(i,a.props);return a.type!==m.Fragment&&(l.ref=n?Vb(n,o):o),m.cloneElement(a,l)}return m.Children.count(a)>1?m.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var fP=Symbol("radix.slottable");function pP(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fP}function xP(e,s){const r={...s};for(const n in s){const a=e[n],i=s[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function gP(e){var n,a;let s=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?e.ref:(s=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const Uv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Bv=_b,tp=(e,s)=>r=>{var n;if((s==null?void 0:s.variants)==null)return Bv(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=s,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],f=i==null?void 0:i[d];if(u===null)return null;const p=Uv(u)||Uv(f);return a[d][p]}),l=r&&Object.entries(r).reduce((d,u)=>{let[f,p]=u;return p===void 0||(d[f]=p),d},{}),c=s==null||(n=s.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:f,className:p,...h}=u;return Object.entries(h).every(j=>{let[v,b]=j;return Array.isArray(b)?b.includes({...i,...l}[v]):{...i,...l}[v]===b})?[...d,f,p]:d},[]);return Bv(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},Sh=tp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive touch-target",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3 mobile-device:h-11 mobile-device:px-5 mobile-device:py-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5 mobile-device:h-10 mobile-device:px-4",lg:"h-10 rounded-md px-6 has-[>svg]:px-4 mobile-device:h-12 mobile-device:px-7",icon:"size-9 rounded-md mobile-device:size-11"}},defaultVariants:{variant:"default",size:"default"}}),$=m.forwardRef(({className:e,variant:s,size:r,asChild:n=!1,...a},i)=>{const o=n?Wb:"button";return t.jsx(o,{"data-slot":"button",className:ve(Sh({variant:s,size:r,className:e})),ref:i,...a})});$.displayName="Button";const vP=tp("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function K({className:e,variant:s,asChild:r=!1,...n}){const a=r?Wb:"span";return t.jsx(a,{"data-slot":"badge",className:ve(vP({variant:s}),e),...n})}const Re=m.forwardRef(({className:e,type:s,...r},n)=>t.jsx("input",{type:s,"data-slot":"input",className:ve("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive","mobile-device:h-11 mobile-device:px-4 mobile-device:py-3 mobile-device:text-base mobile-device:min-h-11",e),ref:n,...r}));Re.displayName="Input";var yP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],we=yP.reduce((e,s)=>{const r=Ra(`Primitive.${s}`),n=m.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${s}`,{...e,[s]:n}},{});function jP(e,s){e&&Gi.flushSync(()=>e.dispatchEvent(s))}var bP="Label",Hb=m.forwardRef((e,s)=>t.jsx(we.label,{...e,ref:s,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Hb.displayName=bP;var wP=Hb;function X({className:e,...s}){return t.jsx(wP,{"data-slot":"label",className:ve("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...s})}const De="xgzyidlgvennrszolevb",Te="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhnenlpZGxndmVubnJzem9sZXZiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI3MDM2OTIsImV4cCI6MjA2ODI3OTY5Mn0.cBXLvuTfGQbnQbfayyRzZ-W_azBc962Bpf8WH3DYoL4";function sp({onAddressSelect:e,debounceMs:s=300,country:r="US",types:n=["address"],debugMode:a=!1}={}){const[i,o]=m.useState(""),[l,c]=m.useState([]),[d,u]=m.useState(!1),[f,p]=m.useState(null),[h,j]=m.useState(!1),[v,b]=m.useState(null),[g,y]=m.useState(null),[x,S]=m.useState(!1),w=m.useRef(),k=m.useRef(),C=m.useCallback(()=>{try{return{baseUrl:`https://${De}.supabase.co/functions/v1/make-server-a24396d5`,headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"}}}catch(E){return console.error("Failed to get Supabase info:",E),null}},[]),P=m.useCallback(E=>{if(typeof E=="string")return E;if(E&&typeof E=="object"){if(typeof E.error=="string")return E.error;if(typeof E.message=="string")return E.message;if(E.error&&typeof E.error.message=="string")return E.error.message}return"Unknown error occurred"},[]),N=m.useCallback(E=>{const D=["invalid","denied","api key","key is not","key appears to be","REQUEST_DENIED","INVALID_REQUEST"],H=E.toLowerCase();return D.some(W=>H.includes(W))},[]),T=m.useCallback(async()=>{const E=C();if(!E){console.log("useAddressAutocomplete: No server configuration, using fallback mode"),y(!1),S(!0);return}try{const D=await fetch(`${E.baseUrl}/places/validate-key`,{headers:E.headers,signal:AbortSignal.timeout?AbortSignal.timeout(5e3):void 0});if(D.ok){const H=await D.json();y(H.valid),S(!H.valid),H.valid?console.log("useAddressAutocomplete: API key is valid"):(console.log("useAddressAutocomplete: API key validation failed:",H.message),a&&p(`Google Places API: ${H.message||"API key not configured"}. Manual address entry is available.`))}else console.log("useAddressAutocomplete: API key validation request failed:",D.status),y(!1),S(!0),a&&p("Unable to verify Google Places API configuration. Manual address entry is available.")}catch(D){if(console.warn("useAddressAutocomplete: API key validation failed:",D),y(!1),S(!0),a){const H=D instanceof Error?D.message:"Unknown error";H.includes("timeout")||H.includes("AbortError")?p("Google Places API validation timed out. Manual address entry is available."):p("Google Places API not available. Manual address entry is available.")}}},[C,a]),O=m.useCallback(async E=>{if(console.log("useAddressAutocomplete: fetchSuggestions called with:",E),x||g===!1){console.log("useAddressAutocomplete: In fallback mode, not making API call"),c([]);return}if(g===null){await T();return}const D=C();if(!D){console.error("useAddressAutocomplete: Server configuration not available"),a&&p("Server configuration not available. Manual address entry is available."),S(!0);return}if(!E.trim()||E.length<3){console.log("useAddressAutocomplete: Query too short, clearing suggestions"),c([]);return}k.current&&k.current.abort(),k.current=new AbortController,u(!0),p(null);try{const H=new URLSearchParams({input:E,country:r,types:n.join("|")}),W=`${D.baseUrl}/places/autocomplete?${H}`;console.log("useAddressAutocomplete: Making request to:",W);const L=await fetch(W,{signal:k.current.signal,headers:D.headers});if(console.log("useAddressAutocomplete: Response status:",L.status),!L.ok){const le=await L.json().catch(()=>({error:"Unknown error"}));console.error("useAddressAutocomplete: API error:",le);const ue=P(le);if(L.status===403||L.status===503||le.api_key_error||N(ue)){console.log("useAddressAutocomplete: API key issue detected, switching to fallback mode"),y(!1),S(!0),a&&p("Google Places API is not properly configured. Manual address entry is available."),c([]);return}throw new Error(ue)}const se=await L.json();console.log("useAddressAutocomplete: Response data:",se);const te=se.predictions||[];console.log("useAddressAutocomplete: Setting suggestions:",te.length,"items"),c(te),g!==!0&&(y(!0),S(!1))}catch(H){if(H instanceof Error){if(H.name==="AbortError"){console.log("useAddressAutocomplete: Request was cancelled");return}console.error("useAddressAutocomplete: Error:",H),N(H.message)?(y(!1),S(!0),a&&p("Google Places API configuration issue. Manual address entry is available.")):a&&p(H.message)}else console.error("useAddressAutocomplete: Unexpected error:",H),a&&p("An unexpected error occurred. Manual address entry is available.");c([])}finally{u(!1)}},[C,r,n,x,g,T,a,P,N]),I=m.useCallback(async E=>{const D=C();if(!D)return a&&p("Server configuration not available"),null;u(!0),p(null);try{const H=new URLSearchParams({place_id:E}),W=await fetch(`${D.baseUrl}/places/details?${H}`,{headers:D.headers});if(!W.ok){const se=await W.json().catch(()=>({error:"Unknown error"})),te=P(se);throw(W.status===403||W.status===503||se.api_key_error||N(te))&&(console.log("useAddressAutocomplete: API key issue during details fetch"),y(!1),S(!0),a&&p("Google Places API is not properly configured.")),new Error(te)}const L=await W.json();if(L.result){const se=L.result,te={formatted_address:se.formatted_address,place_id:E,geometry:se.geometry};return se.address_components&&se.address_components.forEach(le=>{const ue=le.types;ue.includes("street_number")?te.street_number=le.long_name:ue.includes("route")?te.route=le.long_name:ue.includes("locality")?te.locality=le.long_name:ue.includes("administrative_area_level_1")?te.administrative_area_level_1=le.short_name:ue.includes("administrative_area_level_2")?te.administrative_area_level_2=le.long_name:ue.includes("postal_code")?te.postal_code=le.long_name:ue.includes("country")&&(te.country=le.short_name)}),te}else throw new Error("No address details found")}catch(H){return H instanceof Error?(console.error("Address details error:",H),a&&p(H.message)):(console.error("Address details unexpected error:",H),a&&p("An unexpected error occurred")),null}finally{u(!1)}},[C,a,P]),_=m.useCallback(E=>{var H,W,L,se,te,le,ue;const D=E.split(",").map(ee=>ee.trim());return{formatted_address:E,place_id:`manual_${Date.now()}`,street_number:((W=(H=D[0])==null?void 0:H.match(/^\d+/))==null?void 0:W[0])||void 0,route:((L=D[0])==null?void 0:L.replace(/^\d+\s*/,""))||void 0,locality:D[1]||void 0,administrative_area_level_1:((te=(se=D[2])==null?void 0:se.match(/[A-Z]{2}/))==null?void 0:te[0])||void 0,postal_code:((ue=(le=D[2])==null?void 0:le.match(/\d{5}(-\d{4})?/))==null?void 0:ue[0])||void 0,country:r.toUpperCase()}},[r]),A=m.useCallback(async E=>{o(E.description),c([]),j(!1);const D=await I(E.place_id);D&&(b(D),e==null||e(D))},[I,e]),R=m.useCallback(E=>{if(!E.trim()){b(null),e==null||e(null);return}const D=_(E);b(D),e==null||e(D)},[_,e]),M=m.useCallback(()=>{c([]),j(!1),p(null)},[]),z=m.useCallback(E=>{if(o(E),b(null),x){j(!1),w.current&&clearTimeout(w.current),w.current=setTimeout(()=>{R(E)},s);return}j(!0),w.current&&clearTimeout(w.current),w.current=setTimeout(()=>{O(E)},s)},[O,R,s,x]);return m.useEffect(()=>()=>{w.current&&clearTimeout(w.current),k.current&&k.current.abort()},[]),{query:i,setQuery:z,suggestions:l,isLoading:d,error:f,showSuggestions:h,setShowSuggestions:j,selectSuggestion:A,clearSuggestions:M,selectedAddress:v,fallbackMode:x,apiKeyValid:g}}function qb({label:e="Address",placeholder:s="Start typing an address...",value:r="",onChange:n,onInputChange:a,error:i,disabled:o=!1,required:l=!1,country:c="US",types:d=["address"],className:u="",id:f,autoFocus:p=!1,debugMode:h=!1}){const j=ms(),v=m.useRef(null),b=m.useRef(null),g=m.useRef(null),[y,x]=m.useState(!1),[S,w]=m.useState(-1),[k,C]=m.useState(!1),{query:P,setQuery:N,suggestions:T,isLoading:O,error:I,showSuggestions:_,setShowSuggestions:A,selectSuggestion:R,clearSuggestions:M,selectedAddress:z,fallbackMode:E,apiKeyValid:D}=sp({onAddressSelect:n,country:c,types:d,debugMode:h});m.useEffect(()=>{r!==P&&!k&&N(r)},[r,P,N,k]);const H=J=>{const G=J.target.value;N(G),a==null||a(G),w(-1)},W=()=>{x(!0),T.length>0&&A(!0)},L=J=>{var re;x(!1);const G=J.relatedTarget;G&&((re=g.current)!=null&&re.contains(G))||setTimeout(()=>{k||(A(!1),w(-1))},150)},se=async(J,G)=>{if(!k){C(!0),w(G),A(!1);try{await R(J)}catch(re){console.error("Error selecting address:",re)}finally{C(!1),w(-1)}}},te=()=>{var J;N(""),a==null||a(""),n==null||n(null),M(),w(-1),(J=v.current)==null||J.focus()},le=J=>{var G,re;if(!_||T.length===0){J.key==="Escape"&&(A(!1),w(-1),(G=v.current)==null||G.blur());return}switch(J.key){case"ArrowDown":J.preventDefault(),w(he=>he<T.length-1?he+1:0);break;case"ArrowUp":J.preventDefault(),w(he=>he>0?he-1:T.length-1);break;case"Enter":J.preventDefault(),S>=0&&S<T.length&&se(T[S],S);break;case"Escape":J.preventDefault(),A(!1),w(-1),(re=v.current)==null||re.blur();break}};m.useEffect(()=>{p&&v.current&&v.current.focus()},[p]),m.useEffect(()=>{const J=G=>{b.current&&!b.current.contains(G.target)&&(A(!1),w(-1))};return document.addEventListener("mousedown",J),()=>{document.removeEventListener("mousedown",J)}},[]);const ue=i||h&&I,ee=P.length>0&&!o,V=z&&P===z.formatted_address;return t.jsxs("div",{ref:b,className:`relative w-full ${u}`,children:[e&&t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx(X,{htmlFor:f,className:`${l?'after:content-["*"] after:ml-0.5 after:text-red-500':""}`,children:e}),E&&t.jsxs(K,{variant:"secondary",className:"text-xs",children:[t.jsx(ud,{className:"w-3 h-3 mr-1"}),"Manual Entry"]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 pointer-events-none z-10",children:V?t.jsx(hr,{className:"w-4 h-4 text-green-600"}):E?t.jsx(ud,{className:"w-4 h-4 text-muted-foreground"}):t.jsx(Ls,{className:"w-4 h-4 text-muted-foreground"})}),t.jsx(Re,{ref:v,id:f,type:"text",value:P,onChange:H,onFocus:W,onBlur:L,onKeyDown:le,placeholder:E?"Enter address manually":s,disabled:o,className:`
            pl-10 ${ee?"pr-10":"pr-4"}
            ${j?"mobile-input":""}
            ${ue?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
            ${V?"border-green-500 bg-green-50":""}
            transition-colors duration-200
          `,autoComplete:"off",role:"combobox","aria-expanded":_,"aria-haspopup":"listbox","aria-describedby":ue?`${f}-error`:void 0,"aria-activedescendant":S>=0?`${f}-option-${S}`:void 0}),ee&&t.jsx($,{type:"button",variant:"ghost",size:"sm",onClick:te,className:"absolute right-1 top-1/2 transform -translate-y-1/2 w-8 h-8 p-0 hover:bg-gray-100 z-10",tabIndex:-1,children:t.jsx(Li,{className:"w-3 h-3"})}),O&&t.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none z-10",children:t.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"})})]}),(i||h&&I)&&t.jsx("p",{id:`${f}-error`,className:"mt-1 text-sm text-red-600",children:i||I}),_&&T.length>0&&t.jsx("div",{ref:g,className:"absolute left-0 right-0 top-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-64 overflow-y-auto z-50",role:"listbox","aria-label":"Address suggestions",children:T.map((J,G)=>t.jsx("div",{id:`${f}-option-${G}`,className:`
                w-full px-4 py-3 text-left cursor-pointer border-b border-gray-100 last:border-b-0
                transition-all duration-150
                ${G===S?"bg-blue-50 border-blue-200 shadow-sm":"hover:bg-gray-50"}
                ${j?"mobile-button touch-target":""}
              `,onClick:()=>se(J,G),onMouseEnter:()=>w(G),role:"option","aria-selected":G===S,tabIndex:-1,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(kt,{className:`w-4 h-4 mt-0.5 flex-shrink-0 ${G===S?"text-blue-500":"text-muted-foreground"}`}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:`text-sm font-medium truncate ${G===S?"text-blue-900":"text-gray-900"}`,children:J.structured_formatting.main_text}),t.jsx("div",{className:"text-xs text-muted-foreground truncate",children:J.structured_formatting.secondary_text})]})]})},J.place_id))}),_&&!O&&P.length>=3&&T.length===0&&(!I||h)&&!E&&t.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:t.jsxs("div",{className:"px-4 py-6 text-center",children:[t.jsx(Ls,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),t.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"No addresses found"})]})})]})}function NP({onComplete:e,onSkip:s,isEditMode:r=!1,existingData:n}){const[a,i]=m.useState(0),[o,l]=m.useState({}),c=ms();m.useEffect(()=>{if(r&&n)l(n);else if(r)try{const y=localStorage.getItem("handoff-screening-data");if(y){const x=JSON.parse(y);l(x)}}catch(y){console.warn("Error loading existing screening data:",y)}(()=>{var y;if(!o.propertyAddress){const x=localStorage.getItem("handoff-attom-property-data");if(x)try{const w=JSON.parse(x);if((y=w.address)!=null&&y.formatted){l(k=>({...k,propertyAddress:w.address.formatted}));return}}catch(w){console.warn("Error parsing Attom data:",w)}const S=localStorage.getItem("handoff-property-data");if(S)try{const w=JSON.parse(S);if(w.propertyAddress){l(k=>({...k,propertyAddress:w.propertyAddress}));return}}catch(w){console.warn("Error parsing property data:",w)}}})()},[r,n]);const d=m.useCallback(g=>{l(y=>{const x={...y,...g};if(r)try{localStorage.setItem("handoff-screening-data",JSON.stringify(x))}catch(S){console.warn("Error saving screening data:",S)}return x})},[r]),u=m.useCallback(()=>{if(a<j.length-1)i(g=>g+1);else{const g={buyingStage:o.buyingStage||"just-starting",experienceLevel:o.experienceLevel||"first-time",hasSpecificProperty:o.hasSpecificProperty||!1,propertyAddress:o.propertyAddress,primaryGoal:o.primaryGoal||"primary-residence",timeframe:o.timeframe||"exploring",hasPreApproval:o.hasPreApproval||!1,contractSigned:o.contractSigned||!1,needsRealtor:o.needsRealtor||!1,nextAction:p()};localStorage.setItem("handoff-screening-data",JSON.stringify(g)),e(g)}},[a,o,e]),f=m.useCallback(()=>{a>0&&i(g=>g-1)},[a]),p=()=>o.buyingStage==="under-contract"||o.hasSpecificProperty?"focus-property":!o.hasPreApproval&&o.buyingStage!=="just-starting"?"get-preapproved":(o.buyingStage==="searching"||o.timeframe==="immediate","search-properties"),h=m.useCallback(()=>{var x;let g=!1,y="";switch(a){case 0:g=!!o.buyingStage,y=g?"":"buying stage";break;case 1:g=!!o.experienceLevel,y=g?"":"experience level";break;case 2:const S=o.hasSpecificProperty!==void 0,w=!!o.propertyAddress;g=S||w,w&&!S&&(d({hasSpecificProperty:!0}),g=!0),y=g?"":"specific property choice";break;case 3:g=!!o.primaryGoal,y=g?"":"primary goal";break;case 4:g=!!o.timeframe,y=g?"":"timeframe";break;case 5:g=o.hasPreApproval!==void 0,y=g?"":"pre-approval status";break;default:g=!0}return console.log("PropertySetupScreening - Step validation:",{currentStep:a,canContinue:g,missingField:y,screeningData:o,stepTitle:(x=j[a])==null?void 0:x.title,hasPopulatedAddress:!!o.propertyAddress}),g},[a,o,d]),j=[{title:"What's your current buying stage?",description:"This helps us understand where you are in the process",icon:t.jsx(Ls,{className:"w-6 h-6"}),component:t.jsx("div",{className:"space-y-3",children:[{id:"just-starting",label:"Just starting to think about buying",desc:"Exploring options and learning"},{id:"searching",label:"Actively searching for properties",desc:"Looking at listings and touring homes"},{id:"under-contract",label:"Under contract on a property",desc:"Already have a signed purchase agreement"},{id:"pre-approved",label:"Pre-approved but still searching",desc:"Have financing ready, looking for the right home"}].map(g=>t.jsx(F,{className:`cursor-pointer transition-all duration-200 ${o.buyingStage===g.id?"ring-2 ring-primary bg-primary/5":"hover:shadow-md hover:bg-muted/50"}`,onClick:()=>d({buyingStage:g.id}),children:t.jsx(U,{className:"p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-foreground",children:g.label}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:g.desc})]}),o.buyingStage===g.id&&t.jsx(K,{variant:"default",className:"ml-2",children:"Selected"})]})})},g.id))})},{title:"How would you describe your experience?",description:"This helps us tailor our guidance to your needs",icon:t.jsx(fn,{className:"w-6 h-6"}),component:t.jsx("div",{className:"space-y-3",children:[{id:"first-time",label:"First-time home buyer",desc:"This will be my first home purchase"},{id:"experienced",label:"Experienced buyer",desc:"I've bought homes before"},{id:"investor",label:"Real estate investor",desc:"Buying for investment purposes"}].map(g=>t.jsx(F,{className:`cursor-pointer transition-all duration-200 ${o.experienceLevel===g.id?"ring-2 ring-primary bg-primary/5":"hover:shadow-md hover:bg-muted/50"}`,onClick:()=>d({experienceLevel:g.id}),children:t.jsx(U,{className:"p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-foreground",children:g.label}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:g.desc})]}),o.experienceLevel===g.id&&t.jsx(K,{variant:"default",className:"ml-2",children:"Selected"})]})})},g.id))})},{title:"Do you have a specific property in mind?",description:"This determines what information we'll need to collect",icon:t.jsx(We,{className:"w-6 h-6"}),component:t.jsxs("div",{className:"space-y-4",children:[o.propertyAddress&&t.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-green-800",children:"Property Address Found"}),t.jsx("p",{className:"text-sm text-green-700 mt-1",children:o.propertyAddress}),t.jsx("p",{className:"text-xs text-green-600 mt-1",children:"We've automatically detected your property address. You can proceed or update it below."})]})]})}),t.jsx("div",{className:"space-y-3",children:[{id:!0,label:"Yes, I have a specific property",desc:"I know the exact property I want to buy"},{id:!1,label:"No, I'm still searching",desc:"I'm looking at multiple options"}].map(g=>t.jsx(F,{className:`cursor-pointer transition-all duration-200 ${o.hasSpecificProperty===g.id?"ring-2 ring-primary bg-primary/5":"hover:shadow-md hover:bg-muted/50"}`,onClick:()=>d({hasSpecificProperty:g.id}),children:t.jsx(U,{className:"p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-foreground",children:g.label}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:g.desc})]}),o.hasSpecificProperty===g.id&&t.jsx(K,{variant:"default",className:"ml-2",children:"Selected"})]})})},g.id.toString()))}),(o.hasSpecificProperty||o.propertyAddress)&&t.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[t.jsx(qb,{label:"Property Address",placeholder:"Start typing the property address...",value:o.propertyAddress||"",onInputChange:g=>d({propertyAddress:g}),onChange:g=>{g&&d({propertyAddress:g.formatted_address})}}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"We'll search the Attom database for property details when you enter an address"})]})]})},{title:"What's your primary goal?",description:"This helps us understand your priorities",icon:t.jsx(Ub,{className:"w-6 h-6"}),component:t.jsx("div",{className:"space-y-3",children:[{id:"primary-residence",label:"Primary residence",desc:"This will be my main home"},{id:"investment",label:"Investment property",desc:"For rental income or appreciation"},{id:"vacation-home",label:"Vacation home",desc:"Second home for personal use"},{id:"relocation",label:"Relocation",desc:"Moving for work or family reasons"}].map(g=>t.jsx(F,{className:`cursor-pointer transition-all duration-200 ${o.primaryGoal===g.id?"ring-2 ring-primary bg-primary/5":"hover:shadow-md hover:bg-muted/50"}`,onClick:()=>d({primaryGoal:g.id}),children:t.jsx(U,{className:"p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-foreground",children:g.label}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:g.desc})]}),o.primaryGoal===g.id&&t.jsx(K,{variant:"default",className:"ml-2",children:"Selected"})]})})},g.id))})},{title:"What's your timeframe?",description:"This helps us prioritize your action items",icon:t.jsx(Qt,{className:"w-6 h-6"}),component:t.jsx("div",{className:"space-y-3",children:[{id:"immediate",label:"Ready to buy immediately",desc:"Want to make an offer within 30 days"},{id:"3-months",label:"Within 3 months",desc:"Actively looking, planning to buy soon"},{id:"6-months",label:"Within 6 months",desc:"Preparing to buy in the near future"},{id:"exploring",label:"Just exploring",desc:"Learning about the process, no rush"}].map(g=>t.jsx(F,{className:`cursor-pointer transition-all duration-200 ${o.timeframe===g.id?"ring-2 ring-primary bg-primary/5":"hover:shadow-md hover:bg-muted/50"}`,onClick:()=>d({timeframe:g.id}),children:t.jsx(U,{className:"p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-foreground",children:g.label}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:g.desc})]}),o.timeframe===g.id&&t.jsx(K,{variant:"default",className:"ml-2",children:"Selected"})]})})},g.id))})},{title:"Do you have financing pre-approval?",description:"This affects your buying power and strategy",icon:t.jsx(ls,{className:"w-6 h-6"}),component:t.jsx("div",{className:"space-y-3",children:[{id:!0,label:"Yes, I have pre-approval",desc:"I have a pre-approval letter from a lender"},{id:!1,label:"No, not yet",desc:"I still need to get pre-approved for financing"}].map(g=>t.jsx(F,{className:`cursor-pointer transition-all duration-200 ${o.hasPreApproval===g.id?"ring-2 ring-primary bg-primary/5":"hover:shadow-md hover:bg-muted/50"}`,onClick:()=>d({hasPreApproval:g.id}),children:t.jsx(U,{className:"p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-foreground",children:g.label}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:g.desc})]}),o.hasPreApproval===g.id&&t.jsx(K,{variant:"default",className:"ml-2",children:"Selected"})]})})},g.id.toString()))})}],v=j[a],b=(a+1)/j.length*100;return t.jsx("div",{className:`min-h-screen bg-background ${c?"page-content-mobile":"page-content"}`,children:t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-2xl font-semibold text-foreground mb-2",children:r?"Update your experience":"Let's personalize your experience"}),t.jsx("p",{className:"text-muted-foreground",children:r?"Update your responses to customize your property setup":"A few quick questions to customize your property setup"})]}),t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsxs("span",{className:"text-sm text-muted-foreground",children:["Step ",a+1," of ",j.length]}),t.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(b),"% complete"]})]}),t.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:t.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300 ease-out",style:{width:`${b}%`}})})]}),t.jsxs(F,{className:"mb-8",children:[t.jsxs(q,{className:"text-center",children:[t.jsx("div",{className:"flex justify-center mb-4",children:t.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:v.icon})}),t.jsx(Y,{className:"text-xl",children:v.title}),t.jsx(Ie,{children:v.description})]}),t.jsx(U,{children:v.component})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs($,{variant:"outline",onClick:f,disabled:a===0,className:c?"mobile-button":"",children:[t.jsx(Fn,{className:"w-4 h-4 mr-2"}),"Back"]}),t.jsxs("div",{className:"flex items-center gap-3",children:[!r&&t.jsx($,{variant:"ghost",onClick:s,className:`text-muted-foreground hover:text-foreground ${c?"mobile-button":""}`,children:"Skip for now"}),t.jsxs($,{onClick:u,disabled:!h(),className:`${c?"mobile-button":""} ${h()?"":"opacity-50 cursor-not-allowed"}`,title:h()?"":"Please make a selection to continue",children:[a===j.length-1?r?"Save Changes":"Complete":"Next",t.jsx(Il,{className:"w-4 h-4 ml-2"})]})]})]})]})})}function Xe(e){const s=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&s==="[object Date]"?new e.constructor(+e):typeof e=="number"||s==="[object Number]"||typeof e=="string"||s==="[object String]"?new Date(e):new Date(NaN)}function zs(e,s){return e instanceof Date?new e.constructor(s):new Date(s)}function xs(e,s){const r=Xe(e);return isNaN(s)?zs(e,NaN):(s&&r.setDate(r.getDate()+s),r)}function jr(e,s){const r=Xe(e);if(isNaN(s))return zs(e,NaN);if(!s)return r;const n=r.getDate(),a=zs(e,r.getTime());a.setMonth(r.getMonth()+s+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const rp=6048e5,SP=864e5;let kP={};function Rl(){return kP}function qr(e,s){var l,c,d,u;const r=Rl(),n=(s==null?void 0:s.weekStartsOn)??((c=(l=s==null?void 0:s.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Xe(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Ma(e){return qr(e,{weekStartsOn:1})}function Yb(e){const s=Xe(e),r=s.getFullYear(),n=zs(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Ma(n),i=zs(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Ma(i);return s.getTime()>=a.getTime()?r+1:s.getTime()>=o.getTime()?r:r-1}function $i(e){const s=Xe(e);return s.setHours(0,0,0,0),s}function md(e){const s=Xe(e),r=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return r.setUTCFullYear(s.getFullYear()),+e-+r}function Dr(e,s){const r=$i(e),n=$i(s),a=+r-md(r),i=+n-md(n);return Math.round((a-i)/SP)}function _P(e){const s=Yb(e),r=zs(e,0);return r.setFullYear(s,0,4),r.setHours(0,0,0,0),Ma(r)}function kh(e,s){const r=s*7;return xs(e,r)}function AP(e,s){return jr(e,s*12)}function CP(e){let s;return e.forEach(function(r){const n=Xe(r);(s===void 0||s<n||isNaN(Number(n)))&&(s=n)}),s||new Date(NaN)}function PP(e){let s;return e.forEach(r=>{const n=Xe(r);(!s||s>n||isNaN(+n))&&(s=n)}),s||new Date(NaN)}function ks(e,s){const r=$i(e),n=$i(s);return+r==+n}function np(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function TP(e){if(!np(e)&&typeof e!="number")return!1;const s=Xe(e);return!isNaN(Number(s))}function Nl(e,s){const r=Xe(e),n=Xe(s),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function EP(e,s,r){const n=qr(e,r),a=qr(s,r),i=+n-md(n),o=+a-md(a);return Math.round((i-o)/rp)}function ap(e){const s=Xe(e),r=s.getMonth();return s.setFullYear(s.getFullYear(),r+1,0),s.setHours(23,59,59,999),s}function Ps(e){const s=Xe(e);return s.setDate(1),s.setHours(0,0,0,0),s}function Gb(e){const s=Xe(e),r=zs(e,0);return r.setFullYear(s.getFullYear(),0,1),r.setHours(0,0,0,0),r}function ip(e,s){var l,c,d,u;const r=Rl(),n=(s==null?void 0:s.weekStartsOn)??((c=(l=s==null?void 0:s.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Xe(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function Kb(e){return ip(e,{weekStartsOn:1})}const IP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},OP=(e,s,r)=>{let n;const a=IP[e];return typeof a=="string"?n=a:s===1?n=a.one:n=a.other.replace("{{count}}",s.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Ju(e){return(s={})=>{const r=s.width?String(s.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const RP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},MP={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},DP={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},LP={date:Ju({formats:RP,defaultWidth:"full"}),time:Ju({formats:MP,defaultWidth:"full"}),dateTime:Ju({formats:DP,defaultWidth:"full"})},$P={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},FP=(e,s,r,n)=>$P[e];function Eo(e){return(s,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(s):s;return a[i]}}const zP={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},UP={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},BP={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},VP={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},WP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},HP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},qP=(e,s)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},YP={ordinalNumber:qP,era:Eo({values:zP,defaultWidth:"wide"}),quarter:Eo({values:UP,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Eo({values:BP,defaultWidth:"wide"}),day:Eo({values:VP,defaultWidth:"wide"}),dayPeriod:Eo({values:WP,defaultWidth:"wide",formattingValues:HP,defaultFormattingWidth:"wide"})};function Io(e){return(s,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=s.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?KP(l,f=>f.test(o)):GP(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=s.slice(o.length);return{value:d,rest:u}}}function GP(e,s){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&s(e[r]))return r}function KP(e,s){for(let r=0;r<e.length;r++)if(s(e[r]))return r}function JP(e){return(s,r={})=>{const n=s.match(e.matchPattern);if(!n)return null;const a=n[0],i=s.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=s.slice(a.length);return{value:o,rest:l}}}const QP=/^(\d+)(th|st|nd|rd)?/i,XP=/\d+/i,ZP={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},eT={any:[/^b/i,/^(a|c)/i]},tT={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sT={any:[/1/i,/2/i,/3/i,/4/i]},rT={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},nT={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aT={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},iT={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},oT={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lT={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cT={ordinalNumber:JP({matchPattern:QP,parsePattern:XP,valueCallback:e=>parseInt(e,10)}),era:Io({matchPatterns:ZP,defaultMatchWidth:"wide",parsePatterns:eT,defaultParseWidth:"any"}),quarter:Io({matchPatterns:tT,defaultMatchWidth:"wide",parsePatterns:sT,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Io({matchPatterns:rT,defaultMatchWidth:"wide",parsePatterns:nT,defaultParseWidth:"any"}),day:Io({matchPatterns:aT,defaultMatchWidth:"wide",parsePatterns:iT,defaultParseWidth:"any"}),dayPeriod:Io({matchPatterns:oT,defaultMatchWidth:"any",parsePatterns:lT,defaultParseWidth:"any"})},Jb={code:"en-US",formatDistance:OP,formatLong:LP,formatRelative:FP,localize:YP,match:cT,options:{weekStartsOn:0,firstWeekContainsDate:1}};function dT(e){const s=Xe(e);return Dr(s,Gb(s))+1}function Qb(e){const s=Xe(e),r=+Ma(s)-+_P(s);return Math.round(r/rp)+1}function Xb(e,s){var u,f,p,h;const r=Xe(e),n=r.getFullYear(),a=Rl(),i=(s==null?void 0:s.firstWeekContainsDate)??((f=(u=s==null?void 0:s.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(p=a.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,o=zs(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=qr(o,s),c=zs(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=qr(c,s);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function uT(e,s){var l,c,d,u;const r=Rl(),n=(s==null?void 0:s.firstWeekContainsDate)??((c=(l=s==null?void 0:s.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=Xb(e,s),i=zs(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),qr(i,s)}function Zb(e,s){const r=Xe(e),n=+qr(r,s)-+uT(r,s);return Math.round(n/rp)+1}function et(e,s){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(s,"0");return r+n}const An={y(e,s){const r=e.getFullYear(),n=r>0?r:1-r;return et(s==="yy"?n%100:n,s.length)},M(e,s){const r=e.getMonth();return s==="M"?String(r+1):et(r+1,2)},d(e,s){return et(e.getDate(),s.length)},a(e,s){const r=e.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,s){return et(e.getHours()%12||12,s.length)},H(e,s){return et(e.getHours(),s.length)},m(e,s){return et(e.getMinutes(),s.length)},s(e,s){return et(e.getSeconds(),s.length)},S(e,s){const r=s.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return et(a,s.length)}},Ya={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vv={G:function(e,s,r){const n=e.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,s,r){if(s==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return An.y(e,s)},Y:function(e,s,r,n){const a=Xb(e,n),i=a>0?a:1-a;if(s==="YY"){const o=i%100;return et(o,2)}return s==="Yo"?r.ordinalNumber(i,{unit:"year"}):et(i,s.length)},R:function(e,s){const r=Yb(e);return et(r,s.length)},u:function(e,s){const r=e.getFullYear();return et(r,s.length)},Q:function(e,s,r){const n=Math.ceil((e.getMonth()+1)/3);switch(s){case"Q":return String(n);case"QQ":return et(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,s,r){const n=Math.ceil((e.getMonth()+1)/3);switch(s){case"q":return String(n);case"qq":return et(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,s,r){const n=e.getMonth();switch(s){case"M":case"MM":return An.M(e,s);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,s,r){const n=e.getMonth();switch(s){case"L":return String(n+1);case"LL":return et(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,s,r,n){const a=Zb(e,n);return s==="wo"?r.ordinalNumber(a,{unit:"week"}):et(a,s.length)},I:function(e,s,r){const n=Qb(e);return s==="Io"?r.ordinalNumber(n,{unit:"week"}):et(n,s.length)},d:function(e,s,r){return s==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):An.d(e,s)},D:function(e,s,r){const n=dT(e);return s==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):et(n,s.length)},E:function(e,s,r){const n=e.getDay();switch(s){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,s,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(s){case"e":return String(i);case"ee":return et(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,s,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(s){case"c":return String(i);case"cc":return et(i,s.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,s,r){const n=e.getDay(),a=n===0?7:n;switch(s){case"i":return String(a);case"ii":return et(a,s.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,s,r){const a=e.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,s,r){const n=e.getHours();let a;switch(n===12?a=Ya.noon:n===0?a=Ya.midnight:a=n/12>=1?"pm":"am",s){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,s,r){const n=e.getHours();let a;switch(n>=17?a=Ya.evening:n>=12?a=Ya.afternoon:n>=4?a=Ya.morning:a=Ya.night,s){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,s,r){if(s==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return An.h(e,s)},H:function(e,s,r){return s==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):An.H(e,s)},K:function(e,s,r){const n=e.getHours()%12;return s==="Ko"?r.ordinalNumber(n,{unit:"hour"}):et(n,s.length)},k:function(e,s,r){let n=e.getHours();return n===0&&(n=24),s==="ko"?r.ordinalNumber(n,{unit:"hour"}):et(n,s.length)},m:function(e,s,r){return s==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):An.m(e,s)},s:function(e,s,r){return s==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):An.s(e,s)},S:function(e,s){return An.S(e,s)},X:function(e,s,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(s){case"X":return Hv(n);case"XXXX":case"XX":return ha(n);case"XXXXX":case"XXX":default:return ha(n,":")}},x:function(e,s,r){const n=e.getTimezoneOffset();switch(s){case"x":return Hv(n);case"xxxx":case"xx":return ha(n);case"xxxxx":case"xxx":default:return ha(n,":")}},O:function(e,s,r){const n=e.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+Wv(n,":");case"OOOO":default:return"GMT"+ha(n,":")}},z:function(e,s,r){const n=e.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+Wv(n,":");case"zzzz":default:return"GMT"+ha(n,":")}},t:function(e,s,r){const n=Math.trunc(e.getTime()/1e3);return et(n,s.length)},T:function(e,s,r){const n=e.getTime();return et(n,s.length)}};function Wv(e,s=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+s+et(i,2)}function Hv(e,s){return e%60===0?(e>0?"-":"+")+et(Math.abs(e)/60,2):ha(e,s)}function ha(e,s=""){const r=e>0?"-":"+",n=Math.abs(e),a=et(Math.trunc(n/60),2),i=et(n%60,2);return r+a+s+i}const qv=(e,s)=>{switch(e){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},ew=(e,s)=>{switch(e){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},mT=(e,s)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return qv(e,s);let i;switch(n){case"P":i=s.dateTime({width:"short"});break;case"PP":i=s.dateTime({width:"medium"});break;case"PPP":i=s.dateTime({width:"long"});break;case"PPPP":default:i=s.dateTime({width:"full"});break}return i.replace("{{date}}",qv(n,s)).replace("{{time}}",ew(a,s))},hT={p:ew,P:mT},fT=/^D+$/,pT=/^Y+$/,xT=["D","DD","YY","YYYY"];function gT(e){return fT.test(e)}function vT(e){return pT.test(e)}function yT(e,s,r){const n=jT(e,s,r);if(console.warn(n),xT.includes(e))throw new RangeError(n)}function jT(e,s,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${s}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const bT=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wT=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,NT=/^'([^]*?)'?$/,ST=/''/g,kT=/[a-zA-Z]/;function ra(e,s,r){var u,f,p,h,j,v,b,g;const n=Rl(),a=(r==null?void 0:r.locale)??n.locale??Jb,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(p=n.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((v=(j=r==null?void 0:r.locale)==null?void 0:j.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((g=(b=n.locale)==null?void 0:b.options)==null?void 0:g.weekStartsOn)??0,l=Xe(e);if(!TP(l))throw new RangeError("Invalid time value");let c=s.match(wT).map(y=>{const x=y[0];if(x==="p"||x==="P"){const S=hT[x];return S(y,a.formatLong)}return y}).join("").match(bT).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const x=y[0];if(x==="'")return{isToken:!1,value:_T(y)};if(Vv[x])return{isToken:!0,value:y};if(x.match(kT))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const x=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&vT(x)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&gT(x))&&yT(x,s,String(e));const S=Vv[x[0]];return S(l,x,a.localize,d)}).join("")}function _T(e){const s=e.match(NT);return s?s[1].replace(ST,"'"):e}function AT(e){const s=Xe(e),r=s.getFullYear(),n=s.getMonth(),a=zs(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function CT(e){return Math.trunc(+Xe(e)/1e3)}function PT(e){const s=Xe(e),r=s.getMonth();return s.setFullYear(s.getFullYear(),r+1,0),s.setHours(0,0,0,0),s}function TT(e,s){return EP(PT(e),Ps(e),s)+1}function _h(e,s){const r=Xe(e),n=Xe(s);return r.getTime()>n.getTime()}function tw(e,s){const r=Xe(e),n=Xe(s);return+r<+n}function op(e,s){const r=Xe(e),n=Xe(s);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function ET(e,s){const r=Xe(e),n=Xe(s);return r.getFullYear()===n.getFullYear()}function Qu(e,s){return xs(e,-s)}function Xu(e,s){const r=Xe(e),n=r.getFullYear(),a=r.getDate(),i=zs(e,0);i.setFullYear(n,s,15),i.setHours(0,0,0,0);const o=AT(i);return r.setMonth(s,Math.min(a,o)),r}function Yv(e,s){const r=Xe(e);return isNaN(+r)?zs(e,NaN):(r.setFullYear(s),r)}var Pe=function(){return Pe=Object.assign||function(s){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(s[i]=r[i])}return s},Pe.apply(this,arguments)};function IT(e,s){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&s.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)s.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function sw(e,s,r){if(r||arguments.length===2)for(var n=0,a=s.length,i;n<a;n++)(i||!(n in s))&&(i||(i=Array.prototype.slice.call(s,0,n)),i[n]=s[n]);return e.concat(i||Array.prototype.slice.call(s))}function Ml(e){return e.mode==="multiple"}function Dl(e){return e.mode==="range"}function Hd(e){return e.mode==="single"}var OT={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function RT(e,s){return ra(e,"LLLL y",s)}function MT(e,s){return ra(e,"d",s)}function DT(e,s){return ra(e,"LLLL",s)}function LT(e){return"".concat(e)}function $T(e,s){return ra(e,"cccccc",s)}function FT(e,s){return ra(e,"yyyy",s)}var zT=Object.freeze({__proto__:null,formatCaption:RT,formatDay:MT,formatMonthCaption:DT,formatWeekNumber:LT,formatWeekdayName:$T,formatYearCaption:FT}),UT=function(e,s,r){return ra(e,"do MMMM (EEEE)",r)},BT=function(){return"Month: "},VT=function(){return"Go to next month"},WT=function(){return"Go to previous month"},HT=function(e,s){return ra(e,"cccc",s)},qT=function(e){return"Week n. ".concat(e)},YT=function(){return"Year: "},GT=Object.freeze({__proto__:null,labelDay:UT,labelMonthDropdown:BT,labelNext:VT,labelPrevious:WT,labelWeekNumber:qT,labelWeekday:HT,labelYearDropdown:YT});function KT(){var e="buttons",s=OT,r=Jb,n={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:s,formatters:zT,labels:GT,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function JT(e){var s=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=Ps(n):s&&(i=new Date(s,0,1)),a?o=ap(a):r&&(o=new Date(r,11,31)),{fromDate:i?$i(i):void 0,toDate:o?$i(o):void 0}}var rw=m.createContext(void 0);function QT(e){var s,r=e.initialProps,n=KT(),a=JT(r),i=a.fromDate,o=a.toDate,l=(s=r.captionLayout)!==null&&s!==void 0?s:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(Hd(r)||Ml(r)||Dl(r))&&(c=r.onSelect);var d=Pe(Pe(Pe({},n),r),{captionLayout:l,classNames:Pe(Pe({},n.classNames),r.classNames),components:Pe({},r.components),formatters:Pe(Pe({},n.formatters),r.formatters),fromDate:i,labels:Pe(Pe({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Pe(Pe({},n.modifiers),r.modifiers),modifiersClassNames:Pe(Pe({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Pe(Pe({},n.styles),r.styles),toDate:o});return t.jsx(rw.Provider,{value:d,children:e.children})}function ot(){var e=m.useContext(rw);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function nw(e){var s=ot(),r=s.locale,n=s.classNames,a=s.styles,i=s.formatters.formatCaption;return t.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function XT(e){return t.jsx("svg",Pe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:t.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function aw(e){var s,r,n=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,d=ot(),u=(r=(s=d.components)===null||s===void 0?void 0:s.IconDropdown)!==null&&r!==void 0?r:XT;return t.jsxs("div",{className:l,style:c,children:[t.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),t.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:n,children:i}),t.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,t.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function ZT(e){var s,r=ot(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!n)return t.jsx(t.Fragment,{});if(!a)return t.jsx(t.Fragment,{});var f=[];if(ET(n,a))for(var p=Ps(n),h=n.getMonth();h<=a.getMonth();h++)f.push(Xu(p,h));else for(var p=Ps(new Date),h=0;h<=11;h++)f.push(Xu(p,h));var j=function(b){var g=Number(b.target.value),y=Xu(Ps(e.displayMonth),g);e.onChange(y)},v=(s=d==null?void 0:d.Dropdown)!==null&&s!==void 0?s:aw;return t.jsx(v,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:j,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(b){return t.jsx("option",{value:b.getMonth(),children:l(b,{locale:o})},b.getMonth())})})}function e4(e){var s,r=e.displayMonth,n=ot(),a=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,c=n.classNames,d=n.components,u=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,p=[];if(!a)return t.jsx(t.Fragment,{});if(!i)return t.jsx(t.Fragment,{});for(var h=a.getFullYear(),j=i.getFullYear(),v=h;v<=j;v++)p.push(Yv(Gb(new Date),v));var b=function(y){var x=Yv(Ps(r),Number(y.target.value));e.onChange(x)},g=(s=d==null?void 0:d.Dropdown)!==null&&s!==void 0?s:aw;return t.jsx(g,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:b,value:r.getFullYear(),caption:u(r,{locale:o}),children:p.map(function(y){return t.jsx("option",{value:y.getFullYear(),children:u(y,{locale:o})},y.getFullYear())})})}function t4(e,s){var r=m.useState(e),n=r[0],a=r[1],i=s===void 0?n:s;return[i,a]}function s4(e){var s=e.month,r=e.defaultMonth,n=e.today,a=s||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&Nl(i,a)<0){var d=-1*(c-1);a=jr(i,d)}return o&&Nl(a,o)<0&&(a=o),Ps(a)}function r4(){var e=ot(),s=s4(e),r=t4(s,e.month),n=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var c=Ps(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,i]}function n4(e,s){for(var r=s.reverseMonths,n=s.numberOfMonths,a=Ps(e),i=Ps(jr(a,n)),o=Nl(i,a),l=[],c=0;c<o;c++){var d=jr(a,c);l.push(d)}return r&&(l=l.reverse()),l}function a4(e,s){if(!s.disableNavigation){var r=s.toDate,n=s.pagedNavigation,a=s.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Ps(e);if(!r)return jr(l,o);var c=Nl(r,e);if(!(c<i))return jr(l,o)}}function i4(e,s){if(!s.disableNavigation){var r=s.fromDate,n=s.pagedNavigation,a=s.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Ps(e);if(!r)return jr(l,-o);var c=Nl(l,r);if(!(c<=0))return jr(l,-o)}}var iw=m.createContext(void 0);function o4(e){var s=ot(),r=r4(),n=r[0],a=r[1],i=n4(n,s),o=a4(n,s),l=i4(n,s),c=function(f){return i.some(function(p){return op(f,p)})},d=function(f,p){c(f)||(p&&tw(f,p)?a(jr(f,1+s.numberOfMonths*-1)):a(f))},u={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return t.jsx(iw.Provider,{value:u,children:e.children})}function Ll(){var e=m.useContext(iw);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Gv(e){var s,r=ot(),n=r.classNames,a=r.styles,i=r.components,o=Ll().goToMonth,l=function(u){o(jr(u,e.displayIndex?-e.displayIndex:0))},c=(s=i==null?void 0:i.CaptionLabel)!==null&&s!==void 0?s:nw,d=t.jsx(c,{id:e.id,displayMonth:e.displayMonth});return t.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[t.jsx("div",{className:n.vhidden,children:d}),t.jsx(ZT,{onChange:l,displayMonth:e.displayMonth}),t.jsx(e4,{onChange:l,displayMonth:e.displayMonth})]})}function l4(e){return t.jsx("svg",Pe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:t.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function c4(e){return t.jsx("svg",Pe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:t.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var hd=m.forwardRef(function(e,s){var r=ot(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=Pe(Pe({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),t.jsx("button",Pe({},e,{ref:s,type:"button",className:o,style:l}))});function d4(e){var s,r,n=ot(),a=n.dir,i=n.locale,o=n.classNames,l=n.styles,c=n.labels,d=c.labelPrevious,u=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return t.jsx(t.Fragment,{});var p=d(e.previousMonth,{locale:i}),h=[o.nav_button,o.nav_button_previous].join(" "),j=u(e.nextMonth,{locale:i}),v=[o.nav_button,o.nav_button_next].join(" "),b=(s=f==null?void 0:f.IconRight)!==null&&s!==void 0?s:c4,g=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:l4;return t.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&t.jsx(hd,{name:"previous-month","aria-label":p,className:h,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?t.jsx(b,{className:o.nav_icon,style:l.nav_icon}):t.jsx(g,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&t.jsx(hd,{name:"next-month","aria-label":j,className:v,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?t.jsx(g,{className:o.nav_icon,style:l.nav_icon}):t.jsx(b,{className:o.nav_icon,style:l.nav_icon})})]})}function Kv(e){var s=ot().numberOfMonths,r=Ll(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(j){return op(e.displayMonth,j)}),c=l===0,d=l===o.length-1,u=s>1&&(c||!d),f=s>1&&(d||!c),p=function(){n&&i(n)},h=function(){a&&i(a)};return t.jsx(d4,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:p,onNextClick:h})}function u4(e){var s,r=ot(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(s=l==null?void 0:l.CaptionLabel)!==null&&s!==void 0?s:nw,d;return a?d=t.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=t.jsx(Gv,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=t.jsxs(t.Fragment,{children:[t.jsx(Gv,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),t.jsx(Kv,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=t.jsxs(t.Fragment,{children:[t.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),t.jsx(Kv,{displayMonth:e.displayMonth,id:e.id})]}),t.jsx("div",{className:n.caption,style:i.caption,children:d})}function m4(e){var s=ot(),r=s.footer,n=s.styles,a=s.classNames.tfoot;return r?t.jsx("tfoot",{className:a,style:n.tfoot,children:t.jsx("tr",{children:t.jsx("td",{colSpan:8,children:r})})}):t.jsx(t.Fragment,{})}function h4(e,s,r){for(var n=r?Ma(new Date):qr(new Date,{locale:e,weekStartsOn:s}),a=[],i=0;i<7;i++){var o=xs(n,i);a.push(o)}return a}function f4(){var e=ot(),s=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=h4(a,i,o);return t.jsxs("tr",{style:r.head_row,className:s.head_row,children:[n&&t.jsx("td",{style:r.head_cell,className:s.head_cell}),d.map(function(u,f){return t.jsx("th",{scope:"col",className:s.head_cell,style:r.head_cell,"aria-label":c(u,{locale:a}),children:l(u,{locale:a})},f)})]})}function p4(){var e,s=ot(),r=s.classNames,n=s.styles,a=s.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:f4;return t.jsx("thead",{style:n.head,className:r.head,children:t.jsx(i,{})})}function x4(e){var s=ot(),r=s.locale,n=s.formatters.formatDay;return t.jsx(t.Fragment,{children:n(e.date,{locale:r})})}var lp=m.createContext(void 0);function g4(e){if(!Ml(e.initialProps)){var s={selected:void 0,modifiers:{disabled:[]}};return t.jsx(lp.Provider,{value:s,children:e.children})}return t.jsx(v4,{initialProps:e.initialProps,children:e.children})}function v4(e){var s=e.initialProps,r=e.children,n=s.selected,a=s.min,i=s.max,o=function(d,u,f){var p,h;(p=s.onDayClick)===null||p===void 0||p.call(s,d,u,f);var j=!!(u.selected&&a&&(n==null?void 0:n.length)===a);if(!j){var v=!!(!u.selected&&i&&(n==null?void 0:n.length)===i);if(!v){var b=n?sw([],n,!0):[];if(u.selected){var g=b.findIndex(function(y){return ks(d,y)});b.splice(g,1)}else b.push(d);(h=s.onSelect)===null||h===void 0||h.call(s,b,d,u,f)}}},l={disabled:[]};n&&l.disabled.push(function(d){var u=i&&n.length>i-1,f=n.some(function(p){return ks(p,d)});return!!(u&&!f)});var c={selected:n,onDayClick:o,modifiers:l};return t.jsx(lp.Provider,{value:c,children:r})}function cp(){var e=m.useContext(lp);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function y4(e,s){var r=s||{},n=r.from,a=r.to;return n&&a?ks(a,e)&&ks(n,e)?void 0:ks(a,e)?{from:a,to:void 0}:ks(n,e)?void 0:_h(n,e)?{from:e,to:a}:{from:n,to:e}:a?_h(e,a)?{from:a,to:e}:{from:e,to:a}:n?tw(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var dp=m.createContext(void 0);function j4(e){if(!Dl(e.initialProps)){var s={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return t.jsx(dp.Provider,{value:s,children:e.children})}return t.jsx(b4,{initialProps:e.initialProps,children:e.children})}function b4(e){var s=e.initialProps,r=e.children,n=s.selected,a=n||{},i=a.from,o=a.to,l=s.min,c=s.max,d=function(h,j,v){var b,g;(b=s.onDayClick)===null||b===void 0||b.call(s,h,j,v);var y=y4(h,n);(g=s.onSelect)===null||g===void 0||g.call(s,y,h,j,v)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],ks(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),l&&(i&&!o&&u.disabled.push({after:Qu(i,l-1),before:xs(i,l-1)}),i&&o&&u.disabled.push({after:i,before:xs(i,l-1)}),!i&&o&&u.disabled.push({after:Qu(o,l-1),before:xs(o,l-1)})),c){if(i&&!o&&(u.disabled.push({before:xs(i,-c+1)}),u.disabled.push({after:xs(i,c-1)})),i&&o){var f=Dr(o,i)+1,p=c-f;u.disabled.push({before:Qu(i,p)}),u.disabled.push({after:xs(o,p)})}!i&&o&&(u.disabled.push({before:xs(o,-c+1)}),u.disabled.push({after:xs(o,c-1)}))}return t.jsx(dp.Provider,{value:{selected:n,onDayClick:d,modifiers:u},children:r})}function up(){var e=m.useContext(dp);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Mc(e){return Array.isArray(e)?sw([],e,!0):e!==void 0?[e]:[]}function w4(e){var s={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];s[n]=Mc(a)}),s}var br;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(br||(br={}));var N4=br.Selected,Xr=br.Disabled,S4=br.Hidden,k4=br.Today,Zu=br.RangeEnd,em=br.RangeMiddle,tm=br.RangeStart,_4=br.Outside;function A4(e,s,r){var n,a=(n={},n[N4]=Mc(e.selected),n[Xr]=Mc(e.disabled),n[S4]=Mc(e.hidden),n[k4]=[e.today],n[Zu]=[],n[em]=[],n[tm]=[],n[_4]=[],n);return e.fromDate&&a[Xr].push({before:e.fromDate}),e.toDate&&a[Xr].push({after:e.toDate}),Ml(e)?a[Xr]=a[Xr].concat(s.modifiers[Xr]):Dl(e)&&(a[Xr]=a[Xr].concat(r.modifiers[Xr]),a[tm]=r.modifiers[tm],a[em]=r.modifiers[em],a[Zu]=r.modifiers[Zu]),a}var ow=m.createContext(void 0);function C4(e){var s=ot(),r=cp(),n=up(),a=A4(s,r,n),i=w4(s.modifiers),o=Pe(Pe({},a),i);return t.jsx(ow.Provider,{value:o,children:e.children})}function lw(){var e=m.useContext(ow);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function P4(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function T4(e){return!!(e&&typeof e=="object"&&"from"in e)}function E4(e){return!!(e&&typeof e=="object"&&"after"in e)}function I4(e){return!!(e&&typeof e=="object"&&"before"in e)}function O4(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function R4(e,s){var r,n=s.from,a=s.to;if(n&&a){var i=Dr(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=Dr(e,n)>=0&&Dr(a,e)>=0;return o}return a?ks(a,e):n?ks(n,e):!1}function M4(e){return np(e)}function D4(e){return Array.isArray(e)&&e.every(np)}function L4(e,s){return s.some(function(r){if(typeof r=="boolean")return r;if(M4(r))return ks(e,r);if(D4(r))return r.includes(e);if(T4(r))return R4(e,r);if(O4(r))return r.dayOfWeek.includes(e.getDay());if(P4(r)){var n=Dr(r.before,e),a=Dr(r.after,e),i=n>0,o=a<0,l=_h(r.before,r.after);return l?o&&i:i||o}return E4(r)?Dr(e,r.after)>0:I4(r)?Dr(r.before,e)>0:typeof r=="function"?r(e):!1})}function mp(e,s,r){var n=Object.keys(s).reduce(function(i,o){var l=s[o];return L4(e,l)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!op(e,r)&&(a.outside=!0),a}function $4(e,s){for(var r=Ps(e[0]),n=ap(e[e.length-1]),a,i,o=r;o<=n;){var l=mp(o,s),c=!l.disabled&&!l.hidden;if(!c){o=xs(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=xs(o,1)}return i||a}var F4=365;function cw(e,s){var r=s.moveBy,n=s.direction,a=s.context,i=s.modifiers,o=s.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,f=a.locale,p={day:xs,week:kh,month:jr,year:AP,startOfWeek:function(b){return a.ISOWeek?Ma(b):qr(b,{locale:f,weekStartsOn:c})},endOfWeek:function(b){return a.ISOWeek?Kb(b):ip(b,{locale:f,weekStartsOn:c})}},h=p[r](e,n==="after"?1:-1);n==="before"&&d?h=CP([d,h]):n==="after"&&u&&(h=PP([u,h]));var j=!0;if(i){var v=mp(h,i);j=!v.disabled&&!v.hidden}return j?h:l.count>F4?l.lastFocused:cw(h,{moveBy:r,direction:n,context:a,modifiers:i,retry:Pe(Pe({},l),{count:l.count+1})})}var dw=m.createContext(void 0);function z4(e){var s=Ll(),r=lw(),n=m.useState(),a=n[0],i=n[1],o=m.useState(),l=o[0],c=o[1],d=$4(s.displayMonths,r),u=a??(l&&s.isDateDisplayed(l))?l:d,f=function(){c(a),i(void 0)},p=function(b){i(b)},h=ot(),j=function(b,g){if(a){var y=cw(a,{moveBy:b,direction:g,context:h,modifiers:r});ks(a,y)||(s.goToDate(y,a),p(y))}},v={focusedDay:a,focusTarget:u,blur:f,focus:p,focusDayAfter:function(){return j("day","after")},focusDayBefore:function(){return j("day","before")},focusWeekAfter:function(){return j("week","after")},focusWeekBefore:function(){return j("week","before")},focusMonthBefore:function(){return j("month","before")},focusMonthAfter:function(){return j("month","after")},focusYearBefore:function(){return j("year","before")},focusYearAfter:function(){return j("year","after")},focusStartOfWeek:function(){return j("startOfWeek","before")},focusEndOfWeek:function(){return j("endOfWeek","after")}};return t.jsx(dw.Provider,{value:v,children:e.children})}function hp(){var e=m.useContext(dw);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function U4(e,s){var r=lw(),n=mp(e,r,s);return n}var fp=m.createContext(void 0);function B4(e){if(!Hd(e.initialProps)){var s={selected:void 0};return t.jsx(fp.Provider,{value:s,children:e.children})}return t.jsx(V4,{initialProps:e.initialProps,children:e.children})}function V4(e){var s=e.initialProps,r=e.children,n=function(i,o,l){var c,d,u;if((c=s.onDayClick)===null||c===void 0||c.call(s,i,o,l),o.selected&&!s.required){(d=s.onSelect)===null||d===void 0||d.call(s,void 0,i,o,l);return}(u=s.onSelect)===null||u===void 0||u.call(s,i,i,o,l)},a={selected:s.selected,onDayClick:n};return t.jsx(fp.Provider,{value:a,children:r})}function uw(){var e=m.useContext(fp);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function W4(e,s){var r=ot(),n=uw(),a=cp(),i=up(),o=hp(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,f=o.blur,p=o.focus,h=o.focusMonthBefore,j=o.focusMonthAfter,v=o.focusYearBefore,b=o.focusYearAfter,g=o.focusStartOfWeek,y=o.focusEndOfWeek,x=function(z){var E,D,H,W;Hd(r)?(E=n.onDayClick)===null||E===void 0||E.call(n,e,s,z):Ml(r)?(D=a.onDayClick)===null||D===void 0||D.call(a,e,s,z):Dl(r)?(H=i.onDayClick)===null||H===void 0||H.call(i,e,s,z):(W=r.onDayClick)===null||W===void 0||W.call(r,e,s,z)},S=function(z){var E;p(e),(E=r.onDayFocus)===null||E===void 0||E.call(r,e,s,z)},w=function(z){var E;f(),(E=r.onDayBlur)===null||E===void 0||E.call(r,e,s,z)},k=function(z){var E;(E=r.onDayMouseEnter)===null||E===void 0||E.call(r,e,s,z)},C=function(z){var E;(E=r.onDayMouseLeave)===null||E===void 0||E.call(r,e,s,z)},P=function(z){var E;(E=r.onDayPointerEnter)===null||E===void 0||E.call(r,e,s,z)},N=function(z){var E;(E=r.onDayPointerLeave)===null||E===void 0||E.call(r,e,s,z)},T=function(z){var E;(E=r.onDayTouchCancel)===null||E===void 0||E.call(r,e,s,z)},O=function(z){var E;(E=r.onDayTouchEnd)===null||E===void 0||E.call(r,e,s,z)},I=function(z){var E;(E=r.onDayTouchMove)===null||E===void 0||E.call(r,e,s,z)},_=function(z){var E;(E=r.onDayTouchStart)===null||E===void 0||E.call(r,e,s,z)},A=function(z){var E;(E=r.onDayKeyUp)===null||E===void 0||E.call(r,e,s,z)},R=function(z){var E;switch(z.key){case"ArrowLeft":z.preventDefault(),z.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":z.preventDefault(),z.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":z.preventDefault(),z.stopPropagation(),d();break;case"ArrowUp":z.preventDefault(),z.stopPropagation(),u();break;case"PageUp":z.preventDefault(),z.stopPropagation(),z.shiftKey?v():h();break;case"PageDown":z.preventDefault(),z.stopPropagation(),z.shiftKey?b():j();break;case"Home":z.preventDefault(),z.stopPropagation(),g();break;case"End":z.preventDefault(),z.stopPropagation(),y();break}(E=r.onDayKeyDown)===null||E===void 0||E.call(r,e,s,z)},M={onClick:x,onFocus:S,onBlur:w,onKeyDown:R,onKeyUp:A,onMouseEnter:k,onMouseLeave:C,onPointerEnter:P,onPointerLeave:N,onTouchCancel:T,onTouchEnd:O,onTouchMove:I,onTouchStart:_};return M}function H4(){var e=ot(),s=uw(),r=cp(),n=up(),a=Hd(e)?s.selected:Ml(e)?r.selected:Dl(e)?n.selected:void 0;return a}function q4(e){return Object.values(br).includes(e)}function Y4(e,s){var r=[e.classNames.day];return Object.keys(s).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(q4(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function G4(e,s){var r=Pe({},e.styles.day);return Object.keys(s).forEach(function(n){var a;r=Pe(Pe({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function K4(e,s,r){var n,a,i,o=ot(),l=hp(),c=U4(e,s),d=W4(e,c),u=H4(),f=!!(o.onDayClick||o.mode!=="default");m.useEffect(function(){var k;c.outside||l.focusedDay&&f&&ks(l.focusedDay,e)&&((k=r.current)===null||k===void 0||k.focus())},[l.focusedDay,e,r,f,c.outside]);var p=Y4(o,c).join(" "),h=G4(o,c),j=!!(c.outside&&!o.showOutsideDays||c.hidden),v=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:x4,b=t.jsx(v,{date:e,displayMonth:s,activeModifiers:c}),g={style:h,className:p,children:b,role:"gridcell"},y=l.focusTarget&&ks(l.focusTarget,e)&&!c.outside,x=l.focusedDay&&ks(l.focusedDay,e),S=Pe(Pe(Pe({},g),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=x||y?0:-1,n)),d),w={isButton:f,isHidden:j,activeModifiers:c,selectedDays:u,buttonProps:S,divProps:g};return w}function J4(e){var s=m.useRef(null),r=K4(e.date,e.displayMonth,s);return r.isHidden?t.jsx("div",{role:"gridcell"}):r.isButton?t.jsx(hd,Pe({name:"day",ref:s},r.buttonProps)):t.jsx("div",Pe({},r.divProps))}function Q4(e){var s=e.number,r=e.dates,n=ot(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,d=n.formatters.formatWeekNumber,u=d(Number(s),{locale:l});if(!a)return t.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var f=c(Number(s),{locale:l}),p=function(h){a(s,r,h)};return t.jsx(hd,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:p,children:u})}function X4(e){var s,r,n=ot(),a=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,c=(s=l==null?void 0:l.Day)!==null&&s!==void 0?s:J4,d=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:Q4,u;return o&&(u=t.jsx("td",{className:i.cell,style:a.cell,children:t.jsx(d,{number:e.weekNumber,dates:e.dates})})),t.jsxs("tr",{className:i.row,style:a.row,children:[u,e.dates.map(function(f){return t.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:t.jsx(c,{displayMonth:e.displayMonth,date:f})},CT(f))})]})}function Jv(e,s,r){for(var n=r!=null&&r.ISOWeek?Kb(s):ip(s,r),a=r!=null&&r.ISOWeek?Ma(e):qr(e,r),i=Dr(n,a),o=[],l=0;l<=i;l++)o.push(xs(a,l));var c=o.reduce(function(d,u){var f=r!=null&&r.ISOWeek?Qb(u):Zb(u,r),p=d.find(function(h){return h.weekNumber===f});return p?(p.dates.push(u),d):(d.push({weekNumber:f,dates:[u]}),d)},[]);return c}function Z4(e,s){var r=Jv(Ps(e),ap(e),s);if(s!=null&&s.useFixedWeeks){var n=TT(e,s);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=kh(i,6-n),l=Jv(kh(i,1),o,s);r.push.apply(r,l)}}return r}function eE(e){var s,r,n,a=ot(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,f=a.weekStartsOn,p=a.firstWeekContainsDate,h=a.ISOWeek,j=Z4(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:h,locale:i,weekStartsOn:f,firstWeekContainsDate:p}),v=(s=u==null?void 0:u.Head)!==null&&s!==void 0?s:p4,b=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:X4,g=(n=u==null?void 0:u.Footer)!==null&&n!==void 0?n:m4;return t.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&t.jsx(v,{}),t.jsx("tbody",{className:o.tbody,style:l.tbody,children:j.map(function(y){return t.jsx(b,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),t.jsx(g,{displayMonth:e.displayMonth})]})}function tE(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var sE=tE()?m.useLayoutEffect:m.useEffect,sm=!1,rE=0;function Qv(){return"react-day-picker-".concat(++rE)}function nE(e){var s,r=e??(sm?Qv():null),n=m.useState(r),a=n[0],i=n[1];return sE(function(){a===null&&i(Qv())},[]),m.useEffect(function(){sm===!1&&(sm=!0)},[]),(s=e??a)!==null&&s!==void 0?s:void 0}function aE(e){var s,r,n=ot(),a=n.dir,i=n.classNames,o=n.styles,l=n.components,c=Ll().displayMonths,d=nE(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),u=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],p=o.month,h=e.displayIndex===0,j=e.displayIndex===c.length-1,v=!h&&!j;a==="rtl"&&(s=[h,j],j=s[0],h=s[1]),h&&(f.push(i.caption_start),p=Pe(Pe({},p),o.caption_start)),j&&(f.push(i.caption_end),p=Pe(Pe({},p),o.caption_end)),v&&(f.push(i.caption_between),p=Pe(Pe({},p),o.caption_between));var b=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:u4;return t.jsxs("div",{className:f.join(" "),style:p,children:[t.jsx(b,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),t.jsx(eE,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function iE(e){var s=ot(),r=s.classNames,n=s.styles;return t.jsx("div",{className:r.months,style:n.months,children:e.children})}function oE(e){var s,r,n=e.initialProps,a=ot(),i=hp(),o=Ll(),l=m.useState(!1),c=l[0],d=l[1];m.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var f=Pe(Pe({},a.styles.root),a.style),p=Object.keys(n).filter(function(j){return j.startsWith("data-")}).reduce(function(j,v){var b;return Pe(Pe({},j),(b={},b[v]=n[v],b))},{}),h=(r=(s=n.components)===null||s===void 0?void 0:s.Months)!==null&&r!==void 0?r:iE;return t.jsx("div",Pe({className:u.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},p,{children:t.jsx(h,{children:o.displayMonths.map(function(j,v){return t.jsx(aE,{displayIndex:v,displayMonth:j},v)})})}))}function lE(e){var s=e.children,r=IT(e,["children"]);return t.jsx(QT,{initialProps:r,children:t.jsx(o4,{children:t.jsx(B4,{initialProps:r,children:t.jsx(g4,{initialProps:r,children:t.jsx(j4,{initialProps:r,children:t.jsx(C4,{children:t.jsx(z4,{children:s})})})})})})})}function cE(e){return t.jsx(lE,Pe({},e,{children:t.jsx(oE,{initialProps:e})}))}function mw({className:e,classNames:s,showOutsideDays:r=!0,...n}){return t.jsx(cE,{showOutsideDays:r,className:ve("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:ve(Sh({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:ve("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",n.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:ve(Sh({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...s},components:{IconLeft:({className:a,...i})=>t.jsx(IA,{className:ve("size-4",a),...i}),IconRight:({className:a,...i})=>t.jsx(dd,{className:ve("size-4",a),...i})},...n})}function Ce(e,s,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return s==null?void 0:s(a)}}function dE(e,s){const r=m.createContext(s),n=i=>{const{children:o,...l}=i,c=m.useMemo(()=>l,Object.values(l));return t.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=m.useContext(r);if(o)return o;if(s!==void 0)return s;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Vs(e,s=[]){let r=[];function n(i,o){const l=m.createContext(o),c=r.length;r=[...r,o];const d=f=>{var g;const{scope:p,children:h,...j}=f,v=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,b=m.useMemo(()=>j,Object.values(j));return t.jsx(v.Provider,{value:b,children:h})};d.displayName=i+"Provider";function u(f,p){var v;const h=((v=p==null?void 0:p[e])==null?void 0:v[c])||l,j=m.useContext(h);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,uE(a,...s)]}function uE(...e){const s=e[0];if(e.length===1)return s;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${s.scopeName}`]:o}),[o])}};return r.scopeName=s.scopeName,r}function os(e){const s=m.useRef(e);return m.useEffect(()=>{s.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=s.current)==null?void 0:n.call(s,...r)},[])}function mE(e,s=globalThis==null?void 0:globalThis.document){const r=os(e);m.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return s.addEventListener("keydown",n,{capture:!0}),()=>s.removeEventListener("keydown",n,{capture:!0})},[r,s])}var hE="DismissableLayer",Ah="dismissableLayer.update",fE="dismissableLayer.pointerDownOutside",pE="dismissableLayer.focusOutside",Xv,hw=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qd=m.forwardRef((e,s)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=m.useContext(hw),[u,f]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=m.useState({}),j=Ke(s,C=>f(C)),v=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),g=v.indexOf(b),y=u?v.indexOf(u):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,S=y>=g,w=vE(C=>{const P=C.target,N=[...d.branches].some(T=>T.contains(P));!S||N||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},p),k=yE(C=>{const P=C.target;[...d.branches].some(T=>T.contains(P))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},p);return mE(C=>{y===d.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},p),m.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Xv=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Zv(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Xv)}},[u,p,r,d]),m.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Zv())},[u,d]),m.useEffect(()=>{const C=()=>h({});return document.addEventListener(Ah,C),()=>document.removeEventListener(Ah,C)},[]),t.jsx(we.div,{...c,ref:j,style:{pointerEvents:x?S?"auto":"none":void 0,...e.style},onFocusCapture:Ce(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Ce(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Ce(e.onPointerDownCapture,w.onPointerDownCapture)})});qd.displayName=hE;var xE="DismissableLayerBranch",gE=m.forwardRef((e,s)=>{const r=m.useContext(hw),n=m.useRef(null),a=Ke(s,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),t.jsx(we.div,{...e,ref:a})});gE.displayName=xE;function vE(e,s=globalThis==null?void 0:globalThis.document){const r=os(e),n=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){fw(fE,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(s.removeEventListener("click",a.current),a.current=c,s.addEventListener("click",a.current,{once:!0})):c()}else s.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{s.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),s.removeEventListener("pointerdown",i),s.removeEventListener("click",a.current)}},[s,r]),{onPointerDownCapture:()=>n.current=!0}}function yE(e,s=globalThis==null?void 0:globalThis.document){const r=os(e),n=m.useRef(!1);return m.useEffect(()=>{const a=i=>{i.target&&!n.current&&fw(pE,r,{originalEvent:i},{discrete:!1})};return s.addEventListener("focusin",a),()=>s.removeEventListener("focusin",a)},[s,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Zv(){const e=new CustomEvent(Ah);document.dispatchEvent(e)}function fw(e,s,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});s&&a.addEventListener(e,s,{once:!0}),n?jP(a,i):a.dispatchEvent(i)}var rm=0;function pp(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ey()),document.body.insertAdjacentElement("beforeend",e[1]??ey()),rm++,()=>{rm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),rm--}},[])}function ey(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var nm="focusScope.autoFocusOnMount",am="focusScope.autoFocusOnUnmount",ty={bubbles:!1,cancelable:!0},jE="FocusScope",Yd=m.forwardRef((e,s)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=m.useState(null),d=os(a),u=os(i),f=m.useRef(null),p=Ke(s,v=>c(v)),h=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let v=function(x){if(h.paused||!l)return;const S=x.target;l.contains(S)?f.current=S:Pn(f.current,{select:!0})},b=function(x){if(h.paused||!l)return;const S=x.relatedTarget;S!==null&&(l.contains(S)||Pn(f.current,{select:!0}))},g=function(x){if(document.activeElement===document.body)for(const w of x)w.removedNodes.length>0&&Pn(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const y=new MutationObserver(g);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),y.disconnect()}}},[n,l,h.paused]),m.useEffect(()=>{if(l){ry.add(h);const v=document.activeElement;if(!l.contains(v)){const g=new CustomEvent(nm,ty);l.addEventListener(nm,d),l.dispatchEvent(g),g.defaultPrevented||(bE(_E(pw(l)),{select:!0}),document.activeElement===v&&Pn(l))}return()=>{l.removeEventListener(nm,d),setTimeout(()=>{const g=new CustomEvent(am,ty);l.addEventListener(am,u),l.dispatchEvent(g),g.defaultPrevented||Pn(v??document.body,{select:!0}),l.removeEventListener(am,u),ry.remove(h)},0)}}},[l,d,u,h]);const j=m.useCallback(v=>{if(!r&&!n||h.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,g=document.activeElement;if(b&&g){const y=v.currentTarget,[x,S]=wE(y);x&&S?!v.shiftKey&&g===S?(v.preventDefault(),r&&Pn(x,{select:!0})):v.shiftKey&&g===x&&(v.preventDefault(),r&&Pn(S,{select:!0})):g===y&&v.preventDefault()}},[r,n,h.paused]);return t.jsx(we.div,{tabIndex:-1,...o,ref:p,onKeyDown:j})});Yd.displayName=jE;function bE(e,{select:s=!1}={}){const r=document.activeElement;for(const n of e)if(Pn(n,{select:s}),document.activeElement!==r)return}function wE(e){const s=pw(e),r=sy(s,e),n=sy(s.reverse(),e);return[r,n]}function pw(e){const s=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function sy(e,s){for(const r of e)if(!NE(r,{upTo:s}))return r}function NE(e,{upTo:s}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(s!==void 0&&e===s)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function SE(e){return e instanceof HTMLInputElement&&"select"in e}function Pn(e,{select:s=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&SE(e)&&s&&e.select()}}var ry=kE();function kE(){let e=[];return{add(s){const r=e[0];s!==r&&(r==null||r.pause()),e=ny(e,s),e.unshift(s)},remove(s){var r;e=ny(e,s),(r=e[0])==null||r.resume()}}}function ny(e,s){const r=[...e],n=r.indexOf(s);return n!==-1&&r.splice(n,1),r}function _E(e){return e.filter(s=>s.tagName!=="A")}var Pt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},AE=vj[" useId ".trim().toString()]||(()=>{}),CE=0;function gr(e){const[s,r]=m.useState(AE());return Pt(()=>{e||r(n=>n??String(CE++))},[e]),e||(s?`radix-${s}`:"")}const PE=["top","right","bottom","left"],Xn=Math.min,Os=Math.max,fd=Math.round,cc=Math.floor,zr=e=>({x:e,y:e}),TE={left:"right",right:"left",bottom:"top",top:"bottom"},EE={start:"end",end:"start"};function Ch(e,s,r){return Os(e,Xn(s,r))}function pn(e,s){return typeof e=="function"?e(s):e}function xn(e){return e.split("-")[0]}function Ji(e){return e.split("-")[1]}function xp(e){return e==="x"?"y":"x"}function gp(e){return e==="y"?"height":"width"}const IE=new Set(["top","bottom"]);function Lr(e){return IE.has(xn(e))?"y":"x"}function vp(e){return xp(Lr(e))}function OE(e,s,r){r===void 0&&(r=!1);const n=Ji(e),a=vp(e),i=gp(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return s.reference[i]>s.floating[i]&&(o=pd(o)),[o,pd(o)]}function RE(e){const s=pd(e);return[Ph(e),s,Ph(s)]}function Ph(e){return e.replace(/start|end/g,s=>EE[s])}const ay=["left","right"],iy=["right","left"],ME=["top","bottom"],DE=["bottom","top"];function LE(e,s,r){switch(e){case"top":case"bottom":return r?s?iy:ay:s?ay:iy;case"left":case"right":return s?ME:DE;default:return[]}}function $E(e,s,r,n){const a=Ji(e);let i=LE(xn(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),s&&(i=i.concat(i.map(Ph)))),i}function pd(e){return e.replace(/left|right|bottom|top/g,s=>TE[s])}function FE(e){return{top:0,right:0,bottom:0,left:0,...e}}function xw(e){return typeof e!="number"?FE(e):{top:e,right:e,bottom:e,left:e}}function xd(e){const{x:s,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:s,right:s+n,bottom:r+a,x:s,y:r}}function oy(e,s,r){let{reference:n,floating:a}=e;const i=Lr(s),o=vp(s),l=gp(o),c=xn(s),d=i==="y",u=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,p=n[l]/2-a[l]/2;let h;switch(c){case"top":h={x:u,y:n.y-a.height};break;case"bottom":h={x:u,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:f};break;case"left":h={x:n.x-a.width,y:f};break;default:h={x:n.x,y:n.y}}switch(Ji(s)){case"start":h[o]-=p*(r&&d?-1:1);break;case"end":h[o]+=p*(r&&d?-1:1);break}return h}const zE=async(e,s,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(s));let d=await o.getElementRects({reference:e,floating:s,strategy:a}),{x:u,y:f}=oy(d,n,c),p=n,h={},j=0;for(let v=0;v<l.length;v++){const{name:b,fn:g}=l[v],{x:y,y:x,data:S,reset:w}=await g({x:u,y:f,initialPlacement:n,placement:p,strategy:a,middlewareData:h,rects:d,platform:o,elements:{reference:e,floating:s}});u=y??u,f=x??f,h={...h,[b]:{...h[b],...S}},w&&j<=50&&(j++,typeof w=="object"&&(w.placement&&(p=w.placement),w.rects&&(d=w.rects===!0?await o.getElementRects({reference:e,floating:s,strategy:a}):w.rects),{x:u,y:f}=oy(d,p,c)),v=-1)}return{x:u,y:f,placement:p,strategy:a,middlewareData:h}};async function Sl(e,s){var r;s===void 0&&(s={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=pn(s,e),j=xw(h),b=l[p?f==="floating"?"reference":"floating":f],g=xd(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),y=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},w=xd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:x,strategy:c}):y);return{top:(g.top-w.top+j.top)/S.y,bottom:(w.bottom-g.bottom+j.bottom)/S.y,left:(g.left-w.left+j.left)/S.x,right:(w.right-g.right+j.right)/S.x}}const UE=e=>({name:"arrow",options:e,async fn(s){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=s,{element:d,padding:u=0}=pn(e,s)||{};if(d==null)return{};const f=xw(u),p={x:r,y:n},h=vp(a),j=gp(h),v=await o.getDimensions(d),b=h==="y",g=b?"top":"left",y=b?"bottom":"right",x=b?"clientHeight":"clientWidth",S=i.reference[j]+i.reference[h]-p[h]-i.floating[j],w=p[h]-i.reference[h],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=k?k[x]:0;(!C||!await(o.isElement==null?void 0:o.isElement(k)))&&(C=l.floating[x]||i.floating[j]);const P=S/2-w/2,N=C/2-v[j]/2-1,T=Xn(f[g],N),O=Xn(f[y],N),I=T,_=C-v[j]-O,A=C/2-v[j]/2+P,R=Ch(I,A,_),M=!c.arrow&&Ji(a)!=null&&A!==R&&i.reference[j]/2-(A<I?T:O)-v[j]/2<0,z=M?A<I?A-I:A-_:0;return{[h]:p[h]+z,data:{[h]:R,centerOffset:A-R-z,...M&&{alignmentOffset:z}},reset:M}}}),BE=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(s){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=s,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:v=!0,...b}=pn(e,s);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=xn(a),y=Lr(l),x=xn(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(d.floating)),w=p||(x||!v?[pd(l)]:RE(l)),k=j!=="none";!p&&k&&w.push(...$E(l,v,j,S));const C=[l,...w],P=await Sl(s,b),N=[];let T=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&N.push(P[g]),f){const A=OE(a,o,S);N.push(P[A[0]],P[A[1]])}if(T=[...T,{placement:a,overflows:N}],!N.every(A=>A<=0)){var O,I;const A=(((O=i.flip)==null?void 0:O.index)||0)+1,R=C[A];if(R&&(!(f==="alignment"?y!==Lr(R):!1)||T.every(E=>Lr(E.placement)===y?E.overflows[0]>0:!0)))return{data:{index:A,overflows:T},reset:{placement:R}};let M=(I=T.filter(z=>z.overflows[0]<=0).sort((z,E)=>z.overflows[1]-E.overflows[1])[0])==null?void 0:I.placement;if(!M)switch(h){case"bestFit":{var _;const z=(_=T.filter(E=>{if(k){const D=Lr(E.placement);return D===y||D==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(D=>D>0).reduce((D,H)=>D+H,0)]).sort((E,D)=>E[1]-D[1])[0])==null?void 0:_[0];z&&(M=z);break}case"initialPlacement":M=l;break}if(a!==M)return{reset:{placement:M}}}return{}}}};function ly(e,s){return{top:e.top-s.height,right:e.right-s.width,bottom:e.bottom-s.height,left:e.left-s.width}}function cy(e){return PE.some(s=>e[s]>=0)}const VE=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(s){const{rects:r}=s,{strategy:n="referenceHidden",...a}=pn(e,s);switch(n){case"referenceHidden":{const i=await Sl(s,{...a,elementContext:"reference"}),o=ly(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:cy(o)}}}case"escaped":{const i=await Sl(s,{...a,altBoundary:!0}),o=ly(i,r.floating);return{data:{escapedOffsets:o,escaped:cy(o)}}}default:return{}}}}},gw=new Set(["left","top"]);async function WE(e,s){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=xn(r),l=Ji(r),c=Lr(r)==="y",d=gw.has(o)?-1:1,u=i&&c?-1:1,f=pn(s,e);let{mainAxis:p,crossAxis:h,alignmentAxis:j}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof j=="number"&&(h=l==="end"?j*-1:j),c?{x:h*u,y:p*d}:{x:p*d,y:h*u}}const HE=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(s){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=s,c=await WE(s,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},qE=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(s){const{x:r,y:n,placement:a}=s,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x:g,y}=b;return{x:g,y}}},...c}=pn(e,s),d={x:r,y:n},u=await Sl(s,c),f=Lr(xn(a)),p=xp(f);let h=d[p],j=d[f];if(i){const b=p==="y"?"top":"left",g=p==="y"?"bottom":"right",y=h+u[b],x=h-u[g];h=Ch(y,h,x)}if(o){const b=f==="y"?"top":"left",g=f==="y"?"bottom":"right",y=j+u[b],x=j-u[g];j=Ch(y,j,x)}const v=l.fn({...s,[p]:h,[f]:j});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[p]:i,[f]:o}}}}}},YE=function(e){return e===void 0&&(e={}),{options:e,fn(s){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=s,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=pn(e,s),u={x:r,y:n},f=Lr(a),p=xp(f);let h=u[p],j=u[f];const v=pn(l,s),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const x=p==="y"?"height":"width",S=i.reference[p]-i.floating[x]+b.mainAxis,w=i.reference[p]+i.reference[x]-b.mainAxis;h<S?h=S:h>w&&(h=w)}if(d){var g,y;const x=p==="y"?"width":"height",S=gw.has(xn(a)),w=i.reference[f]-i.floating[x]+(S&&((g=o.offset)==null?void 0:g[f])||0)+(S?0:b.crossAxis),k=i.reference[f]+i.reference[x]+(S?0:((y=o.offset)==null?void 0:y[f])||0)-(S?b.crossAxis:0);j<w?j=w:j>k&&(j=k)}return{[p]:h,[f]:j}}}},GE=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(s){var r,n;const{placement:a,rects:i,platform:o,elements:l}=s,{apply:c=()=>{},...d}=pn(e,s),u=await Sl(s,d),f=xn(a),p=Ji(a),h=Lr(a)==="y",{width:j,height:v}=i.floating;let b,g;f==="top"||f==="bottom"?(b=f,g=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=f,b=p==="end"?"top":"bottom");const y=v-u.top-u.bottom,x=j-u.left-u.right,S=Xn(v-u[b],y),w=Xn(j-u[g],x),k=!s.middlewareData.shift;let C=S,P=w;if((r=s.middlewareData.shift)!=null&&r.enabled.x&&(P=x),(n=s.middlewareData.shift)!=null&&n.enabled.y&&(C=y),k&&!p){const T=Os(u.left,0),O=Os(u.right,0),I=Os(u.top,0),_=Os(u.bottom,0);h?P=j-2*(T!==0||O!==0?T+O:Os(u.left,u.right)):C=v-2*(I!==0||_!==0?I+_:Os(u.top,u.bottom))}await c({...s,availableWidth:P,availableHeight:C});const N=await o.getDimensions(l.floating);return j!==N.width||v!==N.height?{reset:{rects:!0}}:{}}}};function Gd(){return typeof window<"u"}function Qi(e){return vw(e)?(e.nodeName||"").toLowerCase():"#document"}function $s(e){var s;return(e==null||(s=e.ownerDocument)==null?void 0:s.defaultView)||window}function Kr(e){var s;return(s=(vw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:s.documentElement}function vw(e){return Gd()?e instanceof Node||e instanceof $s(e).Node:!1}function wr(e){return Gd()?e instanceof Element||e instanceof $s(e).Element:!1}function Yr(e){return Gd()?e instanceof HTMLElement||e instanceof $s(e).HTMLElement:!1}function dy(e){return!Gd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof $s(e).ShadowRoot}const KE=new Set(["inline","contents"]);function $l(e){const{overflow:s,overflowX:r,overflowY:n,display:a}=Nr(e);return/auto|scroll|overlay|hidden|clip/.test(s+n+r)&&!KE.has(a)}const JE=new Set(["table","td","th"]);function QE(e){return JE.has(Qi(e))}const XE=[":popover-open",":modal"];function Kd(e){return XE.some(s=>{try{return e.matches(s)}catch{return!1}})}const ZE=["transform","translate","scale","rotate","perspective"],eI=["transform","translate","scale","rotate","perspective","filter"],tI=["paint","layout","strict","content"];function yp(e){const s=jp(),r=wr(e)?Nr(e):e;return ZE.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!s&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!s&&(r.filter?r.filter!=="none":!1)||eI.some(n=>(r.willChange||"").includes(n))||tI.some(n=>(r.contain||"").includes(n))}function sI(e){let s=Zn(e);for(;Yr(s)&&!Fi(s);){if(yp(s))return s;if(Kd(s))return null;s=Zn(s)}return null}function jp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const rI=new Set(["html","body","#document"]);function Fi(e){return rI.has(Qi(e))}function Nr(e){return $s(e).getComputedStyle(e)}function Jd(e){return wr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Zn(e){if(Qi(e)==="html")return e;const s=e.assignedSlot||e.parentNode||dy(e)&&e.host||Kr(e);return dy(s)?s.host:s}function yw(e){const s=Zn(e);return Fi(s)?e.ownerDocument?e.ownerDocument.body:e.body:Yr(s)&&$l(s)?s:yw(s)}function kl(e,s,r){var n;s===void 0&&(s=[]),r===void 0&&(r=!0);const a=yw(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=$s(a);if(i){const l=Th(o);return s.concat(o,o.visualViewport||[],$l(a)?a:[],l&&r?kl(l):[])}return s.concat(a,kl(a,[],r))}function Th(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function jw(e){const s=Nr(e);let r=parseFloat(s.width)||0,n=parseFloat(s.height)||0;const a=Yr(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=fd(r)!==i||fd(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function bp(e){return wr(e)?e:e.contextElement}function ki(e){const s=bp(e);if(!Yr(s))return zr(1);const r=s.getBoundingClientRect(),{width:n,height:a,$:i}=jw(s);let o=(i?fd(r.width):r.width)/n,l=(i?fd(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const nI=zr(0);function bw(e){const s=$s(e);return!jp()||!s.visualViewport?nI:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function aI(e,s,r){return s===void 0&&(s=!1),!r||s&&r!==$s(e)?!1:s}function Da(e,s,r,n){s===void 0&&(s=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=bp(e);let o=zr(1);s&&(n?wr(n)&&(o=ki(n)):o=ki(e));const l=aI(i,r,n)?bw(i):zr(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,f=a.height/o.y;if(i){const p=$s(i),h=n&&wr(n)?$s(n):n;let j=p,v=Th(j);for(;v&&n&&h!==j;){const b=ki(v),g=v.getBoundingClientRect(),y=Nr(v),x=g.left+(v.clientLeft+parseFloat(y.paddingLeft))*b.x,S=g.top+(v.clientTop+parseFloat(y.paddingTop))*b.y;c*=b.x,d*=b.y,u*=b.x,f*=b.y,c+=x,d+=S,j=$s(v),v=Th(j)}}return xd({width:u,height:f,x:c,y:d})}function wp(e,s){const r=Jd(e).scrollLeft;return s?s.left+r:Da(Kr(e)).left+r}function ww(e,s,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+s.scrollLeft-(r?0:wp(e,n)),i=n.top+s.scrollTop;return{x:a,y:i}}function iI(e){let{elements:s,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Kr(n),l=s?Kd(s.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=zr(1);const u=zr(0),f=Yr(n);if((f||!f&&!i)&&((Qi(n)!=="body"||$l(o))&&(c=Jd(n)),Yr(n))){const h=Da(n);d=ki(n),u.x=h.x+n.clientLeft,u.y=h.y+n.clientTop}const p=o&&!f&&!i?ww(o,c,!0):zr(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+p.x,y:r.y*d.y-c.scrollTop*d.y+u.y+p.y}}function oI(e){return Array.from(e.getClientRects())}function lI(e){const s=Kr(e),r=Jd(e),n=e.ownerDocument.body,a=Os(s.scrollWidth,s.clientWidth,n.scrollWidth,n.clientWidth),i=Os(s.scrollHeight,s.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+wp(e);const l=-r.scrollTop;return Nr(n).direction==="rtl"&&(o+=Os(s.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function cI(e,s){const r=$s(e),n=Kr(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=jp();(!d||d&&s==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const dI=new Set(["absolute","fixed"]);function uI(e,s){const r=Da(e,!0,s==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Yr(e)?ki(e):zr(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function uy(e,s,r){let n;if(s==="viewport")n=cI(e,r);else if(s==="document")n=lI(Kr(e));else if(wr(s))n=uI(s,r);else{const a=bw(e);n={x:s.x-a.x,y:s.y-a.y,width:s.width,height:s.height}}return xd(n)}function Nw(e,s){const r=Zn(e);return r===s||!wr(r)||Fi(r)?!1:Nr(r).position==="fixed"||Nw(r,s)}function mI(e,s){const r=s.get(e);if(r)return r;let n=kl(e,[],!1).filter(l=>wr(l)&&Qi(l)!=="body"),a=null;const i=Nr(e).position==="fixed";let o=i?Zn(e):e;for(;wr(o)&&!Fi(o);){const l=Nr(o),c=yp(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&dI.has(a.position)||$l(o)&&!c&&Nw(e,o))?n=n.filter(u=>u!==o):a=l,o=Zn(o)}return s.set(e,n),n}function hI(e){let{element:s,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Kd(s)?[]:mI(s,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const f=uy(s,u,a);return d.top=Os(f.top,d.top),d.right=Xn(f.right,d.right),d.bottom=Xn(f.bottom,d.bottom),d.left=Os(f.left,d.left),d},uy(s,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function fI(e){const{width:s,height:r}=jw(e);return{width:s,height:r}}function pI(e,s,r){const n=Yr(s),a=Kr(s),i=r==="fixed",o=Da(e,!0,i,s);let l={scrollLeft:0,scrollTop:0};const c=zr(0);function d(){c.x=wp(a)}if(n||!n&&!i)if((Qi(s)!=="body"||$l(a))&&(l=Jd(s)),n){const h=Da(s,!0,i,s);c.x=h.x+s.clientLeft,c.y=h.y+s.clientTop}else a&&d();i&&!n&&a&&d();const u=a&&!n&&!i?ww(a,l):zr(0),f=o.left+l.scrollLeft-c.x-u.x,p=o.top+l.scrollTop-c.y-u.y;return{x:f,y:p,width:o.width,height:o.height}}function im(e){return Nr(e).position==="static"}function my(e,s){if(!Yr(e)||Nr(e).position==="fixed")return null;if(s)return s(e);let r=e.offsetParent;return Kr(e)===r&&(r=r.ownerDocument.body),r}function Sw(e,s){const r=$s(e);if(Kd(e))return r;if(!Yr(e)){let a=Zn(e);for(;a&&!Fi(a);){if(wr(a)&&!im(a))return a;a=Zn(a)}return r}let n=my(e,s);for(;n&&QE(n)&&im(n);)n=my(n,s);return n&&Fi(n)&&im(n)&&!yp(n)?r:n||sI(e)||r}const xI=async function(e){const s=this.getOffsetParent||Sw,r=this.getDimensions,n=await r(e.floating);return{reference:pI(e.reference,await s(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function gI(e){return Nr(e).direction==="rtl"}const vI={convertOffsetParentRelativeRectToViewportRelativeRect:iI,getDocumentElement:Kr,getClippingRect:hI,getOffsetParent:Sw,getElementRects:xI,getClientRects:oI,getDimensions:fI,getScale:ki,isElement:wr,isRTL:gI};function kw(e,s){return e.x===s.x&&e.y===s.y&&e.width===s.width&&e.height===s.height}function yI(e,s){let r=null,n;const a=Kr(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:f,width:p,height:h}=d;if(l||s(),!p||!h)return;const j=cc(f),v=cc(a.clientWidth-(u+p)),b=cc(a.clientHeight-(f+h)),g=cc(u),x={rootMargin:-j+"px "+-v+"px "+-b+"px "+-g+"px",threshold:Os(0,Xn(1,c))||1};let S=!0;function w(k){const C=k[0].intersectionRatio;if(C!==c){if(!S)return o();C?o(!1,C):n=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!kw(d,e.getBoundingClientRect())&&o(),S=!1}try{r=new IntersectionObserver(w,{...x,root:a.ownerDocument})}catch{r=new IntersectionObserver(w,x)}r.observe(e)}return o(!0),i}function jI(e,s,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=bp(e),u=a||i?[...d?kl(d):[],...kl(s)]:[];u.forEach(g=>{a&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const f=d&&l?yI(d,r):null;let p=-1,h=null;o&&(h=new ResizeObserver(g=>{let[y]=g;y&&y.target===d&&h&&(h.unobserve(s),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=h)==null||x.observe(s)})),r()}),d&&!c&&h.observe(d),h.observe(s));let j,v=c?Da(e):null;c&&b();function b(){const g=Da(e);v&&!kw(v,g)&&r(),v=g,j=requestAnimationFrame(b)}return r(),()=>{var g;u.forEach(y=>{a&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(g=h)==null||g.disconnect(),h=null,c&&cancelAnimationFrame(j)}}const bI=HE,wI=qE,NI=BE,SI=GE,kI=VE,hy=UE,_I=YE,AI=(e,s,r)=>{const n=new Map,a={platform:vI,...r},i={...a.platform,_c:n};return zE(e,s,{...a,platform:i})};var CI=typeof document<"u",PI=function(){},Dc=CI?m.useLayoutEffect:PI;function gd(e,s){if(e===s)return!0;if(typeof e!=typeof s)return!1;if(typeof e=="function"&&e.toString()===s.toString())return!0;let r,n,a;if(e&&s&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==s.length)return!1;for(n=r;n--!==0;)if(!gd(e[n],s[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(s).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(s,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!gd(e[i],s[i]))return!1}return!0}return e!==e&&s!==s}function _w(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function fy(e,s){const r=_w(e);return Math.round(s*r)/r}function om(e){const s=m.useRef(e);return Dc(()=>{s.current=e}),s}function TI(e){e===void 0&&(e={});const{placement:s="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=m.useState({x:0,y:0,strategy:r,placement:s,middlewareData:{},isPositioned:!1}),[p,h]=m.useState(n);gd(p,n)||h(n);const[j,v]=m.useState(null),[b,g]=m.useState(null),y=m.useCallback(E=>{E!==k.current&&(k.current=E,v(E))},[]),x=m.useCallback(E=>{E!==C.current&&(C.current=E,g(E))},[]),S=i||j,w=o||b,k=m.useRef(null),C=m.useRef(null),P=m.useRef(u),N=c!=null,T=om(c),O=om(a),I=om(d),_=m.useCallback(()=>{if(!k.current||!C.current)return;const E={placement:s,strategy:r,middleware:p};O.current&&(E.platform=O.current),AI(k.current,C.current,E).then(D=>{const H={...D,isPositioned:I.current!==!1};A.current&&!gd(P.current,H)&&(P.current=H,Gi.flushSync(()=>{f(H)}))})},[p,s,r,O,I]);Dc(()=>{d===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(E=>({...E,isPositioned:!1})))},[d]);const A=m.useRef(!1);Dc(()=>(A.current=!0,()=>{A.current=!1}),[]),Dc(()=>{if(S&&(k.current=S),w&&(C.current=w),S&&w){if(T.current)return T.current(S,w,_);_()}},[S,w,_,T,N]);const R=m.useMemo(()=>({reference:k,floating:C,setReference:y,setFloating:x}),[y,x]),M=m.useMemo(()=>({reference:S,floating:w}),[S,w]),z=m.useMemo(()=>{const E={position:r,left:0,top:0};if(!M.floating)return E;const D=fy(M.floating,u.x),H=fy(M.floating,u.y);return l?{...E,transform:"translate("+D+"px, "+H+"px)",..._w(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:H}},[r,l,M.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:_,refs:R,elements:M,floatingStyles:z}),[u,_,R,M,z])}const EI=e=>{function s(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&s(n)?n.current!=null?hy({element:n.current,padding:a}).fn(r):{}:n?hy({element:n,padding:a}).fn(r):{}}}},II=(e,s)=>({...bI(e),options:[e,s]}),OI=(e,s)=>({...wI(e),options:[e,s]}),RI=(e,s)=>({..._I(e),options:[e,s]}),MI=(e,s)=>({...NI(e),options:[e,s]}),DI=(e,s)=>({...SI(e),options:[e,s]}),LI=(e,s)=>({...kI(e),options:[e,s]}),$I=(e,s)=>({...EI(e),options:[e,s]});var FI="Arrow",Aw=m.forwardRef((e,s)=>{const{children:r,width:n=10,height:a=5,...i}=e;return t.jsx(we.svg,{...i,ref:s,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:t.jsx("polygon",{points:"0,0 30,0 15,10"})})});Aw.displayName=FI;var zI=Aw;function Cw(e){const[s,r]=m.useState(void 0);return Pt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),s}var Np="Popper",[Pw,Qd]=Vs(Np),[UI,Tw]=Pw(Np),Ew=e=>{const{__scopePopper:s,children:r}=e,[n,a]=m.useState(null);return t.jsx(UI,{scope:s,anchor:n,onAnchorChange:a,children:r})};Ew.displayName=Np;var Iw="PopperAnchor",Ow=m.forwardRef((e,s)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=Tw(Iw,r),o=m.useRef(null),l=Ke(s,o),c=m.useRef(null);return m.useEffect(()=>{const d=c.current;c.current=(n==null?void 0:n.current)||o.current,d!==c.current&&i.onAnchorChange(c.current)}),n?null:t.jsx(we.div,{...a,ref:l})});Ow.displayName=Iw;var Sp="PopperContent",[BI,VI]=Pw(Sp),Rw=m.forwardRef((e,s)=>{var ee,V,J,G,re,he;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:j,...v}=e,b=Tw(Sp,r),[g,y]=m.useState(null),x=Ke(s,Ee=>y(Ee)),[S,w]=m.useState(null),k=Cw(S),C=(k==null?void 0:k.width)??0,P=(k==null?void 0:k.height)??0,N=n+(i!=="center"?"-"+i:""),T=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},O=Array.isArray(d)?d:[d],I=O.length>0,_={padding:T,boundary:O.filter(HI),altBoundary:I},{refs:A,floatingStyles:R,placement:M,isPositioned:z,middlewareData:E}=TI({strategy:"fixed",placement:N,whileElementsMounted:(...Ee)=>jI(...Ee,{animationFrame:h==="always"}),elements:{reference:b.anchor},middleware:[II({mainAxis:a+P,alignmentAxis:o}),c&&OI({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?RI():void 0,..._}),c&&MI({..._}),DI({..._,apply:({elements:Ee,rects:Fe,availableWidth:me,availableHeight:B})=>{const{width:Q,height:ae}=Fe.reference,ie=Ee.floating.style;ie.setProperty("--radix-popper-available-width",`${me}px`),ie.setProperty("--radix-popper-available-height",`${B}px`),ie.setProperty("--radix-popper-anchor-width",`${Q}px`),ie.setProperty("--radix-popper-anchor-height",`${ae}px`)}}),S&&$I({element:S,padding:l}),qI({arrowWidth:C,arrowHeight:P}),p&&LI({strategy:"referenceHidden",..._})]}),[D,H]=Lw(M),W=os(j);Pt(()=>{z&&(W==null||W())},[z,W]);const L=(ee=E.arrow)==null?void 0:ee.x,se=(V=E.arrow)==null?void 0:V.y,te=((J=E.arrow)==null?void 0:J.centerOffset)!==0,[le,ue]=m.useState();return Pt(()=>{g&&ue(window.getComputedStyle(g).zIndex)},[g]),t.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:z?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(G=E.transformOrigin)==null?void 0:G.x,(re=E.transformOrigin)==null?void 0:re.y].join(" "),...((he=E.hide)==null?void 0:he.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:t.jsx(BI,{scope:r,placedSide:D,onArrowChange:w,arrowX:L,arrowY:se,shouldHideArrow:te,children:t.jsx(we.div,{"data-side":D,"data-align":H,...v,ref:x,style:{...v.style,animation:z?void 0:"none"}})})})});Rw.displayName=Sp;var Mw="PopperArrow",WI={top:"bottom",right:"left",bottom:"top",left:"right"},Dw=m.forwardRef(function(s,r){const{__scopePopper:n,...a}=s,i=VI(Mw,n),o=WI[i.placedSide];return t.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:t.jsx(zI,{...a,ref:r,style:{...a.style,display:"block"}})})});Dw.displayName=Mw;function HI(e){return e!==null}var qI=e=>({name:"transformOrigin",options:e,fn(s){var b,g,y;const{placement:r,rects:n,middlewareData:a}=s,o=((b=a.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=Lw(r),f={start:"0%",center:"50%",end:"100%"}[u],p=(((g=a.arrow)==null?void 0:g.x)??0)+l/2,h=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let j="",v="";return d==="bottom"?(j=o?f:`${p}px`,v=`${-c}px`):d==="top"?(j=o?f:`${p}px`,v=`${n.floating.height+c}px`):d==="right"?(j=`${-c}px`,v=o?f:`${h}px`):d==="left"&&(j=`${n.floating.width+c}px`,v=o?f:`${h}px`),{data:{x:j,y:v}}}});function Lw(e){const[s,r="center"]=e.split("-");return[s,r]}var $w=Ew,kp=Ow,Fw=Rw,zw=Dw,YI="Portal",Xd=m.forwardRef((e,s)=>{var l;const{container:r,...n}=e,[a,i]=m.useState(!1);Pt(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?bb.createPortal(t.jsx(we.div,{...n,ref:s}),o):null});Xd.displayName=YI;function GI(e,s){return m.useReducer((r,n)=>s[r][n]??r,e)}var Ws=e=>{const{present:s,children:r}=e,n=KI(s),a=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),i=Ke(n.ref,JI(a));return typeof r=="function"||n.isPresent?m.cloneElement(a,{ref:i}):null};Ws.displayName="Presence";function KI(e){const[s,r]=m.useState(),n=m.useRef(null),a=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=GI(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=dc(n.current);i.current=l==="mounted"?d:"none"},[l]),Pt(()=>{const d=n.current,u=a.current;if(u!==e){const p=i.current,h=dc(d);e?c("MOUNT"):h==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&p!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Pt(()=>{if(s){let d;const u=s.ownerDocument.defaultView??window,f=h=>{const v=dc(n.current).includes(CSS.escape(h.animationName));if(h.target===s&&v&&(c("ANIMATION_END"),!a.current)){const b=s.style.animationFillMode;s.style.animationFillMode="forwards",d=u.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=b)})}},p=h=>{h.target===s&&(i.current=dc(n.current))};return s.addEventListener("animationstart",p),s.addEventListener("animationcancel",f),s.addEventListener("animationend",f),()=>{u.clearTimeout(d),s.removeEventListener("animationstart",p),s.removeEventListener("animationcancel",f),s.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[s,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function dc(e){return(e==null?void 0:e.animationName)||"none"}function JI(e){var n,a;let s=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?e.ref:(s=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var QI=vj[" useInsertionEffect ".trim().toString()]||Pt;function Gr({prop:e,defaultProp:s,onChange:r=()=>{},caller:n}){const[a,i,o]=XI({defaultProp:s,onChange:r}),l=e!==void 0,c=l?e:a;{const u=m.useRef(e!==void 0);m.useEffect(()=>{const f=u.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=m.useCallback(u=>{var f;if(l){const p=ZI(u)?u(e):u;p!==e&&((f=o.current)==null||f.call(o,p))}else i(u)},[l,e,i,o]);return[c,d]}function XI({defaultProp:e,onChange:s}){const[r,n]=m.useState(e),a=m.useRef(r),i=m.useRef(s);return QI(()=>{i.current=s},[s]),m.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function ZI(e){return typeof e=="function"}var e3=function(e){if(typeof document>"u")return null;var s=Array.isArray(e)?e[0]:e;return s.ownerDocument.body},Ga=new WeakMap,uc=new WeakMap,mc={},lm=0,Uw=function(e){return e&&(e.host||Uw(e.parentNode))},t3=function(e,s){return s.map(function(r){if(e.contains(r))return r;var n=Uw(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},s3=function(e,s,r,n){var a=t3(s,Array.isArray(e)?e:[e]);mc[r]||(mc[r]=new WeakMap);var i=mc[r],o=[],l=new Set,c=new Set(a),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};a.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))u(p);else try{var h=p.getAttribute(n),j=h!==null&&h!=="false",v=(Ga.get(p)||0)+1,b=(i.get(p)||0)+1;Ga.set(p,v),i.set(p,b),o.push(p),v===1&&j&&uc.set(p,!0),b===1&&p.setAttribute(r,"true"),j||p.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",p,g)}})};return u(s),l.clear(),lm++,function(){o.forEach(function(f){var p=Ga.get(f)-1,h=i.get(f)-1;Ga.set(f,p),i.set(f,h),p||(uc.has(f)||f.removeAttribute(n),uc.delete(f)),h||f.removeAttribute(r)}),lm--,lm||(Ga=new WeakMap,Ga=new WeakMap,uc=new WeakMap,mc={})}},_p=function(e,s,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=s||e3(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),s3(n,a,r,"aria-hidden")):function(){return null}},Mr=function(){return Mr=Object.assign||function(s){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(s[i]=r[i])}return s},Mr.apply(this,arguments)};function Bw(e,s){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&s.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)s.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function r3(e,s,r){if(r||arguments.length===2)for(var n=0,a=s.length,i;n<a;n++)(i||!(n in s))&&(i||(i=Array.prototype.slice.call(s,0,n)),i[n]=s[n]);return e.concat(i||Array.prototype.slice.call(s))}var Lc="right-scroll-bar-position",$c="width-before-scroll-bar",n3="with-scroll-bars-hidden",a3="--removed-body-scroll-bar-size";function cm(e,s){return typeof e=="function"?e(s):e&&(e.current=s),e}function i3(e,s){var r=m.useState(function(){return{value:e,callback:s,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=s,r.facade}var o3=typeof window<"u"?m.useLayoutEffect:m.useEffect,py=new WeakMap;function l3(e,s){var r=i3(s||null,function(n){return e.forEach(function(a){return cm(a,n)})});return o3(function(){var n=py.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||cm(l,null)}),i.forEach(function(l){a.has(l)||cm(l,o)})}py.set(r,e)},[e]),r}function c3(e){return e}function d3(e,s){s===void 0&&(s=c3);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=s(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function u3(e){e===void 0&&(e={});var s=d3(null);return s.options=Mr({async:!0,ssr:!1},e),s}var Vw=function(e){var s=e.sideCar,r=Bw(e,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=s.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,Mr({},r))};Vw.isSideCarExport=!0;function m3(e,s){return e.useMedium(s),Vw}var Ww=u3(),dm=function(){},Zd=m.forwardRef(function(e,s){var r=m.useRef(null),n=m.useState({onScrollCapture:dm,onWheelCapture:dm,onTouchMoveCapture:dm}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,p=e.sideCar,h=e.noRelative,j=e.noIsolation,v=e.inert,b=e.allowPinchZoom,g=e.as,y=g===void 0?"div":g,x=e.gapMode,S=Bw(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=p,k=l3([r,s]),C=Mr(Mr({},S),a);return m.createElement(m.Fragment,null,u&&m.createElement(w,{sideCar:Ww,removeScrollBar:d,shards:f,noRelative:h,noIsolation:j,inert:v,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:x}),o?m.cloneElement(m.Children.only(l),Mr(Mr({},C),{ref:k})):m.createElement(y,Mr({},C,{className:c,ref:k}),l))});Zd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zd.classNames={fullWidth:$c,zeroRight:Lc};var xy,h3=function(){if(xy)return xy;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function f3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var s=h3();return s&&e.setAttribute("nonce",s),e}function p3(e,s){e.styleSheet?e.styleSheet.cssText=s:e.appendChild(document.createTextNode(s))}function x3(e){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(e)}var g3=function(){var e=0,s=null;return{add:function(r){e==0&&(s=f3())&&(p3(s,r),x3(s)),e++},remove:function(){e--,!e&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},v3=function(){var e=g3();return function(s,r){m.useEffect(function(){return e.add(s),function(){e.remove()}},[s&&r])}},Hw=function(){var e=v3(),s=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return s},y3={left:0,top:0,right:0,gap:0},um=function(e){return parseInt(e||"",10)||0},j3=function(e){var s=window.getComputedStyle(document.body),r=s[e==="padding"?"paddingLeft":"marginLeft"],n=s[e==="padding"?"paddingTop":"marginTop"],a=s[e==="padding"?"paddingRight":"marginRight"];return[um(r),um(n),um(a)]},b3=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return y3;var s=j3(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,n-r+s[2]-s[0])}},w3=Hw(),_i="data-scroll-locked",N3=function(e,s,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(n3,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(_i,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Lc,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat($c,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Lc," .").concat(Lc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat($c," .").concat($c,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(_i,`] {
    `).concat(a3,": ").concat(l,`px;
  }
`)},gy=function(){var e=parseInt(document.body.getAttribute(_i)||"0",10);return isFinite(e)?e:0},S3=function(){m.useEffect(function(){return document.body.setAttribute(_i,(gy()+1).toString()),function(){var e=gy()-1;e<=0?document.body.removeAttribute(_i):document.body.setAttribute(_i,e.toString())}},[])},k3=function(e){var s=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;S3();var i=m.useMemo(function(){return b3(a)},[a]);return m.createElement(w3,{styles:N3(i,!s,a,r?"":"!important")})},Eh=!1;if(typeof window<"u")try{var hc=Object.defineProperty({},"passive",{get:function(){return Eh=!0,!0}});window.addEventListener("test",hc,hc),window.removeEventListener("test",hc,hc)}catch{Eh=!1}var Ka=Eh?{passive:!1}:!1,_3=function(e){return e.tagName==="TEXTAREA"},qw=function(e,s){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[s]!=="hidden"&&!(r.overflowY===r.overflowX&&!_3(e)&&r[s]==="visible")},A3=function(e){return qw(e,"overflowY")},C3=function(e){return qw(e,"overflowX")},vy=function(e,s){var r=s.ownerDocument,n=s;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=Yw(e,n);if(a){var i=Gw(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},P3=function(e){var s=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[s,r,n]},T3=function(e){var s=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[s,r,n]},Yw=function(e,s){return e==="v"?A3(s):C3(s)},Gw=function(e,s){return e==="v"?P3(s):T3(s)},E3=function(e,s){return e==="h"&&s==="rtl"?-1:1},I3=function(e,s,r,n,a){var i=E3(e,window.getComputedStyle(s).direction),o=i*n,l=r.target,c=s.contains(l),d=!1,u=o>0,f=0,p=0;do{if(!l)break;var h=Gw(e,l),j=h[0],v=h[1],b=h[2],g=v-b-i*j;(j||g)&&Yw(e,l)&&(f+=g,p+=j);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(s.contains(l)||s===l));return(u&&(a&&Math.abs(f)<1||!a&&o>f)||!u&&(a&&Math.abs(p)<1||!a&&-o>p))&&(d=!0),d},fc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},yy=function(e){return[e.deltaX,e.deltaY]},jy=function(e){return e&&"current"in e?e.current:e},O3=function(e,s){return e[0]===s[0]&&e[1]===s[1]},R3=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},M3=0,Ja=[];function D3(e){var s=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),a=m.useState(M3++)[0],i=m.useState(Hw)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var v=r3([e.lockRef.current],(e.shards||[]).map(jy),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var g=fc(v),y=r.current,x="deltaX"in v?v.deltaX:y[0]-g[0],S="deltaY"in v?v.deltaY:y[1]-g[1],w,k=v.target,C=Math.abs(x)>Math.abs(S)?"h":"v";if("touches"in v&&C==="h"&&k.type==="range")return!1;var P=vy(C,k);if(!P)return!0;if(P?w=C:(w=C==="v"?"h":"v",P=vy(C,k)),!P)return!1;if(!n.current&&"changedTouches"in v&&(x||S)&&(n.current=w),!w)return!0;var N=n.current||w;return I3(N,b,v,N==="h"?x:S,!0)},[]),c=m.useCallback(function(v){var b=v;if(!(!Ja.length||Ja[Ja.length-1]!==i)){var g="deltaY"in b?yy(b):fc(b),y=s.current.filter(function(w){return w.name===b.type&&(w.target===b.target||b.target===w.shadowParent)&&O3(w.delta,g)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var x=(o.current.shards||[]).map(jy).filter(Boolean).filter(function(w){return w.contains(b.target)}),S=x.length>0?l(b,x[0]):!o.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),d=m.useCallback(function(v,b,g,y){var x={name:v,delta:b,target:g,should:y,shadowParent:L3(g)};s.current.push(x),setTimeout(function(){s.current=s.current.filter(function(S){return S!==x})},1)},[]),u=m.useCallback(function(v){r.current=fc(v),n.current=void 0},[]),f=m.useCallback(function(v){d(v.type,yy(v),v.target,l(v,e.lockRef.current))},[]),p=m.useCallback(function(v){d(v.type,fc(v),v.target,l(v,e.lockRef.current))},[]);m.useEffect(function(){return Ja.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Ka),document.addEventListener("touchmove",c,Ka),document.addEventListener("touchstart",u,Ka),function(){Ja=Ja.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Ka),document.removeEventListener("touchmove",c,Ka),document.removeEventListener("touchstart",u,Ka)}},[]);var h=e.removeScrollBar,j=e.inert;return m.createElement(m.Fragment,null,j?m.createElement(i,{styles:R3(a)}):null,h?m.createElement(k3,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function L3(e){for(var s=null;e!==null;)e instanceof ShadowRoot&&(s=e.host,e=e.host),e=e.parentNode;return s}const $3=m3(Ww,D3);var Kw=m.forwardRef(function(e,s){return m.createElement(Zd,Mr({},e,{ref:s,sideCar:$3}))});Kw.classNames=Zd.classNames;const Ap=Kw;var eu="Popover",[Jw,H$]=Vs(eu,[Qd]),Fl=Qd(),[F3,na]=Jw(eu),Qw=e=>{const{__scopePopover:s,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Fl(s),c=m.useRef(null),[d,u]=m.useState(!1),[f,p]=Gr({prop:n,defaultProp:a??!1,onChange:i,caller:eu});return t.jsx($w,{...l,children:t.jsx(F3,{scope:s,contentId:gr(),triggerRef:c,open:f,onOpenChange:p,onOpenToggle:m.useCallback(()=>p(h=>!h),[p]),hasCustomAnchor:d,onCustomAnchorAdd:m.useCallback(()=>u(!0),[]),onCustomAnchorRemove:m.useCallback(()=>u(!1),[]),modal:o,children:r})})};Qw.displayName=eu;var Xw="PopoverAnchor",z3=m.forwardRef((e,s)=>{const{__scopePopover:r,...n}=e,a=na(Xw,r),i=Fl(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return m.useEffect(()=>(o(),()=>l()),[o,l]),t.jsx(kp,{...i,...n,ref:s})});z3.displayName=Xw;var Zw="PopoverTrigger",eN=m.forwardRef((e,s)=>{const{__scopePopover:r,...n}=e,a=na(Zw,r),i=Fl(r),o=Ke(s,a.triggerRef),l=t.jsx(we.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":aN(a.open),...n,ref:o,onClick:Ce(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:t.jsx(kp,{asChild:!0,...i,children:l})});eN.displayName=Zw;var Cp="PopoverPortal",[U3,B3]=Jw(Cp,{forceMount:void 0}),tN=e=>{const{__scopePopover:s,forceMount:r,children:n,container:a}=e,i=na(Cp,s);return t.jsx(U3,{scope:s,forceMount:r,children:t.jsx(Ws,{present:r||i.open,children:t.jsx(Xd,{asChild:!0,container:a,children:n})})})};tN.displayName=Cp;var zi="PopoverContent",sN=m.forwardRef((e,s)=>{const r=B3(zi,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=na(zi,e.__scopePopover);return t.jsx(Ws,{present:n||i.open,children:i.modal?t.jsx(W3,{...a,ref:s}):t.jsx(H3,{...a,ref:s})})});sN.displayName=zi;var V3=Ra("PopoverContent.RemoveScroll"),W3=m.forwardRef((e,s)=>{const r=na(zi,e.__scopePopover),n=m.useRef(null),a=Ke(s,n),i=m.useRef(!1);return m.useEffect(()=>{const o=n.current;if(o)return _p(o)},[]),t.jsx(Ap,{as:V3,allowPinchZoom:!0,children:t.jsx(rN,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ce(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Ce(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),H3=m.forwardRef((e,s)=>{const r=na(zi,e.__scopePopover),n=m.useRef(!1),a=m.useRef(!1);return t.jsx(rN,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),rN=m.forwardRef((e,s)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,p=na(zi,r),h=Fl(r);return pp(),t.jsx(Yd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:t.jsx(qd,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>p.onOpenChange(!1),children:t.jsx(Fw,{"data-state":aN(p.open),role:"dialog",id:p.contentId,...h,...f,ref:s,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),nN="PopoverClose",q3=m.forwardRef((e,s)=>{const{__scopePopover:r,...n}=e,a=na(nN,r);return t.jsx(we.button,{type:"button",...n,ref:s,onClick:Ce(e.onClick,()=>a.onOpenChange(!1))})});q3.displayName=nN;var Y3="PopoverArrow",G3=m.forwardRef((e,s)=>{const{__scopePopover:r,...n}=e,a=Fl(r);return t.jsx(zw,{...a,...n,ref:s})});G3.displayName=Y3;function aN(e){return e?"open":"closed"}var K3=Qw,J3=eN,Q3=tN,X3=sN;function iN({...e}){return t.jsx(K3,{"data-slot":"popover",...e})}function oN({...e}){return t.jsx(J3,{"data-slot":"popover-trigger",...e})}function lN({className:e,align:s="center",sideOffset:r=4,...n}){return t.jsx(Q3,{children:t.jsx(X3,{"data-slot":"popover-content",align:s,sideOffset:r,className:ve("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...n})})}function Pp({onPropertyFound:e,onError:s,autoSearch:r=!0}={}){const[n,a]=m.useState(null),[i,o]=m.useState([]),[l,c]=m.useState(!1),[d,u]=m.useState(null),f=m.useRef(),p=m.useCallback(async(S,w,k)=>{const C=w||{},P=k||"GET";f.current&&f.current.abort(),f.current=new AbortController,c(!0),u(null);try{const N=`https://${De}.supabase.co/functions/v1/make-server-a24396d5/attom/${S}`,T={method:P,headers:{"Content-Type":"application/json",Authorization:`Bearer ${Te}`},signal:f.current.signal};if(P==="GET"&&Object.keys(C).length>0){const I=new URLSearchParams;Object.entries(C).forEach(([R,M])=>{M!=null&&I.append(R,String(M))});const _=`${N}?${I.toString()}`,A=await fetch(_,T);if(!A.ok)throw new Error(`HTTP error! status: ${A.status}`);return await A.json()}else if(P==="POST"){T.body=JSON.stringify(C);const I=await fetch(N,T);if(!I.ok)throw new Error(`HTTP error! status: ${I.status}`);return await I.json()}const O=await fetch(N,T);if(!O.ok)throw new Error(`HTTP error! status: ${O.status}`);return await O.json()}catch(N){if(N instanceof Error){if(N.name==="AbortError")return null;const T={code:"API_ERROR",message:N.message,details:N};u(T),s==null||s(T),console.error("Attom API Error:",N)}return null}finally{c(!1)}},[s]),h=m.useCallback(async S=>{if(!S.trim())return null;console.log("Searching Attom for address (raw response):",S);const w=await p("search-by-address",{address:S,debug:"true"});return w&&w.property&&w.property.length>0?(localStorage.setItem("handoff-attom-property",JSON.stringify(w)),e==null||e(w.property[0]),w):(w!=null&&w.error&&console.error("Attom search error:",w.error),null)},[p,e]),j=m.useCallback(async S=>{if(!S.trim())return null;console.log("Searching Attom for ID:",S);const w=await p("search-by-id",{attom_id:S});return w!=null&&w.success&&w.data?(a(w.data),e==null||e(w.data),localStorage.setItem("handoff-attom-property",JSON.stringify(w.data)),w.data):null},[p,e]),v=m.useCallback(async S=>{console.log("Searching Attom properties with params:",S);const w=await p("search",S,"POST");return w!=null&&w.success&&w.data?(o(w.data.properties),w.data):null},[p]),b=m.useCallback(async(S,w=!1)=>{console.log("Getting Attom valuation for:",S);const C=await p("valuation",w?{attom_id:S}:{address:S});return C!=null&&C.success&&C.data?C.data:null},[p]),g=m.useCallback(async(S,w=.5)=>{console.log("Getting Attom comparables for:",S);const k={radius:w};typeof S=="string"?k.address=S:(k.latitude=S.latitude,k.longitude=S.longitude);const C=await p("comparables",k);return C!=null&&C.success&&C.data?C.data:[]},[p]),y=m.useCallback(async S=>{console.log("Refreshing Attom property:",S);const w=await p("search-by-id",{attom_id:S});return w!=null&&w.success&&w.data?(a(w.data),e==null||e(w.data),localStorage.setItem("handoff-attom-property",JSON.stringify(w.data)),w.data):null},[p,e]),x=m.useCallback(()=>{a(null),o([]),u(null),f.current&&f.current.abort(),localStorage.removeItem("handoff-attom-property")},[]);return{property:n,properties:i,isLoading:l,error:d,searchByAddress:h,searchByAttomId:j,searchProperties:v,getValuation:b,getComparables:g,clearData:x,refreshProperty:y}}function Ae(e){return e==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function Na(e){return e==null?"N/A":new Intl.NumberFormat("en-US").format(e)+" sq ft"}function Z3(e,s){return s&&s>=1?`${s.toFixed(2)} acres`:e?Na(e):"N/A"}function e5(e){return e.replace(/([A-Z])/g," $1").trim()}function cN(e){return e==null?"N/A":`${Math.round(e)}%`}function t5(e){let s=0,r=0;e.data_freshness_score!==void 0&&(s+=e.data_freshness_score/100*25,r++),e.valuation.confidence_score!==void 0&&(s+=e.valuation.confidence_score/100*25,r++);const n=[e.property_details.bedrooms,e.property_details.bathrooms,e.property_details.square_feet,e.property_details.year_built,e.valuation.estimated_value,e.tax_assessment.annual_tax_amount],a=n.filter(c=>c!==void 0).length/n.length;s+=a*25,r++;const i=e.market_data.price_history&&e.market_data.price_history.length>0,o=e.market_data.comparable_sales&&e.market_data.comparable_sales.length>0,l=(i?12.5:0)+(o?12.5:0);return s+=l,r++,r>0?Math.round(s/r*4):0}function dN({label:e="Property Address",placeholder:s="Start typing a property address...",value:r="",onChange:n,onInputChange:a,error:i,disabled:o=!1,required:l=!1,country:c="US",types:d=["address"],className:u="",id:f,autoFocus:p=!1,debugMode:h=!1,showBreakdown:j=!0,validateForAttom:v=!0}){const b=ms(),g=m.useRef(null),y=m.useRef(null),x=m.useRef(null),[S,w]=m.useState(!1),[k,C]=m.useState(-1),[P,N]=m.useState(!1),[T,O]=m.useState(null),{query:I,setQuery:_,suggestions:A,isLoading:R,error:M,showSuggestions:z,setShowSuggestions:E,selectSuggestion:D,clearSuggestions:H,selectedAddress:W,fallbackMode:L,apiKeyValid:se}=sp({onAddressSelect:B=>{if(B){const Q=te(B);O(Q),n==null||n(Q)}else O(null),n==null||n(null)},country:c,types:d,debugMode:h}),te=B=>{const Q=B.address_components||[];B.geometry;let ae="",ie="",je="",fe="",Ne="";Q.forEach(pe=>{const Ge=pe.types;Ge.includes("street_number")?ae=pe.long_name:Ge.includes("route")?ie=pe.long_name:Ge.includes("locality")?je=pe.long_name:Ge.includes("administrative_area_level_1")?fe=pe.short_name:Ge.includes("postal_code")&&(Ne=pe.long_name)});const Le=`${ae} ${ie}`.trim(),He=`${je}, ${fe} ${Ne}`.trim(),Oe=[];return ae||Oe.push("Street number is missing"),ie||Oe.push("Street name is missing"),je||Oe.push("City is missing"),fe||Oe.push("State is missing"),Ne||Oe.push("ZIP code is missing"),v&&(fe&&fe.length!==2&&Oe.push("State must be 2-letter abbreviation"),Ne&&!/^\d{5}(-\d{4})?$/.test(Ne)&&Oe.push("ZIP code must be 5 digits or ZIP+4 format"),Le.length<3&&Oe.push("Street address too short")),{address1:Le,address2:He,street_number:ae,street_name:ie,city:je,state:fe,zip_code:Ne,formatted_address:B.formatted_address,is_valid:Oe.length===0,validation_errors:Oe}},le=B=>{const Q=[],ae=B.trim().replace(/\s+/g," "),ie=ae.split(",").map(Ge=>Ge.trim());let je="",fe="",Ne="",Le="",He="",Oe="",pe="";if(ie.length>=3){je=ie[0],He=ie[1];const Ge=ie[2].match(/^([A-Z]{2})\s+(\d{5}(?:-\d{4})?)$/);Ge?(Oe=Ge[1],pe=Ge[2]):Q.push('Could not parse state and ZIP code from "'+ie[2]+'"');const bt=je.match(/^(\d+)\s+(.+)$/);bt?(Ne=bt[1],Le=bt[2]):Q.push('Could not parse street number and name from "'+je+'"'),fe=`${He}, ${Oe} ${pe}`.trim()}else if(ie.length===2){je=ie[0];const Ge=ie[1],bt=Ge.match(/^(.+?)\s+([A-Z]{2})\s+(\d{5}(?:-\d{4})?)$/);bt?(He=bt[1],Oe=bt[2],pe=bt[3],fe=`${He}, ${Oe} ${pe}`):(Q.push('Could not parse city, state, and ZIP from "'+Ge+'"'),fe=Ge);const qt=je.match(/^(\d+)\s+(.+)$/);qt?(Ne=qt[1],Le=qt[2]):Q.push('Could not parse street number and name from "'+je+'"')}else Q.push("Address format not recognized"),je=ae,fe="";return Ne||Q.push("Street number is required"),Le||Q.push("Street name is required"),He||Q.push("City is required"),Oe||Q.push("State is required"),pe||Q.push("ZIP code is required"),v&&(Oe&&Oe.length!==2&&Q.push("State must be 2-letter abbreviation"),pe&&!/^\d{5}(-\d{4})?$/.test(pe)&&Q.push("ZIP code must be 5 digits or ZIP+4 format")),{address1:je,address2:fe,street_number:Ne,street_name:Le,city:He,state:Oe,zip_code:pe,formatted_address:ae,is_valid:Q.length===0,validation_errors:Q}};m.useEffect(()=>{if(r!==I&&!P&&(_(r),L&&r.trim())){const B=le(r);O(B),n==null||n(B)}},[r,I,_,P,L,n]);const ue=B=>{const Q=B.target.value;if(_(Q),a==null||a(Q),C(-1),L&&Q.trim()){const ae=le(Q);O(ae),n==null||n(ae)}else Q.trim()||(O(null),n==null||n(null))},ee=()=>{w(!0),A.length>0&&E(!0)},V=B=>{var ae;w(!1);const Q=B.relatedTarget;Q&&((ae=x.current)!=null&&ae.contains(Q))||setTimeout(()=>{P||(E(!1),C(-1))},150)},J=async(B,Q)=>{if(!P){N(!0),C(Q),E(!1);try{await D(B)}catch(ae){console.error("Error selecting address:",ae)}finally{N(!1),C(-1)}}},G=()=>{var B;_(""),a==null||a(""),n==null||n(null),O(null),H(),C(-1),(B=g.current)==null||B.focus()},re=B=>{var Q,ae;if(!z||A.length===0){B.key==="Escape"&&(E(!1),C(-1),(Q=g.current)==null||Q.blur());return}switch(B.key){case"ArrowDown":B.preventDefault(),C(ie=>ie<A.length-1?ie+1:0);break;case"ArrowUp":B.preventDefault(),C(ie=>ie>0?ie-1:A.length-1);break;case"Enter":B.preventDefault(),k>=0&&k<A.length&&J(A[k],k);break;case"Escape":B.preventDefault(),E(!1),C(-1),(ae=g.current)==null||ae.blur();break}};m.useEffect(()=>{p&&g.current&&g.current.focus()},[p]),m.useEffect(()=>{const B=Q=>{y.current&&!y.current.contains(Q.target)&&(E(!1),C(-1))};return document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}},[]);const he=i||h&&M,Ee=I.length>0&&!o,Fe=(T==null?void 0:T.is_valid)||!1,me=T&&T.validation_errors.length>0;return t.jsxs("div",{ref:y,className:`relative w-full space-y-3 ${u}`,children:[e&&t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs(X,{htmlFor:f,className:`flex items-center gap-2 ${l?'after:content-["*"] after:ml-0.5 after:text-red-500':""}`,children:[t.jsx(We,{className:"w-4 h-4"}),e]}),L&&t.jsxs(K,{variant:"secondary",className:"text-xs",children:[t.jsx(ud,{className:"w-3 h-3 mr-1"}),"Manual Entry"]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 pointer-events-none z-10",children:Fe?t.jsx(hr,{className:"w-4 h-4 text-green-600"}):me?t.jsx(ze,{className:"w-4 h-4 text-orange-500"}):L?t.jsx(ud,{className:"w-4 h-4 text-muted-foreground"}):t.jsx(Ls,{className:"w-4 h-4 text-muted-foreground"})}),t.jsx(Re,{ref:g,id:f,type:"text",value:I,onChange:ue,onFocus:ee,onBlur:V,onKeyDown:re,placeholder:L?"Enter address manually":s,disabled:o,className:`
            pl-10 ${Ee?"pr-10":"pr-4"}
            ${b?"mobile-input":""}
            ${he||me?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
            ${Fe?"border-green-500 bg-green-50":""}
            transition-colors duration-200
          `,autoComplete:"off",role:"combobox","aria-expanded":z,"aria-haspopup":"listbox","aria-describedby":he?`${f}-error`:void 0,"aria-activedescendant":k>=0?`${f}-option-${k}`:void 0}),Ee&&t.jsx($,{type:"button",variant:"ghost",size:"sm",onClick:G,className:"absolute right-1 top-1/2 transform -translate-y-1/2 w-8 h-8 p-0 hover:bg-gray-100 z-10",tabIndex:-1,children:t.jsx(Li,{className:"w-3 h-3"})}),R&&t.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none z-10",children:t.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"})})]}),(i||h&&M)&&t.jsx("p",{id:`${f}-error`,className:"text-sm text-red-600",children:i||M}),z&&A.length>0&&t.jsx("div",{ref:x,className:"absolute left-0 right-0 top-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-64 overflow-y-auto z-50",role:"listbox","aria-label":"Address suggestions",children:A.map((B,Q)=>t.jsx("div",{id:`${f}-option-${Q}`,className:`
                w-full px-4 py-3 text-left cursor-pointer border-b border-gray-100 last:border-b-0
                transition-all duration-150
                ${Q===k?"bg-blue-50 border-blue-200 shadow-sm":"hover:bg-gray-50"}
                ${b?"mobile-button touch-target":""}
              `,onClick:()=>J(B,Q),onMouseEnter:()=>C(Q),role:"option","aria-selected":Q===k,tabIndex:-1,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(kt,{className:`w-4 h-4 mt-0.5 flex-shrink-0 ${Q===k?"text-blue-500":"text-muted-foreground"}`}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:`text-sm font-medium truncate ${Q===k?"text-blue-900":"text-gray-900"}`,children:B.structured_formatting.main_text}),t.jsx("div",{className:"text-xs text-muted-foreground truncate",children:B.structured_formatting.secondary_text})]})]})},B.place_id))}),z&&!R&&I.length>=3&&A.length===0&&(!M||h)&&!L&&t.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:t.jsxs("div",{className:"px-4 py-6 text-center",children:[t.jsx(Ls,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),t.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"No addresses found"})]})})]})}function Tp(e){const s=e+"CollectionProvider",[r,n]=Vs(s),[a,i]=r(s,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:b,children:g}=v,y=Z.useRef(null),x=Z.useRef(new Map).current;return t.jsx(a,{scope:b,itemMap:x,collectionRef:y,children:g})};o.displayName=s;const l=e+"CollectionSlot",c=Ra(l),d=Z.forwardRef((v,b)=>{const{scope:g,children:y}=v,x=i(l,g),S=Ke(b,x.collectionRef);return t.jsx(c,{ref:S,children:y})});d.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",p=Ra(u),h=Z.forwardRef((v,b)=>{const{scope:g,children:y,...x}=v,S=Z.useRef(null),w=Ke(b,S),k=i(u,g);return Z.useEffect(()=>(k.itemMap.set(S,{ref:S,...x}),()=>void k.itemMap.delete(S))),t.jsx(p,{[f]:"",ref:w,children:y})});h.displayName=u;function j(v){const b=i(e+"CollectionConsumer",v);return Z.useCallback(()=>{const y=b.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((k,C)=>x.indexOf(k.ref.current)-x.indexOf(C.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:d,ItemSlot:h},j,n]}var s5=m.createContext(void 0);function zl(e){const s=m.useContext(s5);return e||s||"ltr"}var mm="rovingFocusGroup.onEntryFocus",r5={bubbles:!1,cancelable:!0},Ul="RovingFocusGroup",[Ih,uN,n5]=Tp(Ul),[a5,mN]=Vs(Ul,[n5]),[i5,o5]=a5(Ul),hN=m.forwardRef((e,s)=>t.jsx(Ih.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(Ih.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(l5,{...e,ref:s})})}));hN.displayName=Ul;var l5=m.forwardRef((e,s)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,p=m.useRef(null),h=Ke(s,p),j=zl(i),[v,b]=Gr({prop:o,defaultProp:l??null,onChange:c,caller:Ul}),[g,y]=m.useState(!1),x=os(d),S=uN(r),w=m.useRef(!1),[k,C]=m.useState(0);return m.useEffect(()=>{const P=p.current;if(P)return P.addEventListener(mm,x),()=>P.removeEventListener(mm,x)},[x]),t.jsx(i5,{scope:r,orientation:n,dir:j,loop:a,currentTabStopId:v,onItemFocus:m.useCallback(P=>b(P),[b]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>C(P=>P+1),[]),onFocusableItemRemove:m.useCallback(()=>C(P=>P-1),[]),children:t.jsx(we.div,{tabIndex:g||k===0?-1:0,"data-orientation":n,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:Ce(e.onMouseDown,()=>{w.current=!0}),onFocus:Ce(e.onFocus,P=>{const N=!w.current;if(P.target===P.currentTarget&&N&&!g){const T=new CustomEvent(mm,r5);if(P.currentTarget.dispatchEvent(T),!T.defaultPrevented){const O=S().filter(M=>M.focusable),I=O.find(M=>M.active),_=O.find(M=>M.id===v),R=[I,_,...O].filter(Boolean).map(M=>M.ref.current);xN(R,u)}}w.current=!1}),onBlur:Ce(e.onBlur,()=>y(!1))})})}),fN="RovingFocusGroupItem",pN=m.forwardRef((e,s)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=gr(),d=i||c,u=o5(fN,r),f=u.currentTabStopId===d,p=uN(r),{onFocusableItemAdd:h,onFocusableItemRemove:j,currentTabStopId:v}=u;return m.useEffect(()=>{if(n)return h(),()=>j()},[n,h,j]),t.jsx(Ih.ItemSlot,{scope:r,id:d,focusable:n,active:a,children:t.jsx(we.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...l,ref:s,onMouseDown:Ce(e.onMouseDown,b=>{n?u.onItemFocus(d):b.preventDefault()}),onFocus:Ce(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:Ce(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){u.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const g=u5(b,u.orientation,u.dir);if(g!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let x=p().filter(S=>S.focusable).map(S=>S.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();const S=x.indexOf(b.currentTarget);x=u.loop?m5(x,S+1):x.slice(S+1)}setTimeout(()=>xN(x))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});pN.displayName=fN;var c5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function d5(e,s){return s!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function u5(e,s,r){const n=d5(e.key,r);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return c5[n]}function xN(e,s=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:s}),document.activeElement!==r))return}function m5(e,s){return e.map((r,n)=>e[(s+n)%e.length])}var h5=hN,f5=pN,tu="Tabs",[p5,q$]=Vs(tu,[mN]),gN=mN(),[x5,Ep]=p5(tu),vN=m.forwardRef((e,s)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=zl(l),[f,p]=Gr({prop:n,onChange:a,defaultProp:i??"",caller:tu});return t.jsx(x5,{scope:r,baseId:gr(),value:f,onValueChange:p,orientation:o,dir:u,activationMode:c,children:t.jsx(we.div,{dir:u,"data-orientation":o,...d,ref:s})})});vN.displayName=tu;var yN="TabsList",jN=m.forwardRef((e,s)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=Ep(yN,r),o=gN(r);return t.jsx(h5,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:t.jsx(we.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:s})})});jN.displayName=yN;var bN="TabsTrigger",wN=m.forwardRef((e,s)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=Ep(bN,r),l=gN(r),c=kN(o.baseId,n),d=_N(o.baseId,n),u=n===o.value;return t.jsx(f5,{asChild:!0,...l,focusable:!a,active:u,children:t.jsx(we.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:s,onMouseDown:Ce(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Ce(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Ce(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!a&&f&&o.onValueChange(n)})})})});wN.displayName=bN;var NN="TabsContent",SN=m.forwardRef((e,s)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=Ep(NN,r),c=kN(l.baseId,n),d=_N(l.baseId,n),u=n===l.value,f=m.useRef(u);return m.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),t.jsx(Ws,{present:a||u,children:({present:p})=>t.jsx(we.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:s,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});SN.displayName=NN;function kN(e,s){return`${e}-trigger-${s}`}function _N(e,s){return`${e}-content-${s}`}var g5=vN,v5=jN,y5=wN,j5=SN;function Hs({className:e,...s}){return t.jsx(g5,{"data-slot":"tabs",className:ve("flex flex-col gap-2",e),...s})}function qs({className:e,...s}){return t.jsx(v5,{"data-slot":"tabs-list",className:ve("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...s})}function Se({className:e,...s}){return t.jsx(y5,{"data-slot":"tabs-trigger",className:ve("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s})}function ke({className:e,...s}){return t.jsx(j5,{"data-slot":"tabs-content",className:ve("flex-1 outline-none",e),...s})}function AN({address:e,attomProperty:s,onPropertyUpdate:r,className:n}){var S,w,k,C,P,N,T,O,I;const[a,i]=m.useState(s||null),[o,l]=m.useState(new Set(["overview"])),[c,d]=m.useState(null),u=ms(),{searchByAddress:f,isLoading:p,error:h}=Pp({onPropertyFound:_=>{i(_),r==null||r(_)},onError:_=>{console.error("Error loading property data:",_)}});m.useEffect(()=>{e&&!s&&j()},[e,s]),m.useEffect(()=>{try{const _=localStorage.getItem("handoff-attom-property");if(_){const A=JSON.parse(_);d(A)}}catch(_){console.error("Error loading cached Attom data:",_)}},[a]);const j=async()=>{if(e){const _=await f(e);_&&_.property&&_.property.length>0&&d(_)}},v=_=>{const A=new Set(o);A.has(_)?A.delete(_):A.add(_),l(A)},b=(_,A)=>_==null?"Not Available":A?A(_):typeof _=="number"?_.toLocaleString():typeof _=="boolean"?_?"Yes":"No":Array.isArray(_)?_.length>0?_.join(", "):"None":String(_),g=_=>{var A,R,M,z,E,D,H,W,L,se,te,le,ue,ee,V,J,G,re,he,Ee,Fe,me,B,Q,ae,ie,je,fe,Ne,Le,He,Oe,pe,Ge,bt,qt,es,ge,st,pt,wt,ts,xt,_t,Tt,Dt,ss,Ar,Ys,Yt,Cr,_e,Ue,Je,Et,It,Gt,rs,Ot,Kt,vn,yn,jn,bn,wn,ye,rr,Nn,to,so,ro,no,ao,io,oo,lo,co,uo,mo,ho,fo,po,xo,go,vo,yo,jo;return[{title:"Property Overview",icon:t.jsx(We,{className:"w-5 h-5"}),fields:[{label:"Property Type",value:(A=_.property_details)==null?void 0:A.property_type,important:!0},{label:"Property Use Code",value:(R=_.property_details)==null?void 0:R.property_use_code},{label:"Bedrooms",value:(M=_.property_details)==null?void 0:M.bedrooms,important:!0},{label:"Bathrooms",value:(z=_.property_details)==null?void 0:z.bathrooms,important:!0},{label:"Full Bathrooms",value:(E=_.property_details)==null?void 0:E.full_bathrooms},{label:"Half Bathrooms",value:(D=_.property_details)==null?void 0:D.half_bathrooms},{label:"Total Rooms",value:(H=_.property_details)==null?void 0:H.total_rooms},{label:"Square Feet",value:(W=_.property_details)==null?void 0:W.square_feet,format:Na,important:!0},{label:"Living Square Feet",value:(L=_.property_details)==null?void 0:L.square_feet_living,format:Na},{label:"Year Built",value:(se=_.property_details)==null?void 0:se.year_built,important:!0},{label:"Effective Year Built",value:(te=_.property_details)==null?void 0:te.effective_year_built},{label:"Stories",value:(le=_.property_details)==null?void 0:le.stories},{label:"Units Count",value:(ue=_.property_details)==null?void 0:ue.units_count}]},{title:"Property Valuation",icon:t.jsx(ls,{className:"w-5 h-5"}),fields:[{label:"Estimated Value (AVM)",value:(ee=_.valuation)==null?void 0:ee.estimated_value,format:Ae,important:!0},{label:"Value Range Low",value:(V=_.valuation)==null?void 0:V.value_range_low,format:Ae},{label:"Value Range High",value:(J=_.valuation)==null?void 0:J.value_range_high,format:Ae},{label:"Price Per Sq Ft",value:(G=_.valuation)==null?void 0:G.price_per_sqft,format:gt=>gt?`$${gt.toFixed(2)}`:"N/A",important:!0},{label:"Confidence Score",value:(re=_.valuation)==null?void 0:re.confidence_score,format:cN},{label:"Last Sale Price",value:(he=_.valuation)==null?void 0:he.last_sale_price,format:Ae,important:!0},{label:"Last Sale Date",value:(Ee=_.valuation)==null?void 0:Ee.last_sale_date},{label:"Market Value",value:(Fe=_.valuation)==null?void 0:Fe.market_value,format:Ae},{label:"Assessed Value",value:(me=_.valuation)==null?void 0:me.assessed_value,format:Ae},{label:"Assessed Year",value:(B=_.valuation)==null?void 0:B.assessed_year},{label:"Market Improvement %",value:(Q=_.valuation)==null?void 0:Q.market_improvement_percent,format:gt=>gt?`${gt.toFixed(2)}%`:"N/A"}]},{title:"Tax Assessment",icon:t.jsx(Ri,{className:"w-5 h-5"}),fields:[{label:"Annual Tax Amount",value:(ae=_.tax_assessment)==null?void 0:ae.annual_tax_amount,format:Ae,important:!0},{label:"Total Assessed Value",value:(ie=_.tax_assessment)==null?void 0:ie.total_assessed_value,format:Ae,important:!0},{label:"Land Assessed Value",value:(je=_.tax_assessment)==null?void 0:je.land_assessed_value,format:Ae},{label:"Improvement Assessed Value",value:(fe=_.tax_assessment)==null?void 0:fe.improvement_assessed_value,format:Ae},{label:"Assessment Year",value:(Ne=_.tax_assessment)==null?void 0:Ne.assessment_year,important:!0},{label:"Tax Year",value:(Le=_.tax_assessment)==null?void 0:Le.tax_year},{label:"Tax Rate per $1000",value:(He=_.tax_assessment)==null?void 0:He.tax_rate_per_1000,format:gt=>gt?`$${gt.toFixed(2)}`:"N/A"},{label:"Tax Exemptions",value:(pe=(Oe=_.tax_assessment)==null?void 0:Oe.exemptions)==null?void 0:pe.map(gt=>`${gt.type}: ${Ae(gt.amount)}`),format:gt=>Array.isArray(gt)?gt.join("; "):"None"}]},{title:"Lot & Land Information",icon:t.jsx(Bb,{className:"w-5 h-5"}),fields:[{label:"Lot Size (Sq Ft)",value:(Ge=_.property_details)==null?void 0:Ge.lot_size_sqft,format:Na,important:!0},{label:"Lot Size (Acres)",value:(bt=_.property_details)==null?void 0:bt.lot_size_acres,format:gt=>gt?`${gt.toFixed(2)} acres`:"N/A"},{label:"Zoning",value:(qt=_.property_details)==null?void 0:qt.zoning,important:!0},{label:"Pool",value:(es=_.property_details)==null?void 0:es.pool},{label:"Subdivision",value:(ge=_.neighborhood)==null?void 0:ge.subdivision}]},{title:"Building Features",icon:t.jsx(mn,{className:"w-5 h-5"}),fields:[{label:"Architectural Style",value:(st=_.property_details)==null?void 0:st.architectural_style},{label:"Construction Type",value:(pt=_.property_details)==null?void 0:pt.construction_type},{label:"Condition",value:(wt=_.property_details)==null?void 0:wt.condition},{label:"Quality",value:(ts=_.property_details)==null?void 0:ts.quality},{label:"Roof Type",value:(xt=_.property_details)==null?void 0:xt.roof_type},{label:"Roof Material",value:(_t=_.property_details)==null?void 0:_t.roof_material},{label:"Exterior Material",value:(Tt=_.property_details)==null?void 0:Tt.exterior_material},{label:"Foundation Type",value:(Dt=_.property_details)==null?void 0:Dt.foundation_type},{label:"Fireplace",value:(ss=_.property_details)==null?void 0:ss.fireplace},{label:"Fireplace Count",value:(Ar=_.property_details)==null?void 0:Ar.fireplace_count},{label:"Central Air",value:(Ys=_.property_details)==null?void 0:Ys.central_air},{label:"Basement",value:(Yt=_.property_details)==null?void 0:Yt.basement},{label:"Attic",value:(Cr=_.property_details)==null?void 0:Cr.attic},{label:"Heating Type",value:(_e=_.property_details)==null?void 0:_e.heating_type},{label:"Cooling Type",value:(Ue=_.property_details)==null?void 0:Ue.cooling_type}]},{title:"Parking & Transportation",icon:t.jsx(Wd,{className:"w-5 h-5"}),fields:[{label:"Garage Spaces",value:(Je=_.property_details)==null?void 0:Je.garage_spaces},{label:"Parking Spaces",value:(Et=_.property_details)==null?void 0:Et.parking_spaces}]},{title:"Neighborhood & Location",icon:t.jsx(kt,{className:"w-5 h-5"}),fields:[{label:"Neighborhood Name",value:(It=_.neighborhood)==null?void 0:It.name},{label:"County",value:(Gt=_.neighborhood)==null?void 0:Gt.county},{label:"Census Tract",value:(rs=_.neighborhood)==null?void 0:rs.census_tract},{label:"School District",value:(Ot=_.neighborhood)==null?void 0:Ot.school_district},{label:"Coordinates",value:(Kt=_.address)!=null&&Kt.coordinates?`${_.address.coordinates.latitude}, ${_.address.coordinates.longitude}`:null}]},{title:"HOA & Community",icon:t.jsx(fn,{className:"w-5 h-5"}),fields:[{label:"Has HOA",value:(yn=(vn=_.neighborhood)==null?void 0:vn.hoa_info)==null?void 0:yn.has_hoa},{label:"Monthly HOA Fee",value:(bn=(jn=_.neighborhood)==null?void 0:jn.hoa_info)==null?void 0:bn.monthly_fee,format:Ae},{label:"Annual HOA Fee",value:(ye=(wn=_.neighborhood)==null?void 0:wn.hoa_info)==null?void 0:ye.annual_fee,format:Ae}]},{title:"Utilities & Services",icon:t.jsx(Xs,{className:"w-5 h-5"}),fields:[{label:"Sewer Type",value:(rr=_.utilities)==null?void 0:rr.sewer_type},{label:"Water Source",value:(Nn=_.utilities)==null?void 0:Nn.water_source},{label:"Electric Provider",value:(to=_.utilities)==null?void 0:to.electric_provider},{label:"Gas Provider",value:(so=_.utilities)==null?void 0:so.gas_provider},{label:"Internet Providers",value:(ro=_.utilities)==null?void 0:ro.internet_providers}]},{title:"Risk Factors",icon:t.jsx(us,{className:"w-5 h-5"}),fields:[{label:"Flood Zone",value:(no=_.risk_factors)==null?void 0:no.flood_zone},{label:"Flood Risk Score",value:(ao=_.risk_factors)==null?void 0:ao.flood_risk_score},{label:"Earthquake Risk",value:(io=_.risk_factors)==null?void 0:io.earthquake_risk},{label:"Fire Risk",value:(oo=_.risk_factors)==null?void 0:oo.fire_risk},{label:"Environmental Hazards",value:(lo=_.risk_factors)==null?void 0:lo.environmental_hazards},{label:"Crime Score",value:(co=_.risk_factors)==null?void 0:co.crime_score},{label:"Walkability Score",value:(uo=_.risk_factors)==null?void 0:uo.walkability_score},{label:"School Score",value:(mo=_.risk_factors)==null?void 0:mo.school_score}]},{title:"Ownership & Transfer",icon:t.jsx(ZA,{className:"w-5 h-5"}),fields:[{label:"Deed Date",value:(ho=_.ownership)==null?void 0:ho.deed_date},{label:"Transfer Amount",value:(fo=_.ownership)==null?void 0:fo.transfer_amount,format:Ae},{label:"Deed Type",value:(po=_.ownership)==null?void 0:po.deed_type}]},{title:"Market Data",icon:t.jsx(Hr,{className:"w-5 h-5"}),fields:[{label:"List Price",value:(xo=_.market_data)==null?void 0:xo.list_price,format:Ae},{label:"Price History Count",value:(vo=(go=_.market_data)==null?void 0:go.price_history)==null?void 0:vo.length},{label:"Comparable Sales Count",value:(jo=(yo=_.market_data)==null?void 0:yo.comparable_sales)==null?void 0:jo.length}]},{title:"Data Quality & Sources",icon:t.jsx(Ct,{className:"w-5 h-5"}),fields:[{label:"Attom ID",value:_.attom_id},{label:"Data Source",value:_.data_source},{label:"Last Updated",value:_.last_updated},{label:"Data Freshness Score",value:_.data_freshness_score,format:gt=>gt?`${gt}%`:"N/A"}]}]};if(p)return t.jsx(F,{className:ve("w-full",n),children:t.jsx(U,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[t.jsx(Ye,{className:"w-4 h-4 animate-spin"}),t.jsx("span",{children:"Loading comprehensive property analysis..."})]})})});if(h)return t.jsx(F,{className:ve("w-full border-destructive",n),children:t.jsxs(U,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center space-x-2 text-destructive",children:[t.jsx(ze,{className:"w-5 h-5"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium",children:"Error Loading Property Data"}),t.jsx("p",{className:"text-sm",children:h.message})]})]}),e&&t.jsxs($,{variant:"outline",onClick:j,className:"mt-4",size:"sm",children:[t.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Retry"]})]})});if(!a&&!e)return t.jsx(F,{className:ve("w-full",n),children:t.jsx(U,{className:"p-6 text-center",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx(We,{className:"w-12 h-12 mx-auto text-muted-foreground"}),t.jsx("h3",{className:"font-medium",children:"No Property Data Available"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter a property address to view comprehensive analysis"})]})})});if(!a)return t.jsx(F,{className:ve("w-full",n),children:t.jsx(U,{className:"p-6 text-center",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx(ze,{className:"w-12 h-12 mx-auto text-muted-foreground"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium",children:"Property Not Found"}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["No property data available for ",e]})]}),t.jsxs($,{variant:"outline",onClick:j,size:"sm",children:[t.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Search Again"]})]})})});const y=g(a),x=y.filter(_=>_.fields.some(A=>A.value!==null&&A.value!==void 0)).length;return t.jsxs("div",{className:ve("w-full space-y-6",n),children:[t.jsx(F,{children:t.jsx(q,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(Y,{className:"text-xl",children:"Comprehensive Property Analysis"}),t.jsxs(Ie,{className:"mt-1",children:["Complete data from Attom API  ",x," of ",y.length," sections with data"]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(K,{variant:"secondary",children:[t.jsx(be,{className:"w-3 h-3 mr-1"}),"Verified"]}),t.jsxs($,{variant:"outline",size:"sm",onClick:j,disabled:p,children:[t.jsx(Ye,{className:ve("w-4 h-4",p&&"animate-spin")}),!u&&t.jsx("span",{className:"ml-2",children:"Refresh"})]})]})]})})}),t.jsx(F,{children:t.jsx(U,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(kt,{className:"w-5 h-5 text-primary"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium",children:((S=a.address)==null?void 0:S.formatted)||e}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[(w=a.address)==null?void 0:w.city,", ",(k=a.address)==null?void 0:k.state," ",(C=a.address)==null?void 0:C.zip_code]})]})]})})}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx(F,{children:t.jsxs(U,{className:"p-4 text-center",children:[t.jsx(ls,{className:"w-6 h-6 mx-auto mb-2 text-green-600"}),t.jsx("div",{className:"text-2xl font-bold",children:b((P=a.valuation)==null?void 0:P.estimated_value,Ae)}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Estimated Value"})]})}),t.jsx(F,{children:t.jsxs(U,{className:"p-4 text-center",children:[t.jsx(We,{className:"w-6 h-6 mx-auto mb-2 text-blue-600"}),t.jsxs("div",{className:"text-2xl font-bold",children:[b((N=a.property_details)==null?void 0:N.bedrooms)," / ",b((T=a.property_details)==null?void 0:T.bathrooms)]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Bed / Bath"})]})}),t.jsx(F,{children:t.jsxs(U,{className:"p-4 text-center",children:[t.jsx(Ol,{className:"w-6 h-6 mx-auto mb-2 text-purple-600"}),t.jsx("div",{className:"text-2xl font-bold",children:b((O=a.property_details)==null?void 0:O.square_feet,_=>_?_.toLocaleString():"N/A")}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Square Feet"})]})}),t.jsx(F,{children:t.jsxs(U,{className:"p-4 text-center",children:[t.jsx(Ri,{className:"w-6 h-6 mx-auto mb-2 text-orange-600"}),t.jsx("div",{className:"text-2xl font-bold",children:b((I=a.tax_assessment)==null?void 0:I.annual_tax_amount,Ae)}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Annual Taxes"})]})})]}),t.jsxs(Hs,{defaultValue:"all",className:"w-full",children:[t.jsxs(qs,{className:"grid w-full grid-cols-2",children:[t.jsx(Se,{value:"all",children:"All Fields"}),t.jsx(Se,{value:"raw",children:"Raw API Data"})]}),t.jsx(ke,{value:"all",className:"space-y-4",children:y.map(_=>{const A=_.fields.some(M=>M.value!==null&&M.value!==void 0&&M.value!==""),R=o.has(_.title.toLowerCase().replace(/\s+/g,"-"));return t.jsxs(F,{className:A?"":"opacity-50",children:[t.jsx(q,{className:"cursor-pointer transition-colors hover:bg-muted/50",onClick:()=>v(_.title.toLowerCase().replace(/\s+/g,"-")),children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[_.icon,t.jsxs("div",{children:[t.jsx(Y,{className:"text-lg",children:_.title}),t.jsxs(Ie,{children:[_.fields.filter(M=>M.value!==null&&M.value!==void 0&&M.value!=="").length," of ",_.fields.length," fields populated"]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[A&&t.jsx(K,{variant:"secondary",children:"Data Available"}),R?t.jsx(Ia,{className:"w-4 h-4"}):t.jsx(dd,{className:"w-4 h-4"})]})]})}),R&&t.jsx(U,{className:"pt-0",children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_.fields.map(M=>t.jsxs("div",{className:ve("space-y-1 p-3 rounded-lg border",M.important&&M.value!==null&&M.value!==void 0?"bg-primary/5 border-primary/20":"bg-muted/30"),children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("label",{className:"text-sm font-medium text-foreground",children:[M.label,M.important&&t.jsx(K,{variant:"outline",className:"ml-2 text-xs",children:"Key"})]})}),t.jsx("div",{className:"text-sm text-muted-foreground",children:b(M.value,M.format)}),M.description&&t.jsx("p",{className:"text-xs text-muted-foreground italic",children:M.description})]},M.label))})})]},_.title)})}),t.jsx(ke,{value:"raw",className:"space-y-4",children:t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsxs(Y,{className:"flex items-center space-x-2",children:[t.jsx(Qt,{className:"w-5 h-5"}),t.jsx("span",{children:"Raw Attom API Response"})]}),t.jsx(Ie,{children:"Complete unprocessed data from the Attom API with debug=True parameter"})]}),t.jsx(U,{children:t.jsx("div",{className:"bg-muted p-4 rounded-lg overflow-auto max-h-96",children:t.jsx("pre",{className:"text-xs whitespace-pre-wrap",children:c?JSON.stringify(c,null,2):"No raw API data available"})})})]})})]})]})}const b5=Object.freeze(Object.defineProperty({__proto__:null,PropertyAnalysisReport:AN},Symbol.toStringTag,{value:"Module"}));function w5(e){return e.toISOString().split("T")[0]}function N5(e){return e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}function S5({onComplete:e,onBack:s,isEditMode:r=!1,screeningData:n}){const[a,i]=m.useState(0),[o,l]=m.useState({}),[c,d]=m.useState(n),u=ms();m.useEffect(()=>{if(!c){const x=localStorage.getItem("handoff-screening-data");if(x)try{d(JSON.parse(x))}catch(S){console.warn("Error parsing screening data:",S)}}if(r){const x=localStorage.getItem("handoff-property-data");if(x)try{const S=JSON.parse(x);l(S)}catch(S){console.warn("Error parsing property data:",S)}}},[r,c]);const f=m.useCallback(x=>{const S={...o,...x};if(l(S),r)try{localStorage.setItem("handoff-property-data",JSON.stringify(S))}catch(w){console.warn("Error saving property data:",w)}},[o,r]),h=m.useCallback(()=>{const x=[];return x.push({id:"property-basic",title:c!=null&&c.hasSpecificProperty?"Property Details":"Property Information",description:c!=null&&c.hasSpecificProperty?"Tell us about your property and view comprehensive analysis":"We'll help you track property information when you find one",icon:t.jsx(We,{className:"w-6 h-6"}),required:(c==null?void 0:c.hasSpecificProperty)||(c==null?void 0:c.buyingStage)==="under-contract",component:A5}),(c==null?void 0:c.buyingStage)==="under-contract"&&x.push({id:"contract-details",title:"Contract Information",description:"Important dates and contract terms",icon:t.jsx(Ea,{className:"w-6 h-6"}),required:!0,component:C5}),((c==null?void 0:c.experienceLevel)!=="just-starting"||c!=null&&c.hasPreApproval)&&x.push({id:"financial-info",title:"Financial Details",description:(c==null?void 0:c.experienceLevel)==="investor"?"Investment numbers and financing":"Your financing and budget information",icon:t.jsx(ls,{className:"w-6 h-6"}),required:!1,component:P5}),((c==null?void 0:c.experienceLevel)==="first-time"||(c==null?void 0:c.timeframe)==="immediate")&&x.push({id:"team-services",title:"Your Team",description:"Real estate professionals helping with your purchase",icon:t.jsx(hn,{className:"w-6 h-6"}),required:!1,component:T5}),((c==null?void 0:c.experienceLevel)==="investor"||(c==null?void 0:c.primaryGoal)==="investment")&&x.push({id:"investment-details",title:"Investment Analysis",description:"Rental income and return calculations",icon:t.jsx(yA,{className:"w-6 h-6"}),required:!1,component:E5}),x},[c])(),j=m.useCallback(()=>{a<h.length-1?i(x=>x+1):(localStorage.setItem("handoff-initial-setup-complete","true"),localStorage.setItem("handoff-property-data",JSON.stringify(o)),o.attomProperty&&localStorage.setItem("handoff-attom-property",JSON.stringify(o.attomProperty)),e(o))},[a,h.length,o,e]),v=m.useCallback(()=>{a>0?i(x=>x-1):s&&s()},[a,s]),b=m.useCallback(()=>{const x=h[a];if(!(x!=null&&x.required))return!0;switch(x.id){case"property-basic":return c!=null&&c.hasSpecificProperty?!!o.propertyAddress:!0;case"contract-details":return!!o.closingDate;default:return!0}},[a,h,o,c]);if(!c)return t.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading your setup..."}),t.jsx("p",{className:"text-muted-foreground",children:"Preparing your personalized experience"})]})});const g=h[a],y=(a+1)/h.length*100;return t.jsx("div",{className:`min-h-screen bg-background ${u?"page-content-mobile":"page-content"}`,children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-2xl font-semibold text-foreground mb-2",children:r?"Update Property Setup":"Property Setup"}),t.jsx("p",{className:"text-muted-foreground",children:r?"Update your property details and information":c.hasSpecificProperty?"Let's set up your property details and view comprehensive analysis":"We'll customize this based on your needs"})]}),t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsxs("span",{className:"text-sm text-muted-foreground",children:["Step ",a+1," of ",h.length]}),t.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(y),"% complete"]})]}),t.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:t.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300 ease-out",style:{width:`${y}%`}})})]}),t.jsxs(F,{className:"mb-8",children:[t.jsxs(q,{className:"text-center",children:[t.jsx("div",{className:"flex justify-center mb-4",children:t.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:g.icon})}),t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[t.jsx(Y,{className:"text-xl",children:g.title}),g.required&&t.jsx(K,{variant:"secondary",className:"text-xs",children:"Required"})]}),t.jsx(Ie,{children:g.description})]}),t.jsx(U,{children:t.jsx(Nt,{fallback:t.jsx("div",{className:"text-center py-8",children:t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"w-16 h-16 bg-destructive/10 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(it,{className:"w-8 h-8 text-destructive"})}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"Step Unavailable"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"This step encountered an error and cannot be displayed."}),t.jsx($,{variant:"outline",onClick:()=>window.location.reload(),className:u?"mobile-button":"",children:"Refresh Page"})]})}),children:t.jsx(g.component,{propertyData:o,updatePropertyData:f,screeningData:c,isMobile:u,isEditMode:r})})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs($,{variant:"outline",onClick:v,className:u?"mobile-button":"",children:[t.jsx(Fn,{className:"w-4 h-4 mr-2"}),"Back"]}),t.jsxs($,{onClick:j,disabled:!b(),className:u?"mobile-button":"",children:[a===h.length-1?r?"Save Changes":"Complete Setup":"Next",t.jsx(Il,{className:"w-4 h-4 ml-2"})]})]})]})})}function k5({date:e,onDateChange:s,placeholder:r="Select date",disabled:n=!1,className:a,isMobile:i=!1}){const[o,l]=m.useState(!1);return t.jsxs(iN,{open:o,onOpenChange:l,children:[t.jsx(oN,{asChild:!0,children:t.jsxs($,{variant:"outline",disabled:n,className:ve("w-full justify-start text-left font-normal",!e&&"text-muted-foreground",i&&"mobile-input h-12",a),children:[t.jsx(Ea,{className:"mr-2 h-4 w-4"}),e?ra(e,"PPP"):r]})}),t.jsx(lN,{className:"w-auto p-0 z-50",align:"start",children:t.jsx(mw,{mode:"single",selected:e,onSelect:c=>{s(c),l(!1)},disabled:c=>c<new Date("1900-01-01"),initialFocus:!0})})]})}function _5({date:e,onDateChange:s,placeholder:r="Select date and time",disabled:n=!1,className:a,isMobile:i=!1}){const[o,l]=m.useState(!1),[c,d]=m.useState(e?u(e):"09:00");function u(h){return h.toTimeString().slice(0,5)}const f=h=>{if(h){const[j,v]=c.split(":").map(Number),b=new Date(h);b.setHours(j,v),s(b)}else s(void 0);l(!1)},p=h=>{if(d(h),e){const[j,v]=h.split(":").map(Number),b=new Date(e);b.setHours(j,v),s(b)}};return t.jsxs("div",{className:"space-y-2",children:[t.jsxs(iN,{open:o,onOpenChange:l,children:[t.jsx(oN,{asChild:!0,children:t.jsxs($,{variant:"outline",disabled:n,className:ve("w-full justify-start text-left font-normal",!e&&"text-muted-foreground",i&&"mobile-input h-12",a),children:[t.jsx(Ea,{className:"mr-2 h-4 w-4"}),e?N5(e):r]})}),t.jsx(lN,{className:"w-auto p-0 z-50",align:"start",children:t.jsx(mw,{mode:"single",selected:e,onSelect:f,disabled:h=>h<new Date("1900-01-01"),initialFocus:!0})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Zo,{className:"h-4 w-4 text-muted-foreground"}),t.jsx("input",{type:"time",value:c,onChange:h=>p(h.target.value),disabled:n,className:ve("flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",i&&"mobile-input","text-sm")})]})]})}function A5({propertyData:e,updatePropertyData:s,screeningData:r,isMobile:n,isEditMode:a}){const[i,o]=m.useState(e.attomProperty||null),[l,c]=m.useState(!1),[d,u]=m.useState(!1),{searchByAddress:f,isLoading:p}=Pp({onPropertyFound:v=>{console.log("Attom property found:",v),o(v),s({attomProperty:v,attomSearchCompleted:!0}),c(!1),u(!0)},onError:v=>{console.error("Error loading Attom data:",v),s({attomSearchCompleted:!0}),c(!1)}});m.useEffect(()=>{r!=null&&r.propertyAddress&&!e.propertyAddress&&s({propertyAddress:r.propertyAddress})},[r==null?void 0:r.propertyAddress,e.propertyAddress,s]),m.useEffect(()=>{i&&e.propertyAddress&&u(!0)},[i,e.propertyAddress]);const h=v=>{if(v){const b=v.formatted_address;s({propertyAddress:b,addressComponents:v}),c(!0);const g=`${v.address1}, ${v.address2}`;f(g)}else s({propertyAddress:"",addressComponents:null}),o(null),u(!1)},j=v=>{s({propertyAddress:v}),v&&v.length>15&&v.includes(",")?(c(!0),f(v)):v||(o(null),u(!1))};return m.useEffect(()=>{if(i&&!e.propertyPrice&&i.valuation.estimated_value){const v=Ae(i.valuation.estimated_value);a||s({propertyPrice:v})}},[i,e.propertyPrice,s,a]),!r.hasSpecificProperty&&r.buyingStage!=="under-contract"?t.jsx("div",{className:"text-center py-8",children:t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(kt,{className:"w-8 h-8 text-muted-foreground"})}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"Ready when you are"}),t.jsx("p",{className:"text-muted-foreground",children:"Once you find a property you're interested in, come back here to add the details."})]})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(dN,{id:"propertyAddress",label:`Property Address${r.hasSpecificProperty?" *":""}`,placeholder:"Start typing a property address...",value:e.propertyAddress||"",onChange:h,onInputChange:j,required:r.hasSpecificProperty,country:"US",types:["address"],className:n?"mobile-input":"",showBreakdown:!0,validateForAttom:!0,debugMode:!1}),(l||p)&&t.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:"Searching property database..."})]}),i&&t.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[t.jsx(be,{className:"w-4 h-4"}),t.jsx("span",{children:"Property verified with Attom Data"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"propertyPrice",className:"text-sm font-medium text-foreground",children:"Purchase Price"}),t.jsx("input",{id:"propertyPrice",type:"text",placeholder:"$750,000",value:e.propertyPrice||"",onChange:v=>s({propertyPrice:v.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary ${n?"mobile-input":""}`}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the agreed-upon purchase price"}),i&&i.valuation.estimated_value&&t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Est. Value: ",Ae(i.valuation.estimated_value)]})]})]}),i&&t.jsxs("div",{className:"p-4 bg-primary/5 border border-primary/20 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(mn,{className:"w-4 h-4 text-primary"}),t.jsx("h4",{className:"font-medium text-primary",children:"Property Information"}),t.jsx(K,{variant:"secondary",className:"text-xs",children:"Verified by Attom"})]}),t.jsxs($,{variant:"outline",size:"sm",onClick:()=>u(!d),className:"text-xs",children:[t.jsx(Ht,{className:"w-3 h-3 mr-1"}),d?"Hide":"View"," Full Analysis",d?t.jsx(Db,{className:"w-3 h-3 ml-1"}):t.jsx(Ia,{className:"w-3 h-3 ml-1"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Type"}),t.jsx("p",{className:"font-medium",children:i.property_details.property_type})]}),i.property_details.bedrooms&&t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Bedrooms"}),t.jsx("p",{className:"font-medium",children:i.property_details.bedrooms})]}),i.property_details.bathrooms&&t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Bathrooms"}),t.jsx("p",{className:"font-medium",children:i.property_details.bathrooms})]}),i.property_details.square_feet&&t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Square Feet"}),t.jsx("p",{className:"font-medium",children:Na(i.property_details.square_feet)})]}),i.property_details.year_built&&t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Year Built"}),t.jsx("p",{className:"font-medium",children:i.property_details.year_built})]}),i.tax_assessment.annual_tax_amount&&t.jsxs("div",{children:[t.jsx("p",{className:"text-muted-foreground",children:"Annual Taxes"}),t.jsx("p",{className:"font-medium",children:Ae(i.tax_assessment.annual_tax_amount)})]})]}),i.valuation.price_per_sqft&&t.jsx("div",{className:"mt-3 pt-3 border-t border-primary/20",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Hr,{className:"w-4 h-4 text-green-600"}),t.jsxs("span",{className:"text-sm text-muted-foreground",children:["$",Math.round(i.valuation.price_per_sqft)," per sq ft"]})]})})]}),d&&i&&e.propertyAddress&&t.jsx("div",{className:"mt-6",children:t.jsx(AN,{address:e.propertyAddress,attomProperty:i,onPropertyUpdate:v=>{o(v),s({attomProperty:v})}})})]})}function C5({propertyData:e,updatePropertyData:s,isMobile:r}){const n=l=>{s({closingDate:l?w5(l):""})},a=l=>{s({inspectionDate:l?l.toISOString():""})},i=e.closingDate?new Date(e.closingDate):void 0,o=e.inspectionDate?new Date(e.inspectionDate):void 0;return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{htmlFor:"closingDate",className:"text-sm font-medium text-foreground",children:["Closing Date ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(k5,{date:i,onDateChange:n,placeholder:"Select closing date",isMobile:r}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"The date when the property ownership will transfer"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"inspectionDate",className:"text-sm font-medium text-foreground",children:"Inspection Date & Time"}),t.jsx(_5,{date:o,onDateChange:a,placeholder:"Select inspection date and time",isMobile:r}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"When the home inspection is scheduled"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"earnestMoney",className:"text-sm font-medium text-foreground",children:"Earnest Money Deposit"}),t.jsx("input",{id:"earnestMoney",type:"text",placeholder:"$15,000",value:e.earnestMoney||"",onChange:l=>s({earnestMoney:l.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary ${r?"mobile-input":""}`}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Amount paid to show serious intent to purchase"})]})]})}function P5({propertyData:e,updatePropertyData:s,screeningData:r,isMobile:n}){var c,d,u,f,p,h;const a=j=>j?parseFloat(j.replace(/[^0-9.]/g,"")):0,i=j=>j.includes("%")||parseFloat(j.replace(/[^0-9.]/g,""))<=100&&!j.includes("$")&&!j.includes(","),o=(j,v)=>{const b=a(j);if(!b||b<=0)return"";const g=a(v);if(!g||g<=0)return"";let y;i(v)?y=b*g/100:y=g;const x=b-y;return x>0?`$${Math.round(x).toLocaleString()}`:""},l=j=>{if(s({downPayment:j}),e.propertyPrice){const v=o(e.propertyPrice,j);s({downPayment:j,loanAmount:v})}};return Z.useEffect(()=>{if(e.propertyPrice&&e.downPayment){const j=o(e.propertyPrice,e.downPayment);j!==e.loanAmount&&s({loanAmount:j})}},[e.propertyPrice,e.downPayment]),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"downPayment",className:"text-sm font-medium text-foreground",children:"Down Payment"}),t.jsx("input",{id:"downPayment",type:"text",placeholder:"20% or $150,000",value:e.downPayment||"",onChange:j=>l(j.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary ${n?"mobile-input":""}`}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter as percentage (20%) or dollar amount ($150,000)"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"loanAmount",className:"text-sm font-medium text-foreground",children:"Loan Amount"}),t.jsx("input",{id:"loanAmount",type:"text",placeholder:"Auto-calculated",value:e.loanAmount||"",disabled:!0,className:`w-full px-3 py-2 border rounded-lg bg-muted text-muted-foreground cursor-not-allowed ${n?"mobile-input":""}`}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically calculated based on purchase price and down payment"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"hoaFees",className:"text-sm font-medium text-foreground",children:"HOA Fees (Monthly)"}),t.jsx("input",{id:"hoaFees",type:"text",placeholder:"$250",value:e.hoaFees||((u=(d=(c=e.attomProperty)==null?void 0:c.neighborhood)==null?void 0:d.hoa_info)!=null&&u.monthly_fee?Ae(e.attomProperty.neighborhood.hoa_info.monthly_fee):""),onChange:j=>s({hoaFees:j.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary ${n?"mobile-input":""}`}),((h=(p=(f=e.attomProperty)==null?void 0:f.neighborhood)==null?void 0:p.hoa_info)==null?void 0:h.monthly_fee)&&t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Auto-filled from Attom data: ",Ae(e.attomProperty.neighborhood.hoa_info.monthly_fee)]})]})]})}function T5({propertyData:e,updatePropertyData:s,isMobile:r}){return t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"realtor",className:"text-sm font-medium text-foreground",children:"Real Estate Agent"}),t.jsx("input",{id:"realtor",type:"text",placeholder:"Agent name",value:e.realtor||"",onChange:n=>s({realtor:n.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary ${r?"mobile-input":""}`})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"lender",className:"text-sm font-medium text-foreground",children:"Lender"}),t.jsx("input",{id:"lender",type:"text",placeholder:"Lender name",value:e.lender||"",onChange:n=>s({lender:n.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary ${r?"mobile-input":""}`})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"attorney",className:"text-sm font-medium text-foreground",children:"Real Estate Attorney"}),t.jsx("input",{id:"attorney",type:"text",placeholder:"Attorney name",value:e.attorney||"",onChange:n=>s({attorney:n.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary ${r?"mobile-input":""}`})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"inspector",className:"text-sm font-medium text-foreground",children:"Home Inspector"}),t.jsx("input",{id:"inspector",type:"text",placeholder:"Inspector name",value:e.inspector||"",onChange:n=>s({inspector:n.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary ${r?"mobile-input":""}`})]})]})})}function E5({propertyData:e,updatePropertyData:s,isMobile:r}){return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"rentalIncome",className:"text-sm font-medium text-foreground",children:"Monthly Rental Income"}),t.jsx("input",{id:"rentalIncome",type:"text",placeholder:"$4,000",value:e.rentalIncome||"",onChange:n=>s({rentalIncome:n.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary ${r?"mobile-input":""}`})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"capRate",className:"text-sm font-medium text-foreground",children:"Cap Rate"}),t.jsx("input",{id:"capRate",type:"text",placeholder:"6.5%",value:e.capRate||"",onChange:n=>s({capRate:n.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary ${r?"mobile-input":""}`})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"renovationPlans",className:"text-sm font-medium text-foreground",children:"Renovation Plans"}),t.jsx("textarea",{id:"renovationPlans",placeholder:"Describe any planned renovations or improvements...",value:e.renovationPlans||"",onChange:n=>s({renovationPlans:n.target.value}),rows:3,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary ${r?"mobile-input":""}`})]})]})}const I5=tp("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function ce({className:e,variant:s,...r}){return t.jsx("div",{"data-slot":"alert",role:"alert",className:ve(I5({variant:s}),e),...r})}function O5({className:e,...s}){return t.jsx("div",{"data-slot":"alert-title",className:ve("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",e),...s})}function de({className:e,...s}){return t.jsx("div",{"data-slot":"alert-description",className:ve("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...s})}function R5({onComplete:e,isEditMode:s=!1,onExitEditMode:r}){const[n,a]=m.useState("screening"),[i,o]=m.useState(null);m.useEffect(()=>{const p=localStorage.getItem("handoff-screening-data");if(p)try{const h=JSON.parse(p);o(h),s||a("setup")}catch(h){console.warn("Error parsing saved screening data:",h),localStorage.removeItem("handoff-screening-data")}},[s]);const l=p=>{o(p),a("setup")},c=()=>{const p={buyingStage:"just-starting",experienceLevel:"first-time",hasSpecificProperty:!1,primaryGoal:"primary-residence",timeframe:"exploring",hasPreApproval:!1,contractSigned:!1,needsRealtor:!1,nextAction:"search-properties"};localStorage.setItem("handoff-screening-data",JSON.stringify(p)),o(p),a("setup")},d=p=>{localStorage.setItem("handoff-initial-setup-complete","true"),localStorage.setItem("handoff-questionnaire-complete","true"),localStorage.setItem("handoff-property-data",JSON.stringify(p));const h={agentName:p.realtor||"",propertyAddress:p.propertyAddress||"",propertyPrice:p.propertyPrice||"",closingDate:p.closingDate||"",inspectionDate:p.inspectionDate||"",...i&&{buyingStage:i.buyingStage,experienceLevel:i.experienceLevel,primaryGoal:i.primaryGoal,timeframe:i.timeframe}};localStorage.setItem("handoff-questionnaire-responses",JSON.stringify(h)),e()},u=()=>{a("screening")},f=()=>{r&&r()};return t.jsxs("div",{className:"min-h-screen bg-background",children:[s&&t.jsx("div",{className:"sticky top-0 z-50 bg-card border-b border-border px-4 py-3",children:t.jsxs("div",{className:"max-w-2xl mx-auto flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs($,{variant:"ghost",size:"sm",onClick:f,className:"flex items-center gap-2",children:[t.jsx(Fn,{className:"w-4 h-4"}),"Back to Summary"]}),t.jsx("div",{className:"h-6 w-px bg-border"}),t.jsxs("div",{children:[t.jsx("h2",{className:"font-medium",children:"Edit Property Setup"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Update your setup information"})]})]}),t.jsx($,{variant:"ghost",size:"sm",onClick:f,className:"flex items-center gap-2",children:t.jsx(Li,{className:"w-4 h-4"})})]})}),s&&t.jsx("div",{className:"max-w-2xl mx-auto px-4 pt-6",children:t.jsx(ce,{className:"bg-blue-50 border-blue-200 mb-6",children:t.jsxs(de,{className:"text-blue-800",children:[t.jsx("strong",{children:"Editing Mode:"})," You're updating your existing setup. Your progress and tasks will be preserved. You can change your responses and they'll be saved automatically."]})})}),n==="screening"?t.jsx(NP,{onComplete:l,onSkip:c,isEditMode:s,existingData:i}):t.jsx(S5,{onComplete:d,onBack:u,isEditMode:s,screeningData:i})]})}var M5="Separator",by="horizontal",D5=["horizontal","vertical"],CN=m.forwardRef((e,s)=>{const{decorative:r,orientation:n=by,...a}=e,i=L5(n)?n:by,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return t.jsx(we.div,{"data-orientation":i,...l,...a,ref:s})});CN.displayName=M5;function L5(e){return D5.includes(e)}var $5=CN;function zt({className:e,orientation:s="horizontal",decorative:r=!0,...n}){return t.jsx($5,{"data-slot":"separator-root",decorative:r,orientation:s,className:ve("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...n})}var Ip="Progress",Op=100,[F5,Y$]=Vs(Ip),[z5,U5]=F5(Ip),PN=m.forwardRef((e,s)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=B5,...o}=e;(a||a===0)&&!wy(a)&&console.error(V5(`${a}`,"Progress"));const l=wy(a)?a:Op;n!==null&&!Ny(n,l)&&console.error(W5(`${n}`,"Progress"));const c=Ny(n,l)?n:null,d=vd(c)?i(c,l):void 0;return t.jsx(z5,{scope:r,value:c,max:l,children:t.jsx(we.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":vd(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":IN(c,l),"data-value":c??void 0,"data-max":l,...o,ref:s})})});PN.displayName=Ip;var TN="ProgressIndicator",EN=m.forwardRef((e,s)=>{const{__scopeProgress:r,...n}=e,a=U5(TN,r);return t.jsx(we.div,{"data-state":IN(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:s})});EN.displayName=TN;function B5(e,s){return`${Math.round(e/s*100)}%`}function IN(e,s){return e==null?"indeterminate":e===s?"complete":"loading"}function vd(e){return typeof e=="number"}function wy(e){return vd(e)&&!isNaN(e)&&e>0}function Ny(e,s){return vd(e)&&!isNaN(e)&&e<=s&&e>=0}function V5(e,s){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Op}\`.`}function W5(e,s){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${s}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Op} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var H5=PN,q5=EN;function Sa({className:e,value:s,...r}){return t.jsx(H5,{"data-slot":"progress",className:ve("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...r,children:t.jsx(q5,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})})}const Ui=m.forwardRef(({className:e,...s},r)=>t.jsx("textarea",{"data-slot":"textarea",className:ve("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));Ui.displayName="Textarea";function Y5({property:e,isLoading:s=!1,onRefresh:r,showAllSections:n=!0,className:a="",onNavigate:i}){var g,y,x,S,w,k,C,P,N,T,O,I,_,A,R,M,z,E,D,H,W,L,se,te,le,ue,ee,V,J,G,re,he,Ee,Fe,me,B,Q,ae,ie,je,fe,Ne,Le,He,Oe,pe,Ge,bt,qt,es,ge,st,pt,wt,ts,xt,_t,Tt,Dt,ss,Ar,Ys,Yt,Cr,_e,Ue,Je,Et,It,Gt,rs,Ot,Kt,vn,yn,jn,bn,wn;const[o,l]=m.useState("overview"),c=e?t5(e):0,d=(e==null?void 0:e.data_freshness_score)||0,u=((g=e==null?void 0:e.valuation)==null?void 0:g.confidence_score)||0,f=ye=>{if(!ye)return"N/A";try{return new Date(ye).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return ye}},p=ye=>ye==null?"N/A":`${ye.toFixed(2)}%`,h=ye=>ye?ye<=3?"Low":ye<=6?"Moderate":ye<=8?"High":"Very High":"Unknown",j=ye=>ye?ye<=3?"bg-green-100 text-green-700":ye<=6?"bg-yellow-100 text-yellow-700":ye<=8?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700":"bg-gray-100 text-gray-700",v=((y=e==null?void 0:e.address)==null?void 0:y.formatted)||"Address not available",b=(x=e==null?void 0:e.address)==null?void 0:x.coordinates;return e?t.jsxs("div",{className:`space-y-6 ${a}`,children:[t.jsxs(F,{children:[t.jsx(q,{className:"pb-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(mn,{className:"w-6 h-6 text-primary"}),"Property Analysis Report"]}),t.jsx("p",{className:"text-muted-foreground",children:v})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[i&&t.jsxs($,{onClick:()=>i("property-report"),size:"sm",variant:"default",children:[t.jsx(xr,{className:"w-4 h-4 mr-1"}),"Full Report"]}),r&&t.jsxs($,{onClick:r,size:"sm",variant:"outline",disabled:s,children:[s?t.jsx(Ye,{className:"w-4 h-4 animate-spin"}):t.jsx(Ye,{className:"w-4 h-4"}),"Refresh Data"]}),t.jsxs(K,{className:"bg-blue-100 text-blue-800 border-blue-300",children:[t.jsx(zC,{className:"w-3 h-3 mr-1"}),"Score: ",c,"/100"]})]})]})}),t.jsx(U,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",children:"Data Quality"}),t.jsxs("span",{className:"text-sm text-muted-foreground",children:[d,"%"]})]}),t.jsx(Sa,{value:d,className:"h-2"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",children:"Value Confidence"}),t.jsxs("span",{className:"text-sm text-muted-foreground",children:[u,"%"]})]}),t.jsx(Sa,{value:u,className:"h-2"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",children:"Overall Rating"}),t.jsxs("span",{className:"text-sm text-muted-foreground",children:[c,"%"]})]}),t.jsx(Sa,{value:c,className:"h-2"})]})]})})]}),t.jsxs(Hs,{value:o,onValueChange:l,className:"w-full",children:[t.jsxs(qs,{className:"grid w-full grid-cols-6",children:[t.jsx(Se,{value:"overview",children:"Overview"}),t.jsx(Se,{value:"valuation",children:"Property Value"}),t.jsx(Se,{value:"market",children:"Market Data"}),t.jsx(Se,{value:"details",children:"Features"}),t.jsx(Se,{value:"risks",children:"Risk Assessment"}),t.jsx(Se,{value:"investment",children:"Investment"})]}),t.jsx(ke,{value:"overview",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(ls,{className:"w-5 h-5 text-green-600"}),"Key Financial Data"]})}),t.jsxs(U,{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Estimated Value"}),t.jsx("span",{className:"font-semibold",children:Ae((S=e==null?void 0:e.valuation)==null?void 0:S.estimated_value)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Last Sale Price"}),t.jsx("span",{className:"font-semibold",children:Ae((w=e==null?void 0:e.valuation)==null?void 0:w.last_sale_price)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Price per Sq Ft"}),t.jsx("span",{className:"font-semibold",children:Ae((k=e==null?void 0:e.valuation)==null?void 0:k.price_per_sqft)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Annual Taxes"}),t.jsx("span",{className:"font-semibold",children:Ae((C=e==null?void 0:e.tax_assessment)==null?void 0:C.annual_tax_amount)})]})]})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(We,{className:"w-5 h-5 text-blue-600"}),"Property Features"]})}),t.jsxs(U,{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Property Type"}),t.jsx("span",{className:"font-semibold",children:e5(((P=e==null?void 0:e.property_details)==null?void 0:P.property_type)||"Unknown")})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Bedrooms"}),t.jsx("span",{className:"font-semibold",children:((N=e==null?void 0:e.property_details)==null?void 0:N.bedrooms)||"N/A"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Bathrooms"}),t.jsx("span",{className:"font-semibold",children:((T=e==null?void 0:e.property_details)==null?void 0:T.bathrooms)||"N/A"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Square Feet"}),t.jsx("span",{className:"font-semibold",children:Na((O=e==null?void 0:e.property_details)==null?void 0:O.square_feet)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Year Built"}),t.jsx("span",{className:"font-semibold",children:((I=e==null?void 0:e.property_details)==null?void 0:I.year_built)||"N/A"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Lot Size"}),t.jsx("span",{className:"font-semibold",children:Z3((_=e==null?void 0:e.property_details)==null?void 0:_.lot_size_sqft,(A=e==null?void 0:e.property_details)==null?void 0:A.lot_size_acres)})]})]})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(kt,{className:"w-5 h-5 text-red-600"}),"Location Information"]})}),t.jsxs(U,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("span",{className:"text-muted-foreground text-sm",children:"Full Address"}),t.jsx("p",{className:"font-semibold",children:v})]}),(b==null?void 0:b.latitude)&&(b==null?void 0:b.longitude)&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("span",{className:"text-muted-foreground text-sm",children:"Coordinates"}),t.jsxs("p",{className:"font-mono text-sm",children:[b.latitude.toFixed(6),", ",b.longitude.toFixed(6)]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"County"}),t.jsx("span",{className:"font-semibold",children:((R=e==null?void 0:e.neighborhood)==null?void 0:R.county)||"N/A"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Neighborhood"}),t.jsx("span",{className:"font-semibold",children:((M=e==null?void 0:e.neighborhood)==null?void 0:M.name)||"N/A"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"School District"}),t.jsx("span",{className:"font-semibold",children:((z=e==null?void 0:e.neighborhood)==null?void 0:z.school_district)||"N/A"})]})]})]})]})}),t.jsx(ke,{value:"valuation",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Hr,{className:"w-5 h-5 text-green-600"}),"Current Property Value"]})}),t.jsxs(U,{className:"space-y-4",children:[t.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Estimated Market Value"}),t.jsx("p",{className:"text-2xl font-bold text-green-900",children:Ae((E=e==null?void 0:e.valuation)==null?void 0:E.estimated_value)}),((D=e==null?void 0:e.valuation)==null?void 0:D.confidence_score)&&t.jsxs("p",{className:"text-sm text-green-600",children:["Confidence: ",cN(e.valuation.confidence_score)]})]})}),(((H=e==null?void 0:e.valuation)==null?void 0:H.value_range_low)||((W=e==null?void 0:e.valuation)==null?void 0:W.value_range_high))&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("span",{className:"text-sm font-medium",children:"Estimated Value Range"}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Low"}),t.jsx("span",{children:Ae((L=e==null?void 0:e.valuation)==null?void 0:L.value_range_low)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"High"}),t.jsx("span",{children:Ae((se=e==null?void 0:e.valuation)==null?void 0:se.value_range_high)})]})]}),t.jsx(zt,{}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Price per Sq Ft"}),t.jsx("span",{className:"font-semibold",children:Ae((te=e==null?void 0:e.valuation)==null?void 0:te.price_per_sqft)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Market Value"}),t.jsx("span",{className:"font-semibold",children:Ae((le=e==null?void 0:e.valuation)==null?void 0:le.market_value)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Assessed Value"}),t.jsx("span",{className:"font-semibold",children:Ae((ue=e==null?void 0:e.valuation)==null?void 0:ue.assessed_value)})]})]})]})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Ea,{className:"w-5 h-5 text-blue-600"}),"Sale History & Trends"]})}),t.jsxs(U,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Last Sale Price"}),t.jsx("span",{className:"font-semibold",children:Ae((ee=e==null?void 0:e.valuation)==null?void 0:ee.last_sale_price)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Last Sale Date"}),t.jsx("span",{className:"font-semibold",children:f((V=e==null?void 0:e.valuation)==null?void 0:V.last_sale_date)})]})]}),(((J=e==null?void 0:e.valuation)==null?void 0:J.value_change_1yr)!==void 0||((G=e==null?void 0:e.valuation)==null?void 0:G.value_change_5yr)!==void 0)&&t.jsxs(t.Fragment,{children:[t.jsx(zt,{}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium",children:"Value Changes"}),((re=e==null?void 0:e.valuation)==null?void 0:re.value_change_1yr)!==void 0&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"1 Year Change"}),t.jsxs("span",{className:`font-semibold ${(e.valuation.value_change_1yr||0)>=0?"text-green-600":"text-red-600"}`,children:[(e.valuation.value_change_1yr||0)>=0?"+":"",p(e.valuation.value_change_1yr)]})]}),((he=e==null?void 0:e.valuation)==null?void 0:he.value_change_5yr)!==void 0&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"5 Year Change"}),t.jsxs("span",{className:`font-semibold ${(e.valuation.value_change_5yr||0)>=0?"text-green-600":"text-red-600"}`,children:[(e.valuation.value_change_5yr||0)>=0?"+":"",p(e.valuation.value_change_5yr)]})]})]})]}),((Ee=e==null?void 0:e.market_data)==null?void 0:Ee.price_history)&&Array.isArray(e.market_data.price_history)&&e.market_data.price_history.length>0&&t.jsxs(t.Fragment,{children:[t.jsx(zt,{}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium",children:"Recent Price History"}),t.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:e.market_data.price_history.slice(0,5).map((ye,rr)=>t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsxs("span",{className:"text-muted-foreground",children:[f(ye==null?void 0:ye.date)," - ",(ye==null?void 0:ye.event_type)||"Sale"]}),t.jsx("span",{className:"font-medium",children:Ae(ye==null?void 0:ye.price)})]},rr))})]})]})]})]})]})}),t.jsxs(ke,{value:"market",className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(xr,{className:"w-5 h-5 text-purple-600"}),"Current Market Status"]})}),t.jsxs(U,{className:"space-y-4",children:[((Fe=e==null?void 0:e.market_data)==null?void 0:Fe.listing_status)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Listing Status"}),t.jsx(K,{variant:"outline",children:e.market_data.listing_status})]}),((me=e==null?void 0:e.market_data)==null?void 0:me.list_price)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Current List Price"}),t.jsx("span",{className:"font-semibold",children:Ae(e.market_data.list_price)})]}),((B=e==null?void 0:e.market_data)==null?void 0:B.days_on_market)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Days on Market"}),t.jsxs("span",{className:"font-semibold",children:[e.market_data.days_on_market," days"]})]})]})]}),((Q=e==null?void 0:e.market_data)==null?void 0:Q.neighborhood_stats)&&t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Lv,{className:"w-5 h-5 text-orange-600"}),"Neighborhood Statistics"]})}),t.jsxs(U,{className:"space-y-4",children:[e.market_data.neighborhood_stats.median_home_value&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Median Home Value"}),t.jsx("span",{className:"font-semibold",children:Ae(e.market_data.neighborhood_stats.median_home_value)})]}),e.market_data.neighborhood_stats.median_price_per_sqft&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Median Price/Sq Ft"}),t.jsx("span",{className:"font-semibold",children:Ae(e.market_data.neighborhood_stats.median_price_per_sqft)})]}),e.market_data.neighborhood_stats.price_trend_3months&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"3-Month Trend"}),t.jsx(K,{variant:"outline",className:e.market_data.neighborhood_stats.price_trend_3months==="Up"?"border-green-500 text-green-700":e.market_data.neighborhood_stats.price_trend_3months==="Down"?"border-red-500 text-red-700":"border-gray-500 text-gray-700",children:e.market_data.neighborhood_stats.price_trend_3months})]}),e.market_data.neighborhood_stats.inventory_months&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Market Inventory"}),t.jsxs("span",{className:"font-semibold",children:[e.market_data.neighborhood_stats.inventory_months," months"]})]})]})]})]}),((ae=e==null?void 0:e.market_data)==null?void 0:ae.comparable_sales)&&Array.isArray(e.market_data.comparable_sales)&&e.market_data.comparable_sales.length>0&&t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(jh,{className:"w-5 h-5 text-blue-600"}),"Comparable Properties"]})}),t.jsx(U,{children:t.jsx("div",{className:"space-y-4",children:e.market_data.comparable_sales.slice(0,5).map((ye,rr)=>{var Nn;return t.jsxs("div",{className:"p-3 border rounded-lg",children:[t.jsxs("div",{className:"flex justify-between items-start mb-2",children:[t.jsx("p",{className:"font-medium",children:(ye==null?void 0:ye.address)||"Address not available"}),t.jsx(K,{variant:"outline",children:Ae(ye==null?void 0:ye.sold_price)})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-muted-foreground",children:[t.jsxs("span",{children:["Sold: ",f(ye==null?void 0:ye.sold_date)]}),t.jsxs("span",{children:[(ye==null?void 0:ye.bedrooms)||"N/A"," bed / ",(ye==null?void 0:ye.bathrooms)||"N/A"," bath"]}),t.jsx("span",{children:Na(ye==null?void 0:ye.square_feet)}),t.jsxs("span",{children:[((Nn=ye==null?void 0:ye.distance_miles)==null?void 0:Nn.toFixed(2))||"N/A"," mi away"]})]})]},rr)})})})]})]}),t.jsx(ke,{value:"details",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(mn,{className:"w-5 h-5 text-blue-600"}),"Property Details"]})}),t.jsxs(U,{className:"space-y-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Stories"}),t.jsx("span",{children:((ie=e==null?void 0:e.property_details)==null?void 0:ie.stories)||"N/A"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Units"}),t.jsx("span",{children:((je=e==null?void 0:e.property_details)==null?void 0:je.units_count)||"N/A"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Total Rooms"}),t.jsx("span",{children:((fe=e==null?void 0:e.property_details)==null?void 0:fe.total_rooms)||"N/A"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Full Bathrooms"}),t.jsx("span",{children:((Ne=e==null?void 0:e.property_details)==null?void 0:Ne.full_bathrooms)||"N/A"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Half Bathrooms"}),t.jsx("span",{children:((Le=e==null?void 0:e.property_details)==null?void 0:Le.half_bathrooms)||"N/A"})]})]}),(((He=e==null?void 0:e.property_details)==null?void 0:He.pool)||((Oe=e==null?void 0:e.property_details)==null?void 0:Oe.fireplace)||((pe=e==null?void 0:e.property_details)==null?void 0:pe.basement)||((Ge=e==null?void 0:e.property_details)==null?void 0:Ge.attic)||((bt=e==null?void 0:e.property_details)==null?void 0:bt.garage)||((qt=e==null?void 0:e.property_details)==null?void 0:qt.central_air))&&t.jsxs(t.Fragment,{children:[t.jsx(zt,{}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"font-medium text-sm",children:"Amenities & Features"}),t.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.property_details.pool&&t.jsx(K,{variant:"secondary",children:"Pool"}),e.property_details.fireplace&&t.jsx(K,{variant:"secondary",children:"Fireplace"}),e.property_details.basement&&t.jsx(K,{variant:"secondary",children:"Basement"}),e.property_details.attic&&t.jsx(K,{variant:"secondary",children:"Attic"}),e.property_details.garage&&t.jsx(K,{variant:"secondary",children:"Garage"}),e.property_details.central_air&&t.jsx(K,{variant:"secondary",children:"Central Air"})]})]})]})]})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Xs,{className:"w-5 h-5 text-yellow-600"}),"Utilities & Systems"]})}),t.jsxs(U,{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Heating System"}),t.jsx("span",{children:((es=e==null?void 0:e.property_details)==null?void 0:es.heating_type)||"N/A"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Cooling System"}),t.jsx("span",{children:((ge=e==null?void 0:e.property_details)==null?void 0:ge.cooling_type)||"N/A"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Water Source"}),t.jsx("span",{children:((st=e==null?void 0:e.utilities)==null?void 0:st.water_source)||"N/A"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Sewer System"}),t.jsx("span",{children:((pt=e==null?void 0:e.utilities)==null?void 0:pt.sewer_type)||"N/A"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Electric Provider"}),t.jsx("span",{children:((wt=e==null?void 0:e.utilities)==null?void 0:wt.electric_provider)||"N/A"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Gas Provider"}),t.jsx("span",{children:((ts=e==null?void 0:e.utilities)==null?void 0:ts.gas_provider)||"N/A"})]})]})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Ri,{className:"w-5 h-5 text-blue-600"}),"Tax Information"]})}),t.jsx(U,{className:"space-y-3",children:(xt=e==null?void 0:e.tax_assessment)!=null&&xt.annual_tax_amount||(_t=e==null?void 0:e.tax_assessment)!=null&&_t.total_assessed_value||(Tt=e==null?void 0:e.tax_assessment)!=null&&Tt.land_assessed_value||(Dt=e==null?void 0:e.valuation)!=null&&Dt.assessed_value||(ss=e==null?void 0:e.tax_assessment)!=null&&ss.assessment_year||(Ar=e==null?void 0:e.tax_assessment)!=null&&Ar.tax_year?t.jsxs(t.Fragment,{children:[((Ys=e==null?void 0:e.tax_assessment)==null?void 0:Ys.annual_tax_amount)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Annual Property Tax"}),t.jsx("span",{className:"font-semibold",children:Ae(e.tax_assessment.annual_tax_amount)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Total Assessed Value"}),t.jsx("span",{className:"font-semibold",children:Ae(((Yt=e==null?void 0:e.tax_assessment)==null?void 0:Yt.total_assessed_value)||((Cr=e==null?void 0:e.valuation)==null?void 0:Cr.assessed_value))})]}),((_e=e==null?void 0:e.tax_assessment)==null?void 0:_e.land_assessed_value)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Land Assessed Value"}),t.jsx("span",{children:Ae(e.tax_assessment.land_assessed_value)})]}),((Ue=e==null?void 0:e.tax_assessment)==null?void 0:Ue.improvement_assessed_value)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Improvement Value"}),t.jsx("span",{children:Ae(e.tax_assessment.improvement_assessed_value)})]}),(((Je=e==null?void 0:e.tax_assessment)==null?void 0:Je.assessment_year)||((Et=e==null?void 0:e.tax_assessment)==null?void 0:Et.tax_year)||((It=e==null?void 0:e.valuation)==null?void 0:It.assessed_year))&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Assessment Year"}),t.jsx("span",{children:((Gt=e==null?void 0:e.tax_assessment)==null?void 0:Gt.assessment_year)||((rs=e==null?void 0:e.tax_assessment)==null?void 0:rs.tax_year)||((Ot=e==null?void 0:e.valuation)==null?void 0:Ot.assessed_year)})]}),((Kt=e==null?void 0:e.tax_assessment)==null?void 0:Kt.tax_rate_per_1000)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Tax Rate (per $1000)"}),t.jsxs("span",{children:["$",e.tax_assessment.tax_rate_per_1000.toFixed(2)]})]}),((vn=e==null?void 0:e.tax_assessment)==null?void 0:vn.exemptions)&&e.tax_assessment.exemptions.length>0&&t.jsxs(t.Fragment,{children:[t.jsx(zt,{}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"font-medium text-sm",children:"Tax Exemptions"}),e.tax_assessment.exemptions.map((ye,rr)=>t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:ye.type}),t.jsx("span",{children:Ae(ye.amount)})]},rr))]})]})]}):t.jsxs(ce,{children:[t.jsx(Ct,{className:"h-4 w-4"}),t.jsxs(de,{children:["Tax assessment data is not available for this property. This may be because:",t.jsxs("ul",{className:"mt-2 list-disc list-inside text-sm space-y-1",children:[t.jsx("li",{children:"The property is new construction or recently built"}),t.jsx("li",{children:"Tax records have not been updated in the database"}),t.jsx("li",{children:"The property is exempt from taxation"}),t.jsx("li",{children:"The data is not available from the current data source"}),t.jsx("li",{children:"Some rural or remote properties may have limited tax data"})]}),t.jsx("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-200 rounded",children:t.jsxs("p",{className:"text-xs text-blue-700",children:[t.jsx("strong",{children:"For Developers:"})," To troubleshoot missing tax data, add ",t.jsx("code",{children:"?attom-debug=true"})," to the URL to access comprehensive debugging tools and data availability analysis."]})})]})]})})]})]})}),t.jsx(ke,{value:"risks",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Bb,{className:"w-5 h-5 text-green-600"}),"Environmental Risk Factors"]})}),t.jsx(U,{className:"space-y-4",children:e!=null&&e.risk_factors?t.jsxs(t.Fragment,{children:[e.risk_factors.flood_risk_score!==void 0&&t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Flood Risk"}),t.jsx(K,{className:j(e.risk_factors.flood_risk_score),children:h(e.risk_factors.flood_risk_score)})]}),e.risk_factors.fire_risk&&t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Fire Risk"}),t.jsx(K,{variant:"outline",children:e.risk_factors.fire_risk})]}),e.risk_factors.earthquake_risk&&t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Earthquake Risk"}),t.jsx(K,{variant:"outline",children:e.risk_factors.earthquake_risk})]}),e.risk_factors.walkability_score!==void 0&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Walkability Score"}),t.jsxs("span",{className:"font-semibold",children:[e.risk_factors.walkability_score,"/100"]})]}),e.risk_factors.school_score!==void 0&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"School Score"}),t.jsxs("span",{className:"font-semibold",children:[e.risk_factors.school_score,"/10"]})]})]}):t.jsxs(ce,{children:[t.jsx(Ct,{className:"h-4 w-4"}),t.jsx(de,{children:"Environmental risk data is not available for this property at this time."})]})})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(us,{className:"w-5 h-5 text-orange-600"}),"Market Risk Factors"]})}),t.jsx(U,{className:"space-y-4",children:t.jsxs(ce,{children:[t.jsx(Ct,{className:"h-4 w-4"}),t.jsx(de,{children:"Market risk analysis is not available for this property at this time. Risk factors depend on market conditions, comparable sales data, and economic indicators that may vary by location and property type."})]})})]})]})}),t.jsx(ke,{value:"investment",className:"space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Lv,{className:"w-5 h-5 text-purple-600"}),"Investment Potential"]})}),t.jsx(U,{className:"space-y-4",children:e!=null&&e.rental_data?t.jsxs(t.Fragment,{children:[e.rental_data.estimated_rent&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Est. Monthly Rent"}),t.jsx("span",{className:"font-semibold",children:Ae(e.rental_data.estimated_rent)})]}),(e.rental_data.rent_range_low||e.rental_data.rent_range_high)&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Rent Range (Low)"}),t.jsx("span",{children:Ae(e.rental_data.rent_range_low)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Rent Range (High)"}),t.jsx("span",{children:Ae(e.rental_data.rent_range_high)})]})]}),e.rental_data.cap_rate&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Cap Rate"}),t.jsx("span",{className:"font-semibold",children:p(e.rental_data.cap_rate)})]}),e.rental_data.gross_yield&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Gross Yield"}),t.jsx("span",{className:"font-semibold",children:p(e.rental_data.gross_yield)})]}),e.rental_data.cash_on_cash_return&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Cash-on-Cash Return"}),t.jsx("span",{className:"font-semibold",children:p(e.rental_data.cash_on_cash_return)})]})]}):t.jsxs(ce,{children:[t.jsx(Ct,{className:"h-4 w-4"}),t.jsx(de,{children:"Investment analysis data is not available for this property. This may be because the property is not suitable for rental investment or the data is not yet available."})]})})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Ri,{className:"w-5 h-5 text-green-600"}),"Financial Summary"]})}),t.jsx(U,{className:"space-y-4",children:(yn=e==null?void 0:e.valuation)!=null&&yn.estimated_value&&((jn=e==null?void 0:e.rental_data)!=null&&jn.estimated_rent)?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Purchase Price to Rent Ratio"}),t.jsxs("p",{className:"text-xl font-bold text-blue-900",children:[Math.round((e.valuation.estimated_value||0)/((((bn=e.rental_data)==null?void 0:bn.estimated_rent)||0)*12)),":1"]}),t.jsx("p",{className:"text-xs text-blue-600",children:"Lower is generally better for investors"})]})}),t.jsx(zt,{}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium",children:"Key Metrics"}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Property Value"}),t.jsx("span",{children:Ae(e.valuation.estimated_value)})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Monthly Rent"}),t.jsx("span",{children:Ae(e.rental_data.estimated_rent)})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Annual Rent"}),t.jsx("span",{children:Ae(e.rental_data.estimated_rent*12)})]}),((wn=e.tax_assessment)==null?void 0:wn.annual_tax_amount)&&t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Annual Taxes"}),t.jsx("span",{children:Ae(e.tax_assessment.annual_tax_amount)})]})]})]}):t.jsxs(ce,{children:[t.jsx(Ct,{className:"h-4 w-4"}),t.jsx(de,{children:"Financial analysis requires both property valuation and rental market data. Some information may not be available for this property."})]})})]})]})})]})]}):t.jsx(F,{className:a,children:t.jsx(U,{className:"p-6",children:t.jsxs(ce,{children:[t.jsx(ze,{className:"h-4 w-4"}),t.jsx(de,{children:"No property data available. Please try refreshing or selecting a different property."})]})})})}function G5({defaultAttomId:e,onPropertyFound:s,className:r=""}){var k,C,P,N,T,O,I,_,A,R,M,z,E,D,H,W,L,se,te,le,ue,ee,V,J,G,re,he,Ee,Fe,me,B,Q,ae,ie,je,fe,Ne,Le,He,Oe,pe,Ge,bt,qt,es;ms();const[n,a]=m.useState(e||"184713191"),[i,o]=m.useState(null),[l,c]=m.useState(!1),[d,u]=m.useState(null),[f,p]=m.useState(""),h=m.useCallback(ge=>ge==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(ge),[]),j=m.useCallback(ge=>ge==null?"N/A":new Intl.NumberFormat("en-US").format(ge)+" sq ft",[]),v=m.useCallback((ge,st)=>st&&st>=1?`${st.toFixed(2)} acres`:ge?j(ge):"N/A",[j]),b=m.useCallback(ge=>{if(!ge)return"N/A";try{return new Date(ge).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return ge}},[]),g=m.useCallback(ge=>ge?ge.replace(/([A-Z])/g," $1").trim():"N/A",[]),y=m.useCallback(ge=>{if(!ge)return"N/A";if(ge.owner1Full)return ge.owner1Full;const st=ge.firstName||"",pt=ge.lastName||"",wt=ge.middleName||"";return st||pt?`${st} ${wt} ${pt}`.trim():"N/A"},[]),x=m.useCallback(ge=>ge?ge.oneLine||`${ge.line1||""} ${ge.line2||""}, ${ge.locality||""}, ${ge.countrySubd||""} ${ge.postal1||""}`.trim():"N/A",[]),S=m.useCallback(async ge=>{var st,pt,wt,ts;if(!ge.trim()){u("Please enter an Attom ID");return}c(!0),u(null),o(null),p(ge);try{const xt=`https://${De}.supabase.co/functions/v1/make-server-a24396d5/attom/property-basic-profile`;console.log("Fetching property basic profile for Attom ID:",ge);const _t=await fetch(`${xt}?attomid=${encodeURIComponent(ge)}&debug=True`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Te}`,Accept:"application/json"}});if(!_t.ok){const Dt=await _t.text();let ss;try{ss=JSON.parse(Dt)}catch{ss={error:Dt}}throw _t.status===401?new Error("ATTOM API authentication failed. Please check your API key configuration."):_t.status===403?new Error("ATTOM API access forbidden. Please verify your API key has the required permissions."):_t.status===429?new Error("ATTOM API rate limit exceeded. Please try again in a few minutes."):_t.status===500&&((st=ss.error)!=null&&st.includes("ATTOM API key not configured"))?new Error("ATTOM API key is not configured. Please set up your API key in the settings."):new Error(`API request failed: ${_t.status} - ${ss.error||Dt}`)}const Tt=await _t.json();if(console.log("Property basic profile response:",Tt),((pt=Tt.status)==null?void 0:pt.code)===0&&Tt.property&&Tt.property.length>0){const Dt=Tt.property[0];o(Dt),s==null||s(Dt),localStorage.setItem("handoff-property-basic-profile",JSON.stringify({attomId:ge,property:Dt,timestamp:new Date().toISOString()}))}else if(((wt=Tt.status)==null?void 0:wt.msg)==="SuccessWithoutResult"||Tt.property&&Tt.property.length===0)u("No property found with the specified Attom ID. Please verify the ID and try again.");else throw new Error(((ts=Tt.status)==null?void 0:ts.msg)||"Unknown API error")}catch(xt){const _t=xt instanceof Error?xt.message:"An unexpected error occurred";console.error("Error fetching property basic profile:",xt),u(`Failed to fetch property data: ${_t}`)}finally{c(!1)}},[s]);m.useEffect(()=>{try{const ge=localStorage.getItem("handoff-property-basic-profile");if(ge){const{attomId:st,property:pt,timestamp:wt}=JSON.parse(ge),ts=Date.now()-new Date(wt).getTime(),xt=60*60*1e3;st===n&&ts<xt&&(o(pt),p(st),console.log("Loaded cached property basic profile data"))}}catch(ge){console.warn("Failed to load cached property data:",ge)}},[n]);const w=m.useCallback(()=>{S(n)},[n,S]);return m.useCallback(ge=>{ge.key==="Enter"&&w()},[w]),t.jsxs("div",{className:`space-y-6 ${r}`,children:[d&&t.jsxs(ce,{className:"border-destructive bg-destructive/5",children:[t.jsx(it,{className:"w-4 h-4"}),t.jsx(de,{className:"text-destructive",children:d})]}),l&&t.jsx(F,{className:"modern-card",children:t.jsxs("div",{className:"p-8 text-center",children:[t.jsx(Ye,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary"}),t.jsx("p",{className:"text-muted-foreground",children:"Fetching property data from Attom API..."})]})}),i&&!l&&t.jsxs("div",{className:"space-y-6",children:[t.jsx(F,{className:"modern-card",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(kt,{className:"w-5 h-5 text-primary"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Property Overview"})]}),t.jsxs(K,{variant:"outline",className:"text-xs",children:["ID: ",f]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[t.jsx(We,{className:"w-4 h-4"}),"Property Address"]}),t.jsx("p",{className:"text-lg font-medium",children:((k=i.address)==null?void 0:k.oneLine)||"Address not available"}),t.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[t.jsxs("p",{children:["Street: ",((C=i.address)==null?void 0:C.line1)||"N/A"]}),t.jsxs("p",{children:["City: ",((P=i.address)==null?void 0:P.locality)||"N/A"]}),t.jsxs("p",{children:["State: ",((N=i.address)==null?void 0:N.countrySubd)||"N/A"]}),t.jsxs("p",{children:["ZIP: ",((T=i.address)==null?void 0:T.postal1)||"N/A"]}),((O=i.address)==null?void 0:O.postal2)&&t.jsxs("p",{children:["ZIP+4: ",i.address.postal2]})]})]}),i.location&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Coordinates"}),t.jsxs("p",{className:"text-sm",children:["Lat: ",i.location.latitude,", Lng: ",i.location.longitude]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Accuracy: ",i.location.accuracy]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[t.jsx(mn,{className:"w-4 h-4"}),"Property Details"]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Property Type:"}),t.jsx("span",{children:g((I=i.summary)==null?void 0:I.proptype)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Property Class:"}),t.jsx("span",{children:((_=i.summary)==null?void 0:_.propclass)||"N/A"})]}),((A=i.summary)==null?void 0:A.propsubtype)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Subtype:"}),t.jsx("span",{children:g(i.summary.propsubtype)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Year Built:"}),t.jsx("span",{children:((R=i.summary)==null?void 0:R.yearbuilt)||((z=(M=i.building)==null?void 0:M.summary)==null?void 0:z.yearBuilt)||"N/A"})]}),((E=i.summary)==null?void 0:E.propLandUse)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Land Use:"}),t.jsx("span",{children:i.summary.propLandUse})]})]})]}),i.lot&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Location Info"}),t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"County:"}),t.jsx("span",{children:i.lot.situsCounty||"N/A"})]}),i.lot.subdname&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Subdivision:"}),t.jsx("span",{children:i.lot.subdname})]}),i.lot.lotNum&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Lot Number:"}),t.jsx("span",{children:i.lot.lotNum})]})]})]})]})]})]})}),(i.area||i.building)&&t.jsx(F,{className:"modern-card",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(Ol,{className:"w-5 h-5 text-primary"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Property Characteristics"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx(Rb,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),t.jsx("div",{className:"text-2xl font-semibold",children:((D=i.area)==null?void 0:D.bedrooms)||((W=(H=i.building)==null?void 0:H.summary)==null?void 0:W.noOfBeds)||"N/A"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Bedrooms"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx(Ob,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),t.jsx("div",{className:"text-2xl font-semibold",children:((L=i.area)==null?void 0:L.bathrooms)||((te=(se=i.building)==null?void 0:se.summary)==null?void 0:te.noOfBaths)||"N/A"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Bathrooms"}),(((le=i.area)==null?void 0:le.bathroomsFull)||((ue=i.area)==null?void 0:ue.bathroomsPartial))&&t.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[i.area.bathroomsFull&&`${i.area.bathroomsFull} Full`,i.area.bathroomsFull&&i.area.bathroomsPartial&&", ",i.area.bathroomsPartial&&`${i.area.bathroomsPartial} Half`]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx(We,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),t.jsx("div",{className:"text-2xl font-semibold",children:((ee=i.area)==null?void 0:ee.areaSqFt)||((J=(V=i.building)==null?void 0:V.size)==null?void 0:J.universalSize)||((re=(G=i.building)==null?void 0:G.size)==null?void 0:re.grossSizeGeneral)||"N/A"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Sq Ft"}),((Ee=(he=i.building)==null?void 0:he.size)==null?void 0:Ee.livingSize)&&t.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[j(i.building.size.livingSize)," Living"]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx(Wd,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),t.jsx("div",{className:"text-2xl font-semibold",children:((me=(Fe=i.building)==null?void 0:Fe.parking)==null?void 0:me.prkgSize)||"N/A"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Parking Spaces"}),((Q=(B=i.building)==null?void 0:B.parking)==null?void 0:Q.garagetype)&&t.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:i.building.parking.garagetype})]})]}),i.building&&t.jsx(zt,{className:"my-6"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[((ae=i.building)==null?void 0:ae.construction)&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-3",children:"Construction Details"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[i.building.construction.style&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Style:"}),t.jsx("span",{children:i.building.construction.style})]}),i.building.construction.condition&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Condition:"}),t.jsx("span",{children:i.building.construction.condition})]}),i.building.construction.quality&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Quality:"}),t.jsx("span",{children:i.building.construction.quality})]}),i.building.construction.exteriorWalls&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Exterior:"}),t.jsx("span",{children:i.building.construction.exteriorWalls})]}),i.building.construction.roofCover&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Roof:"}),t.jsx("span",{children:i.building.construction.roofCover})]})]})]}),i.lot&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-3",children:"Lot Information"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Lot Size:"}),t.jsx("span",{children:v(i.lot.lotsize1,i.lot.lotsize2)})]}),i.lot.pooltype&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Pool:"}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(be,{className:"w-4 h-4 text-green-600"}),i.lot.pooltype]})]})]})]})]})]})}),i.owner&&t.jsx(F,{className:"modern-card",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(hn,{className:"w-5 h-5 text-primary"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Current Owner Information"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Owner Name"}),t.jsx("p",{className:"text-lg",children:y(i.owner)}),i.owner.owner2Full&&t.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Co-Owner: ",i.owner.owner2Full]}),i.owner.owner3Full&&t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Co-Owner: ",i.owner.owner3Full]}),i.owner.owner4Full&&t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Co-Owner: ",i.owner.owner4Full]})]}),i.owner.corporateIndicator&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Ownership Type"}),t.jsx(K,{variant:"outline",children:i.owner.corporateIndicator==="Y"?"Corporate":"Individual"})]})]}),i.owner.mailingAddress&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Mailing Address"}),t.jsx("p",{className:"text-sm",children:x(i.owner.mailingAddress)}),i.owner.mailingAddress.oneLine!==((ie=i.address)==null?void 0:ie.oneLine)&&t.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs",children:[t.jsx(Ct,{className:"w-3 h-3 inline mr-1"}),"Mailing address differs from property address (Absentee Owner)"]})]})]})]})}),(i.assessment||i.sale)&&t.jsx(F,{className:"modern-card",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(ls,{className:"w-5 h-5 text-primary"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Assessment & Sale Information"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.assessment&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium",children:"Tax Assessment"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[((je=i.assessment.assessor)==null?void 0:je.assdValue)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Assessed Value:"}),t.jsx("span",{className:"font-medium",children:h(i.assessment.assessor.assdValue)})]}),((fe=i.assessment.market)==null?void 0:fe.apprCurr)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Market Value:"}),t.jsx("span",{className:"font-medium",children:h(i.assessment.market.apprCurr)})]}),((Ne=i.assessment.tax)==null?void 0:Ne.taxAmt)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Annual Tax:"}),t.jsx("span",{className:"font-medium",children:h(i.assessment.tax.taxAmt)})]}),((Le=i.assessment.tax)==null?void 0:Le.taxYear)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Tax Year:"}),t.jsx("span",{children:i.assessment.tax.taxYear})]})]})]}),i.sale&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium",children:"Last Sale"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[((He=i.sale.amount)==null?void 0:He.saleAmt)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Sale Price:"}),t.jsx("span",{className:"font-medium",children:h(i.sale.amount.saleAmt)})]}),((Oe=i.sale.transaction)==null?void 0:Oe.saleTransDate)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Sale Date:"}),t.jsx("span",{children:b(i.sale.transaction.saleTransDate)})]}),((pe=i.sale.calculation)==null?void 0:pe.pricePerSizeUnit)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Price/Sq Ft:"}),t.jsx("span",{children:h(i.sale.calculation.pricePerSizeUnit)})]})]}),i.sale.salesHistory&&i.sale.salesHistory.length>0&&t.jsxs("div",{className:"mt-4",children:[t.jsx("h5",{className:"font-medium mb-2 text-sm",children:"Sales History"}),t.jsx("div",{className:"space-y-2",children:i.sale.salesHistory.slice(0,3).map((ge,st)=>{var pt;return t.jsxs("div",{className:"text-xs border border-border rounded p-2",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:b(ge.saleTransDate)}),t.jsx("span",{className:"font-medium",children:h(ge.amount.saleAmt)})]}),((pt=ge.calculation)==null?void 0:pt.pricePerSizeUnit)&&t.jsxs("div",{className:"text-muted-foreground",children:[h(ge.calculation.pricePerSizeUnit),"/sq ft"]})]},st)})})]})]})]})]})}),t.jsx(F,{className:"modern-card",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(Ct,{className:"w-5 h-5 text-primary"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Data Information"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Attom ID:"}),t.jsx("p",{className:"font-medium",children:((Ge=i.identifier)==null?void 0:Ge.id)||"N/A"})]}),((bt=i.identifier)==null?void 0:bt.fips)&&t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"FIPS Code:"}),t.jsx("p",{className:"font-medium",children:i.identifier.fips})]}),((qt=i.identifier)==null?void 0:qt.apn)&&t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"APN:"}),t.jsx("p",{className:"font-medium",children:i.identifier.apn})]}),((es=i.vintage)==null?void 0:es.lastModified)&&t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Last Updated:"}),t.jsx("p",{className:"font-medium",children:b(i.vintage.lastModified)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Data Source:"}),t.jsx("p",{className:"font-medium",children:"Attom Data"})]})]})]})})]})]})}function K5({defaultAttomId:e="184713191",defaultAddress:s,onPropertyFound:r,className:n=""}){var T,O,I,_,A,R,M,z,E,D,H,W,L,se,te,le,ue,ee,V,J,G,re,he,Ee,Fe;const a=ms(),[i,o]=m.useState(e);m.useState("attomid");const[l,c]=m.useState({}),[d,u]=m.useState({}),[f,p]=m.useState({}),[h,j]=m.useState("overview"),v=[{name:"Property Basic Profile",endpoint:"/property-basic-profile",description:"Basic property info, address, and current owner",params:{attomid:i},required:!0},{name:"Property Expanded Detail",endpoint:"/property-expanded-detail",description:"Comprehensive property characteristics and features",params:{attomid:i},required:!1},{name:"School District Info",endpoint:"/school-district",description:"School district boundaries and school information",params:{attomid:i},required:!1},{name:"Neighborhood Data",endpoint:"/neighborhood-demographics",description:"Neighborhood statistics and demographics",params:{attomid:i},required:!1},{name:"Risk Assessment",endpoint:"/risk-data",description:"Flood, fire, earthquake, and environmental risk data",params:{attomid:i},required:!1},{name:"Market Trends",endpoint:"/market-trends",description:"Local market trends and price history",params:{attomid:i},required:!1},{name:"Environmental Data",endpoint:"/environmental-hazards",description:"Environmental hazards and site conditions",params:{attomid:i},required:!1},{name:"Utility Information",endpoint:"/utility-data",description:"Utility providers and service information",params:{attomid:i},required:!1},{name:"Property Valuation",endpoint:"/property-valuation",description:"AVM estimates and valuation data",params:{attomid:i},required:!1},{name:"Comparable Sales",endpoint:"/comparable-sales",description:"Recent comparable sales in the area",params:{attomid:i,radius:"0.5"},required:!1}],b=m.useCallback(me=>me==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(me),[]),g=m.useCallback(me=>me==null?"N/A":new Intl.NumberFormat("en-US").format(me)+" sq ft",[]);m.useCallback(me=>me==null?"N/A":`${me.toFixed(1)}%`,[]);const y=m.useCallback(me=>{if(!me)return"N/A";try{return new Date(me).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return me}},[]),x=m.useCallback(async me=>{var Q,ae,ie,je;const B=me.name.replace(/\s+/g,"_").toLowerCase();u(fe=>({...fe,[B]:!0})),p(fe=>({...fe,[B]:""}));try{const fe=`https://${De}.supabase.co/functions/v1/make-server-a24396d5/attom${me.endpoint}`,Ne=new URLSearchParams;Object.entries(me.params).forEach(([Oe,pe])=>{pe!=null&&Ne.append(Oe,String(pe))}),Ne.append("debug","True"),console.log(`Calling ${me.name} API:`,fe+"?"+Ne.toString());const Le=await fetch(`${fe}?${Ne.toString()}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Te}`,Accept:"application/json"}});if(!Le.ok){const Oe=await Le.text();throw new Error(`${me.name} API failed: ${Le.status} - ${Oe}`)}const He=await Le.json();if(console.log(`${me.name} response:`,He),((Q=He.status)==null?void 0:Q.code)===0||He.success)return c(Oe=>({...Oe,[B]:He})),He;if(((ae=He.status)==null?void 0:ae.msg)==="SuccessWithoutResult")return console.log(`${me.name}: No data available`),p(Oe=>({...Oe,[B]:`No ${me.name.toLowerCase()} data available for this property`})),null;throw new Error(((ie=He.status)==null?void 0:ie.msg)||((je=He.error)==null?void 0:je.message)||"Unknown API error")}catch(fe){const Ne=fe instanceof Error?fe.message:"An unexpected error occurred";return console.error(`Error fetching ${me.name}:`,fe),p(Le=>({...Le,[B]:Ne})),null}finally{u(fe=>({...fe,[B]:!1}))}},[]),S=m.useCallback(async()=>{if(!i.trim()){alert("Please enter an Attom ID or address");return}console.log("Starting comprehensive property search:",i),c({}),p({});const me=await Promise.allSettled(v.map(ie=>x(ie))),B=me.filter(ie=>ie.status==="fulfilled"),Q=me.filter(ie=>ie.status==="rejected");console.log(`Comprehensive search completed: ${B.length} successful, ${Q.length} failed`);const ae={};v.forEach((ie,je)=>{const fe=me[je],Ne=ie.name.replace(/\s+/g,"_").toLowerCase();fe.status==="fulfilled"&&fe.value&&(ae[Ne]=fe.value)}),Object.keys(ae).length>0&&(r==null||r(ae),localStorage.setItem("handoff-comprehensive-property-data",JSON.stringify({searchInput:i,data:ae,timestamp:new Date().toISOString()})))},[i,v,x,r]);m.useEffect(()=>{try{const me=localStorage.getItem("handoff-comprehensive-property-data");if(me){const{searchInput:B,data:Q,timestamp:ae}=JSON.parse(me),ie=Date.now()-new Date(ae).getTime(),je=60*60*1e3;B===i&&ie<je&&(c(Q),console.log("Loaded cached comprehensive property data"))}}catch(me){console.warn("Failed to load cached comprehensive property data:",me)}},[i]);const w=m.useCallback(()=>{S()},[S]);m.useCallback(me=>{me.key==="Enter"&&w()},[w]);const k=m.useCallback(()=>{var Q,ae,ie,je;const me=(ae=(Q=l.property_basic_profile)==null?void 0:Q.property)==null?void 0:ae[0],B=(je=(ie=l.property_expanded_detail)==null?void 0:ie.property)==null?void 0:je[0];return me||B||null},[l]),C=Object.values(d).some(me=>me),P=Object.keys(l).length>0,N=k();return t.jsxs("div",{className:`space-y-6 ${n}`,children:[C&&t.jsx(F,{className:"modern-card",children:t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(Ye,{className:"w-5 h-5 animate-spin text-primary"}),t.jsx("h3",{className:"font-semibold",children:"Loading Property Data"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:v.map(me=>{const B=me.name.replace(/\s+/g,"_").toLowerCase(),Q=d[B],ae=f[B],ie=l[B];return t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[Q?t.jsx(Ye,{className:"w-4 h-4 animate-spin text-blue-500"}):ae?t.jsx(Ze,{className:"w-4 h-4 text-red-500"}):ie?t.jsx(be,{className:"w-4 h-4 text-green-500"}):t.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded-full"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-sm font-medium truncate",children:me.name}),ae&&t.jsx("div",{className:"text-xs text-red-600 truncate",children:ae})]})]},me.name)})})]})})}),P&&!C&&t.jsxs("div",{className:"space-y-6",children:[N&&t.jsx(F,{className:"modern-card",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-semibold",children:((T=N.address)==null?void 0:T.oneLine)||"Property Details"}),t.jsxs("p",{className:"text-muted-foreground",children:["Attom ID: ",((O=N.identifier)==null?void 0:O.id)||i]})]}),t.jsxs(K,{variant:"outline",children:[Object.keys(l).length," Data Sources"]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-semibold",children:((_=(I=N.building)==null?void 0:I.summary)==null?void 0:_.noOfBeds)||((A=N.area)==null?void 0:A.bedrooms)||"N/A"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Bedrooms"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-semibold",children:((M=(R=N.building)==null?void 0:R.summary)==null?void 0:M.noOfBaths)||((z=N.area)==null?void 0:z.bathrooms)||"N/A"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Bathrooms"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-semibold",children:(E=N.area)!=null&&E.areaSqFt?g(N.area.areaSqFt):"N/A"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Square Feet"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-semibold",children:((H=(D=N.building)==null?void 0:D.summary)==null?void 0:H.yearBuilt)||((W=N.summary)==null?void 0:W.yearbuilt)||"N/A"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Year Built"})]})]})]})}),t.jsx(F,{className:"modern-card",children:t.jsxs(Hs,{value:h,onValueChange:j,className:"w-full",children:[t.jsx("div",{className:"border-b p-4",children:t.jsxs(qs,{className:"grid w-full grid-cols-3 md:grid-cols-6 lg:grid-cols-8",children:[t.jsx(Se,{value:"overview",className:a?"mobile-tab text-xs":"",children:"Overview"}),t.jsx(Se,{value:"owner",className:a?"mobile-tab text-xs":"",children:"Owner"}),t.jsx(Se,{value:"financial",className:a?"mobile-tab text-xs":"",children:"Financial"}),t.jsx(Se,{value:"schools",className:a?"mobile-tab text-xs":"",children:"Schools"}),t.jsx(Se,{value:"neighborhood",className:a?"mobile-tab text-xs":"",children:"Area"}),t.jsx(Se,{value:"risks",className:a?"mobile-tab text-xs":"",children:"Risks"}),t.jsx(Se,{value:"market",className:a?"mobile-tab text-xs":"",children:"Market"}),t.jsx(Se,{value:"utilities",className:a?"mobile-tab text-xs":"",children:"Utilities"})]})}),t.jsx(ke,{value:"overview",className:"p-6 space-y-6",children:N&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[t.jsx(mn,{className:"w-5 h-5"}),"Property Details"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Property Type:"}),t.jsx("p",{className:"font-medium",children:((L=N.summary)==null?void 0:L.proptype)||"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Property Class:"}),t.jsx("p",{className:"font-medium",children:((se=N.summary)==null?void 0:se.propclass)||"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Land Use:"}),t.jsx("p",{className:"font-medium",children:((te=N.summary)==null?void 0:te.propLandUse)||"N/A"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"County:"}),t.jsx("p",{className:"font-medium",children:((le=N.lot)==null?void 0:le.situsCounty)||"N/A"})]})]}),((ue=N.building)==null?void 0:ue.construction)&&t.jsxs("div",{className:"pt-3 border-t",children:[t.jsx("h4",{className:"font-medium mb-2",children:"Construction"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[N.building.construction.style&&t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Style:"}),t.jsx("p",{children:N.building.construction.style})]}),N.building.construction.condition&&t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Condition:"}),t.jsx("p",{children:N.building.construction.condition})]}),N.building.construction.exteriorWalls&&t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Exterior:"}),t.jsx("p",{children:N.building.construction.exteriorWalls})]}),N.building.construction.roofCover&&t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Roof:"}),t.jsx("p",{children:N.building.construction.roofCover})]})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[t.jsx(kt,{className:"w-5 h-5"}),"Location & Lot"]}),t.jsxs("div",{className:"space-y-3",children:[N.location&&t.jsxs("div",{className:"text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Coordinates:"}),t.jsxs("p",{className:"font-medium",children:[N.location.latitude,", ",N.location.longitude]})]}),N.lot&&t.jsxs("div",{className:"space-y-2 text-sm",children:[N.lot.lotsize1&&t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Lot Size:"}),t.jsx("p",{className:"font-medium",children:g(N.lot.lotsize1)})]}),N.lot.subdname&&t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Subdivision:"}),t.jsx("p",{className:"font-medium",children:N.lot.subdname})]}),N.lot.pooltype&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(sP,{className:"w-4 h-4 text-blue-500"}),t.jsxs("span",{children:["Pool: ",N.lot.pooltype]})]})]})]})]})]})}),t.jsx(ke,{value:"owner",className:"p-6 space-y-6",children:(N==null?void 0:N.owner)&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[t.jsx(hn,{className:"w-5 h-5"}),"Current Owner Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Primary Owner:"}),t.jsx("p",{className:"font-medium text-lg",children:N.owner.owner1Full||`${N.owner.firstName||""} ${N.owner.lastName||""}`.trim()||"N/A"})]}),N.owner.owner2Full&&t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Co-Owner:"}),t.jsx("p",{className:"font-medium",children:N.owner.owner2Full})]}),N.owner.corporateIndicator&&t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Ownership Type:"}),t.jsx(K,{variant:"outline",children:N.owner.corporateIndicator==="Y"?"Corporate":"Individual"})]})]}),N.owner.mailingAddress&&t.jsxs("div",{className:"space-y-3",children:[t.jsx("span",{className:"text-muted-foreground",children:"Mailing Address:"}),t.jsx("p",{className:"font-medium",children:N.owner.mailingAddress.oneLine||`${N.owner.mailingAddress.line1||""} ${N.owner.mailingAddress.line2||""}, ${N.owner.mailingAddress.locality||""}, ${N.owner.mailingAddress.countrySubd||""} ${N.owner.mailingAddress.postal1||""}`.trim()}),N.owner.mailingAddress.oneLine!==((ee=N.address)==null?void 0:ee.oneLine)&&t.jsxs(ce,{children:[t.jsx(Ct,{className:"w-4 h-4"}),t.jsx(de,{children:"Mailing address differs from property address (Absentee Owner)"})]})]})]})]})}),t.jsx(ke,{value:"financial",className:"p-6 space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(N==null?void 0:N.assessment)&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[t.jsx(Ri,{className:"w-5 h-5"}),"Tax Assessment"]}),t.jsxs("div",{className:"space-y-3 text-sm",children:[((V=N.assessment.assessor)==null?void 0:V.assdValue)&&t.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/50 rounded-lg",children:[t.jsx("span",{className:"text-muted-foreground",children:"Assessed Value:"}),t.jsx("span",{className:"font-semibold text-lg",children:b(N.assessment.assessor.assdValue)})]}),((J=N.assessment.market)==null?void 0:J.apprCurr)&&t.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/50 rounded-lg",children:[t.jsx("span",{className:"text-muted-foreground",children:"Market Value:"}),t.jsx("span",{className:"font-semibold text-lg",children:b(N.assessment.market.apprCurr)})]}),((G=N.assessment.tax)==null?void 0:G.taxAmt)&&t.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 border border-green-200 rounded-lg",children:[t.jsx("span",{className:"text-muted-foreground",children:"Annual Tax:"}),t.jsx("span",{className:"font-semibold text-lg text-green-700",children:b(N.assessment.tax.taxAmt)})]}),((re=N.assessment.tax)==null?void 0:re.taxYear)&&t.jsxs("div",{className:"text-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Tax Year: "}),t.jsx("span",{className:"font-medium",children:N.assessment.tax.taxYear})]})]})]}),(N==null?void 0:N.sale)&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[t.jsx(ls,{className:"w-5 h-5"}),"Sales History"]}),t.jsxs("div",{className:"space-y-3",children:[((he=N.sale.amount)==null?void 0:he.saleAmt)&&t.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[t.jsx("span",{className:"text-muted-foreground",children:"Last Sale Price:"}),t.jsx("span",{className:"font-semibold text-lg text-blue-700",children:b(N.sale.amount.saleAmt)})]}),((Ee=N.sale.transaction)==null?void 0:Ee.saleTransDate)&&t.jsxs("div",{className:"text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Sale Date:"}),t.jsx("p",{className:"font-medium",children:y(N.sale.transaction.saleTransDate)})]}),((Fe=N.sale.calculation)==null?void 0:Fe.pricePerSizeUnit)&&t.jsxs("div",{className:"text-sm",children:[t.jsx("span",{className:"text-muted-foreground",children:"Price per Sq Ft:"}),t.jsx("p",{className:"font-medium",children:b(N.sale.calculation.pricePerSizeUnit)})]}),N.sale.salesHistory&&N.sale.salesHistory.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"font-medium",children:"Previous Sales"}),N.sale.salesHistory.slice(0,3).map((me,B)=>{var Q;return t.jsxs("div",{className:"p-2 border border-border rounded text-xs",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{children:y(me.saleTransDate)}),t.jsx("span",{className:"font-medium",children:b(me.amount.saleAmt)})]}),((Q=me.calculation)==null?void 0:Q.pricePerSizeUnit)&&t.jsxs("div",{className:"text-muted-foreground",children:[b(me.calculation.pricePerSizeUnit),"/sq ft"]})]},B)})]})]})]})]})}),t.jsx(ke,{value:"schools",className:"p-6 space-y-6",children:t.jsxs("div",{className:"text-center py-8",children:[t.jsx(zb,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"School District Information"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"School data will be displayed here when the School District API endpoint is implemented."}),t.jsx(K,{variant:"outline",children:"Coming Soon"})]})}),t.jsx(ke,{value:"neighborhood",className:"p-6 space-y-6",children:t.jsxs("div",{className:"text-center py-8",children:[t.jsx(fn,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"Neighborhood Demographics"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"Neighborhood and demographic data will be displayed here when the Demographics API endpoint is implemented."}),t.jsx(K,{variant:"outline",children:"Coming Soon"})]})}),t.jsx(ke,{value:"risks",className:"p-6 space-y-6",children:t.jsxs("div",{className:"text-center py-8",children:[t.jsx(us,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"Risk Assessment"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"Flood, fire, earthquake, and environmental risk data will be displayed here when the Risk API endpoint is implemented."}),t.jsx(K,{variant:"outline",children:"Coming Soon"})]})}),t.jsx(ke,{value:"market",className:"p-6 space-y-6",children:t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Hr,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"Market Trends"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"Local market trends and price analysis will be displayed here when the Market Trends API endpoint is implemented."}),t.jsx(K,{variant:"outline",children:"Coming Soon"})]})}),t.jsx(ke,{value:"utilities",className:"p-6 space-y-6",children:t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Xs,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"Utility Information"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"Utility providers and service information will be displayed here when the Utilities API endpoint is implemented."}),t.jsx(K,{variant:"outline",children:"Coming Soon"})]})})]})})]}),P&&t.jsx(F,{className:"modern-card",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[t.jsx(Ct,{className:"w-5 h-5"}),"API Data Sources"]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:v.map(me=>{const B=me.name.replace(/\s+/g,"_").toLowerCase(),Q=l[B],ae=f[B];return t.jsxs("div",{className:"flex items-center gap-3 p-3 border border-border rounded-lg",children:[Q?t.jsx(be,{className:"w-4 h-4 text-green-500 flex-shrink-0"}):ae?t.jsx(Ze,{className:"w-4 h-4 text-red-500 flex-shrink-0"}):t.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded-full flex-shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-sm font-medium truncate",children:me.name}),t.jsx("div",{className:"text-xs text-muted-foreground truncate",children:me.description})]})]},me.name)})})]})})]})}const Oo=e=>e==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),ON=e=>e==null?"N/A":new Intl.NumberFormat("en-US").format(e)+" sq ft",J5=(e,s)=>s&&s>=1?`${s.toFixed(2)} acres`:e?ON(e):"N/A",Q5=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return e}},Sy=e=>e?e.replace(/([A-Z])/g," $1").trim():"N/A",X5=e=>{if(!e)return"N/A";if(e.owner1Full)return e.owner1Full;const s=e.firstName||"",r=e.lastName||"",n=e.middleName||"";return s||r?`${s} ${n} ${r}`.trim():"N/A"},Z5=e=>{if(!e)return null;const s=e.split(",").map(r=>r.trim());if(s.length>=2){const r=s[0],n=s.slice(1).join(", ");return{address1:encodeURIComponent(r),address2:encodeURIComponent(n)}}else return{address1:encodeURIComponent(e)}},eO=e=>e?e.oneLine||`${e.line1||""} ${e.line2||""}, ${e.locality||""}, ${e.countrySubd||""} ${e.postal1||""}`.trim():"N/A",pc={CACHE_KEY:"handoff-property-basic-profile-address",CACHE_DURATION:60*60*1e3,API_DEBUG_PARAM:"True"},Ro={NO_ADDRESS:"No address provided",INVALID_FORMAT:"Invalid address format",NO_PROPERTY_FOUND:"No property found at the specified address. The property may not be in the ATTOM database.",API_UNAVAILABLE:"Property overview will be displayed once a property address is provided in your setup.",FETCH_FAILED:"Failed to fetch property data"};function tO({propertyData:e,mappedData:s}){var n,a,i,o,l,c,d,u,f,p,h,j,v;const r=(b,g)=>{if(s&&b){const y=b.split(".");let x=s;for(const S of y)if(x&&typeof x=="object"&&S in x)x=x[S];else return g;return x??g}return g};return t.jsxs(F,{className:"modern-card",children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(We,{className:"w-5 h-5 text-primary"}),"Property Information"]})}),t.jsx(U,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[t.jsx(kt,{className:"w-4 h-4"}),"Property Address"]}),t.jsx("p",{className:"text-lg font-medium",children:r("property.address.street",(n=e.address)==null?void 0:n.oneLine)||"Address not available"}),t.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[t.jsxs("p",{children:["Street: ",((a=e.address)==null?void 0:a.line1)||"N/A"]}),t.jsxs("p",{children:["City: ",r("property.address.city",(i=e.address)==null?void 0:i.locality)||"N/A"]}),t.jsxs("p",{children:["State: ",r("property.address.state",(o=e.address)==null?void 0:o.countrySubd)||"N/A"]}),t.jsxs("p",{children:["ZIP: ",r("property.address.zipCode",(l=e.address)==null?void 0:l.postal1)||"N/A"]}),((c=e.address)==null?void 0:c.postal2)&&t.jsxs("p",{children:["ZIP+4: ",e.address.postal2]})]})]}),e.location&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Coordinates"}),t.jsxs("p",{className:"text-sm",children:["Lat: ",e.location.latitude,", Lng: ",e.location.longitude]}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Accuracy: ",e.location.accuracy]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[t.jsx(mn,{className:"w-4 h-4"}),"Property Details"]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Property Type:"}),t.jsx("span",{children:r("property.basic.propertyType",Sy((d=e.summary)==null?void 0:d.proptype))})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Property Class:"}),t.jsx("span",{children:((u=e.summary)==null?void 0:u.propclass)||"N/A"})]}),((f=e.summary)==null?void 0:f.propsubtype)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Subtype:"}),t.jsx("span",{children:Sy(e.summary.propsubtype)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Year Built:"}),t.jsx("span",{children:r("property.basic.yearBuilt",((p=e.summary)==null?void 0:p.yearbuilt)||((j=(h=e.building)==null?void 0:h.summary)==null?void 0:j.yearBuilt))||"N/A"})]}),((v=e.summary)==null?void 0:v.propLandUse)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Land Use:"}),t.jsx("span",{children:e.summary.propLandUse})]})]})]}),e.lot&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Location Info"}),t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"County:"}),t.jsx("span",{children:e.lot.situsCounty||"N/A"})]}),e.lot.subdname&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Subdivision:"}),t.jsx("span",{children:e.lot.subdname})]})]})]})]})]})})]})}function sO({propertyData:e,mappedData:s}){var r,n,a,i,o,l,c,d,u,f,p,h,j,v,b,g,y,x,S;return!e.area&&!e.building?null:t.jsxs(F,{className:"modern-card",children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Ol,{className:"w-5 h-5 text-primary"}),"Property Characteristics"]})}),t.jsxs(U,{children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx(Rb,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),t.jsx("div",{className:"text-2xl font-semibold",children:((r=e.area)==null?void 0:r.bedrooms)||((a=(n=e.building)==null?void 0:n.summary)==null?void 0:a.noOfBeds)||"N/A"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Bedrooms"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx(Ob,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),t.jsx("div",{className:"text-2xl font-semibold",children:((i=e.area)==null?void 0:i.bathrooms)||((l=(o=e.building)==null?void 0:o.summary)==null?void 0:l.noOfBaths)||"N/A"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Bathrooms"}),(((c=e.area)==null?void 0:c.bathroomsFull)||((d=e.area)==null?void 0:d.bathroomsPartial))&&t.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[e.area.bathroomsFull&&`${e.area.bathroomsFull} Full`,e.area.bathroomsFull&&e.area.bathroomsPartial&&", ",e.area.bathroomsPartial&&`${e.area.bathroomsPartial} Half`]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx(We,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),t.jsx("div",{className:"text-2xl font-semibold",children:((u=e.area)==null?void 0:u.areaSqFt)||((p=(f=e.building)==null?void 0:f.size)==null?void 0:p.universalSize)||((j=(h=e.building)==null?void 0:h.size)==null?void 0:j.grossSizeGeneral)||"N/A"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Sq Ft"}),((b=(v=e.building)==null?void 0:v.size)==null?void 0:b.livingSize)&&t.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[ON(e.building.size.livingSize)," Living"]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx(Wd,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),t.jsx("div",{className:"text-2xl font-semibold",children:((y=(g=e.building)==null?void 0:g.parking)==null?void 0:y.prkgSize)||"N/A"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Parking Spaces"}),((S=(x=e.building)==null?void 0:x.parking)==null?void 0:S.garagetype)&&t.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:e.building.parking.garagetype})]})]}),e.building&&t.jsxs(t.Fragment,{children:[t.jsx(zt,{className:"my-6"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.building.construction&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-3",children:"Construction Details"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[e.building.construction.style&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Style:"}),t.jsx("span",{children:e.building.construction.style})]}),e.building.construction.condition&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Condition:"}),t.jsx("span",{children:e.building.construction.condition})]}),e.building.construction.quality&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Quality:"}),t.jsx("span",{children:e.building.construction.quality})]}),e.building.construction.exteriorWalls&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Exterior:"}),t.jsx("span",{children:e.building.construction.exteriorWalls})]}),e.building.construction.roofCover&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Roof:"}),t.jsx("span",{children:e.building.construction.roofCover})]})]})]}),e.lot&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-3",children:"Lot Information"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Lot Size:"}),t.jsx("span",{children:J5(e.lot.lotsize1,e.lot.lotsize2)})]}),e.lot.pooltype&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Pool:"}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(be,{className:"w-4 h-4 text-green-600"}),e.lot.pooltype]})]})]})]})]})]})]})]})}function rO({propertyData:e,mappedData:s}){var r,n,a,i,o,l,c;return!e.assessment&&!e.sale?null:t.jsxs(F,{className:"modern-card",children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(ls,{className:"w-5 h-5 text-primary"}),"Valuation & Assessment"]})}),t.jsx(U,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.assessment&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-3",children:"Assessment Data"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[((r=e.assessment.assessor)==null?void 0:r.assdValue)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Assessed Value:"}),t.jsx("span",{children:Oo(e.assessment.assessor.assdValue)})]}),((n=e.assessment.market)==null?void 0:n.apprCurr)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Market Value:"}),t.jsx("span",{children:Oo(e.assessment.market.apprCurr)})]}),((a=e.assessment.tax)==null?void 0:a.taxAmt)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Annual Tax:"}),t.jsx("span",{children:Oo(e.assessment.tax.taxAmt)})]}),((i=e.assessment.assessor)==null?void 0:i.taxYear)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Tax Year:"}),t.jsx("span",{children:e.assessment.assessor.taxYear})]})]})]}),e.sale&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-3",children:"Sale Data"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[((o=e.sale.amount)==null?void 0:o.saleAmt)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Last Sale Price:"}),t.jsx("span",{children:Oo(e.sale.amount.saleAmt)})]}),((l=e.sale.transaction)==null?void 0:l.saleTransDate)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Sale Date:"}),t.jsx("span",{children:Q5(e.sale.transaction.saleTransDate)})]}),((c=e.sale.calculation)==null?void 0:c.pricePerSizeUnit)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Price per Sq Ft:"}),t.jsx("span",{children:Oo(e.sale.calculation.pricePerSizeUnit)})]})]})]})]})})]})}function nO({propertyData:e}){return e.owner?t.jsxs(F,{className:"modern-card",children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(hn,{className:"w-5 h-5 text-primary"}),"Current Owner Information"]})}),t.jsx(U,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Owner Name"}),t.jsx("p",{className:"text-lg",children:X5(e.owner)}),e.owner.owner2Full&&t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e.owner.owner2Full}),e.owner.owner3Full&&t.jsx("p",{className:"text-sm text-muted-foreground",children:e.owner.owner3Full})]})}),e.owner.mailingAddress&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Mailing Address"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:eO(e.owner.mailingAddress)})]})]})})]}):null}function RN({propertyAddress:e,onPropertyFound:s,className:r="",customMappings:n}){ms();const[a,i]=m.useState(null),[o,l]=m.useState(!1),[c,d]=m.useState(null),[u,f]=m.useState(""),[p,h]=m.useState(null),j=m.useCallback(async b=>{var y,x,S,w;if(!b.trim()){d(Ro.NO_ADDRESS);return}const g=Z5(b);if(!g){d(Ro.INVALID_FORMAT);return}l(!0),d(null),i(null),f(b);try{const k=`https://${De}.supabase.co/functions/v1/make-server-a24396d5/attom/property-basic-profile`;console.log("Fetching property basic profile for address:",b);const C=new URLSearchParams({address1:g.address1,debug:pc.API_DEBUG_PARAM});g.address2&&C.append("address2",g.address2);const P=await fetch(`${k}?${C.toString()}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Te}`,Accept:"application/json"}});if(!P.ok){const T=await P.text();let O;try{O=JSON.parse(T)}catch{O={error:T}}throw P.status===401?new Error("ATTOM API authentication failed. Please check your API key configuration."):P.status===403?new Error("ATTOM API access forbidden. Please verify your API key has the required permissions."):P.status===429?new Error("ATTOM API rate limit exceeded. Please try again in a few minutes."):P.status===500&&((y=O.error)!=null&&y.includes("ATTOM API key not configured"))?new Error("ATTOM API key is not configured. Please set up your API key in the settings."):new Error(`API request failed: ${P.status} - ${O.error||T}`)}const N=await P.json();if(console.log("Property basic profile response:",N),((x=N.status)==null?void 0:x.code)===0&&N.property&&N.property.length>0){const T=N.property[0];i(T),s==null||s(T),localStorage.setItem(pc.CACHE_KEY,JSON.stringify({address:b,property:T,timestamp:new Date().toISOString()})),n&&n.length>0&&v(b,n)}else if(((S=N.status)==null?void 0:S.msg)==="SuccessWithoutResult"||N.property&&N.property.length===0)d(Ro.NO_PROPERTY_FOUND);else throw new Error(((w=N.status)==null?void 0:w.msg)||"Unknown API error")}catch(k){const C=k instanceof Error?k.message:"An unexpected error occurred";console.error("Error fetching property basic profile:",k),d(`${Ro.FETCH_FAILED}: ${C}`)}finally{l(!1)}},[s]);m.useEffect(()=>{if(e&&e.trim()&&e!==u){try{const b=localStorage.getItem(pc.CACHE_KEY);if(b){const{address:g,property:y,timestamp:x}=JSON.parse(b),S=Date.now()-new Date(x).getTime();if(g===e&&S<pc.CACHE_DURATION){i(y),f(e),console.log("Loaded cached property basic profile data for address");return}}}catch(b){console.warn("Failed to load cached property data:",b)}j(e)}},[e,u,j]),m.useEffect(()=>{e&&n&&n.length>0&&v(e,n)},[e,n,v]);const v=m.useCallback(async(b,g)=>{try{const y=await fetch(`https://${De}.supabase.co/functions/v1/make-server-a24396d5/property-field-mappings/test`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Te}`},body:JSON.stringify({address:b,mappings:g})});if(y.ok){const x=await y.json();x.success&&x.mappedData&&(h(x.mappedData),console.log("Applied custom field mappings:",x.mappedData))}}catch(y){console.warn("Failed to apply custom mappings:",y)}},[]);return m.useCallback(()=>{e&&j(e)},[e,j]),e?t.jsxs("div",{className:`space-y-6 ${r}`,children:[o&&t.jsx(F,{className:"modern-card",children:t.jsxs(U,{className:"p-8 text-center",children:[t.jsx(Ye,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary"}),t.jsx("p",{className:"text-muted-foreground",children:"Fetching property data from ATTOM API..."})]})}),a&&!o&&t.jsxs("div",{className:"space-y-6",children:[t.jsx(tO,{propertyData:a,mappedData:p}),t.jsx(sO,{propertyData:a,mappedData:p}),t.jsx(rO,{propertyData:a,mappedData:p}),t.jsx(nO,{propertyData:a,mappedData:p}),p&&t.jsxs(F,{className:"modern-card",children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Ds,{className:"w-5 h-5 text-primary"}),"Custom Field Mappings",t.jsx(K,{variant:"secondary",className:"text-xs",children:"Applied"})]})}),t.jsx(U,{children:t.jsx("pre",{className:"text-xs bg-muted p-4 rounded overflow-auto",children:JSON.stringify(p,null,2)})})]})]})]}):t.jsxs(F,{className:`modern-card ${r}`,children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Ds,{className:"w-5 h-5 text-primary"}),"Property Overview",t.jsx(K,{variant:"secondary",className:"text-xs",children:"ATTOM Data"})]})}),t.jsx(U,{children:t.jsxs(ce,{children:[t.jsx(Ct,{className:"h-4 w-4"}),t.jsx(de,{children:Ro.API_UNAVAILABLE})]})})]})}function aO({response:e,endpointName:s}){var r;try{if(!e||!e.success)return t.jsxs(ce,{className:"border-red-200 bg-red-50",children:[t.jsx(it,{className:"h-4 w-4 text-red-600"}),t.jsxs(de,{children:[t.jsx("strong",{children:"API Error:"})," ",String((e==null?void 0:e.error)||"Unknown error occurred")]})]});const n=e.data;if(e.status===401)return t.jsxs(ce,{className:"border-red-200 bg-red-50",children:[t.jsx(it,{className:"h-4 w-4 text-red-600"}),t.jsxs(de,{children:[t.jsx("strong",{children:"Authentication Error:"})," API key is invalid or expired. Please check your ATTOM API configuration."]})]});const a=s==="Sale Detail",i=["Basic Profile","Property Detail","Expanded Profile"].includes(s),o=a?n==null?void 0:n.sale:n==null?void 0:n.property;if(!n||!o||!Array.isArray(o)||o.length===0)return t.jsxs(ce,{children:[t.jsx(Ct,{className:"h-4 w-4"}),t.jsxs(de,{children:["No ",a?"sale":"property"," data found in the API response."]})]});const l=o[0];let c={},d={},u={},f={},p={},h={},j={},v={},b={},g={};try{if(a){c=(l==null?void 0:l.identifier)||{},d=(l==null?void 0:l.address)||{},h=(l==null?void 0:l.sale)||{},j=(l==null?void 0:l.assessment)||{};const N=(l==null?void 0:l.property)||{};u=(N==null?void 0:N.lot)||{},f=(N==null?void 0:N.area)||{},p=(N==null?void 0:N.summary)||{},v=(N==null?void 0:N.building)||{},b=(N==null?void 0:N.utilities)||{},g=(N==null?void 0:N.vintage)||{}}else c=(l==null?void 0:l.identifier)||{},d=(l==null?void 0:l.address)||{},u=(l==null?void 0:l.lot)||{},f=(l==null?void 0:l.area)||{},p=(l==null?void 0:l.summary)||{},h=(l==null?void 0:l.sale)||{},j=(l==null?void 0:l.assessment)||{},v=(l==null?void 0:l.building)||{},b=(l==null?void 0:l.utilities)||{},g=(l==null?void 0:l.vintage)||{}}catch(N){return console.error("Error extracting property data:",N),t.jsxs(ce,{className:"border-red-200 bg-red-50",children:[t.jsx(it,{className:"h-4 w-4 text-red-600"}),t.jsxs(de,{children:[t.jsx("strong",{children:"Data Processing Error:"})," Unable to process the API response data."]})]})}const y=N=>{try{if(!N||N===0||N==="0")return"Not available";const T=typeof N=="string"?parseFloat(N):N;return isNaN(T)?String(N||"Not available"):new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(T)}catch{return"Not available"}},x=N=>{try{if(!N||N===0||N==="0")return"Not available";const T=typeof N=="string"?parseFloat(N):N;return isNaN(T)?String(N||"Not available"):new Intl.NumberFormat("en-US").format(T)}catch{return"Not available"}},S=N=>{try{if(!N)return"Not available";const T=new Date(N);return isNaN(T.getTime())?String(N||"Not available"):T.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return"Not available"}},w=N=>{try{return!N||N===0||N==="0"?"Not available":`${x(N)} sq ft`}catch{return"Not available"}},k=N=>{try{if(!N||N===0||N==="0")return"Not available";const T=typeof N=="string"?parseFloat(N):N;return isNaN(T)?"Not available":`${T.toFixed(2)} acres`}catch{return"Not available"}},C=(N,T="Not available")=>{try{return N==null||N===""?T:typeof N=="boolean"?N?"Yes":"No":typeof N=="number"?isNaN(N)?T:String(N):typeof N=="string"?N:typeof N=="object"?Array.isArray(N)?N.length===0?T:N.map(O=>String(O||"")).join(", ")||T:JSON.stringify(N)||T:String(N)||T}catch{return T}},P=(N,T,O="Not available")=>{try{if(!N||typeof N!="object")return O;const I=T.split(".");let _=N;for(const A of I){if(_==null||typeof _!="object")return O;_=_[A]}return C(_,O)}catch{return O}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(be,{className:"w-5 h-5 text-green-600"}),String(s)," Response"]})}),t.jsx(U,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),t.jsxs(K,{variant:"default",children:[String(e.status)," ",String(e.statusText)]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Response Time"}),t.jsx("p",{className:"text-sm font-medium",children:new Date(e.timestamp).toLocaleTimeString()})]}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm text-muted-foreground",children:[a?"Sale":"Property"," ID"]}),t.jsx("p",{className:"text-sm font-medium font-mono",children:P(c,"attomId","N/A")})]})]})})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(kt,{className:"w-5 h-5 text-primary"}),"Property Address"]})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-lg",children:P(d,"oneLine")||`${P(d,"line1","")} ${P(d,"line2","")}`.trim()||"Address not available"}),t.jsxs("p",{className:"text-muted-foreground",children:[P(d,"locality"),", ",P(d,"countrySubd")," ",P(d,"postal1")]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"County"}),t.jsx("p",{className:"font-medium",children:P(d,"country")})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Postal Code"}),t.jsx("p",{className:"font-medium",children:P(d,"postal1")})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Coordinates"}),t.jsx("p",{className:"font-medium font-mono text-xs",children:(()=>{var N;try{const T=(N=d==null?void 0:d.geometry)==null?void 0:N.coordinates;if(T&&Array.isArray(T)&&T.length>=2){const O=Number(T[1]),I=Number(T[0]);if(!isNaN(O)&&!isNaN(I))return`${O.toFixed(6)}, ${I.toFixed(6)}`}return"Not available"}catch{return"Not available"}})()})]})]})]})})]}),a&&h&&Object.keys(h).length>0&&t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx($b,{className:"w-5 h-5 text-primary"}),"Sale Transaction Details"]})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(()=>{try{const N=(h==null?void 0:h.amount)||(h==null?void 0:h.saleAmt);return N?t.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("h4",{className:"font-medium text-green-900",children:"Sale Price"}),t.jsx("p",{className:"text-2xl font-bold text-green-700",children:y(N)}),t.jsx("p",{className:"text-sm text-green-600",children:S((h==null?void 0:h.saleTransDate)||(h==null?void 0:h.saleRecordingDate)||(h==null?void 0:h.saleRecDate))})]}):null}catch{return null}})(),(()=>{try{const N=(h==null?void 0:h.saleSearchDate)||(h==null?void 0:h.saleRecDate);return N?t.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("h4",{className:"font-medium text-blue-900",children:"Sale Date"}),t.jsx("p",{className:"text-lg font-semibold text-blue-700",children:S(N)}),t.jsx("p",{className:"text-sm text-blue-600",children:"Transaction date"})]}):null}catch{return null}})()]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 pt-4 border-t",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Transaction Type"}),t.jsx("p",{className:"font-medium",children:P(h,"transactionType")||P(h,"saleTransType","Not specified")})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Sale Category"}),t.jsx("p",{className:"font-medium",children:P(h,"saleCategory")||P(h,"saleCode","Not specified")})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Document Number"}),t.jsx("p",{className:"font-medium",children:P(h,"saleDocNum","Not available")})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Disclosure Type"}),t.jsx("p",{className:"font-medium",children:P(h,"saleDisclosureType","Not available")})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Recording Date"}),t.jsx("p",{className:"font-medium",children:S((h==null?void 0:h.saleRecordingDate)||(h==null?void 0:h.saleRecDate))})]})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(We,{className:"w-5 h-5 text-primary"}),"Basic Information"]})}),t.jsx(U,{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Property Type"}),t.jsx("p",{className:"font-medium",children:P(p,"proptype","Not specified")})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Year Built"}),t.jsx("p",{className:"font-medium",children:P(g,"lastModified")||P(g,"pubDate")||P(v,"summary.yearBuilt")})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Bedrooms"}),t.jsx("p",{className:"font-medium",children:P(v,"rooms.beds","Not specified")})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Bathrooms"}),t.jsx("p",{className:"font-medium",children:P(v,"rooms.bathstotal")||P(v,"rooms.baths","Not specified")})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Stories"}),t.jsx("p",{className:"font-medium",children:P(v,"summary.stories","Not specified")})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Garage Spaces"}),t.jsx("p",{className:"font-medium",children:P(v,"parking.garagespaces","Not specified")})]})]})})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Ol,{className:"w-5 h-5 text-primary"}),"Size & Lot Details"]})}),t.jsx(U,{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Building Area"}),t.jsx("p",{className:"font-medium",children:w(f==null?void 0:f.building)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Living Area"}),t.jsx("p",{className:"font-medium",children:w((r=v==null?void 0:v.size)==null?void 0:r.livingsize)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Lot Size"}),t.jsx("p",{className:"font-medium",children:w(u==null?void 0:u.lotsize1)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Lot Size (Acres)"}),t.jsx("p",{className:"font-medium",children:k(u==null?void 0:u.lotsizeacres)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Lot Frontage"}),t.jsx("p",{className:"font-medium",children:P(u,"frontage")})]})]})})]})]}),(()=>{try{return(h==null?void 0:h.amount)||(j==null?void 0:j.assessed)||(j==null?void 0:j.market)?t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(ls,{className:"w-5 h-5 text-primary"}),"Financial Information"]})}),t.jsxs(U,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[!a&&(h==null?void 0:h.amount)&&t.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-200",children:[t.jsx("h4",{className:"font-medium text-green-900",children:"Last Sale Price"}),t.jsx("p",{className:"text-2xl font-bold text-green-700",children:y(h.amount)}),t.jsx("p",{className:"text-sm text-green-600",children:S(h.saleSearchDate)})]}),(j==null?void 0:j.assessed)&&t.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("h4",{className:"font-medium text-blue-900",children:"Assessed Value"}),t.jsx("p",{className:"text-2xl font-bold text-blue-700",children:y(j.assessed.total)}),t.jsx("p",{className:"text-sm text-blue-600",children:S(j.assessedDate)})]}),(j==null?void 0:j.market)&&t.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg border border-purple-200",children:[t.jsx("h4",{className:"font-medium text-purple-900",children:"Market Value"}),t.jsx("p",{className:"text-2xl font-bold text-purple-700",children:y(j.market.total)}),t.jsx("p",{className:"text-sm text-purple-600",children:S(j.marketDate)})]})]}),(j==null?void 0:j.tax)&&t.jsxs("div",{className:"mt-6 pt-4 border-t",children:[t.jsx("h4",{className:"font-medium mb-3",children:"Tax Information"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Annual Tax"}),t.jsx("p",{className:"font-medium",children:y(j.tax.taxamt)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Tax Year"}),t.jsx("p",{className:"font-medium",children:P(j,"tax.taxyear")})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Tax Rate"}),t.jsx("p",{className:"font-medium",children:P(j,"tax.taxrate")})]})]})]})]})]}):null}catch{return null}})(),t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Ct,{className:"w-5 h-5 text-primary"}),"Additional Information"]})}),t.jsx(U,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-3",children:"Property Identifiers"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"ATTOM ID:"}),t.jsx("span",{className:"font-mono",children:P(c,"attomId","N/A")})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"APN:"}),t.jsx("span",{className:"font-mono",children:P(c,"apn","N/A")})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"FIPS:"}),t.jsx("span",{className:"font-mono",children:P(c,"fips","N/A")})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-3",children:"Data Freshness"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Last Modified:"}),t.jsx("span",{children:S(g==null?void 0:g.lastModified)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Published:"}),t.jsx("span",{children:S(g==null?void 0:g.pubDate)})]}),a&&(h==null?void 0:h.saleRecordingDate)&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Sale Recorded:"}),t.jsx("span",{children:S(h.saleRecordingDate)})]})]})]})]})})]})]})}catch(n){return console.error("AttomResponseDisplay error:",n),t.jsxs(ce,{className:"border-red-200 bg-red-50",children:[t.jsx(it,{className:"h-4 w-4 text-red-600"}),t.jsxs(de,{children:[t.jsx("strong",{children:"Component Error:"})," Unable to display the API response data. Please check the console for details."]})]})}}function Oh(e,[s,r]){return Math.min(r,Math.max(s,e))}function MN(e){const s=m.useRef({value:e,previous:e});return m.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}var DN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),iO="VisuallyHidden",oO=m.forwardRef((e,s)=>t.jsx(we.span,{...e,ref:s,style:{...DN,...e.style}}));oO.displayName=iO;var lO=[" ","Enter","ArrowUp","ArrowDown"],cO=[" ","Enter"],La="Select",[su,ru,dO]=Tp(La),[Xi,G$]=Vs(La,[dO,Qd]),nu=Qd(),[uO,aa]=Xi(La),[mO,hO]=Xi(La),LN=e=>{const{__scopeSelect:s,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:p,required:h,form:j}=e,v=nu(s),[b,g]=m.useState(null),[y,x]=m.useState(null),[S,w]=m.useState(!1),k=zl(d),[C,P]=Gr({prop:n,defaultProp:a??!1,onChange:i,caller:La}),[N,T]=Gr({prop:o,defaultProp:l,onChange:c,caller:La}),O=m.useRef(null),I=b?j||!!b.closest("form"):!0,[_,A]=m.useState(new Set),R=Array.from(_).map(M=>M.props.value).join(";");return t.jsx($w,{...v,children:t.jsxs(uO,{required:h,scope:s,trigger:b,onTriggerChange:g,valueNode:y,onValueNodeChange:x,valueNodeHasChildren:S,onValueNodeHasChildrenChange:w,contentId:gr(),value:N,onValueChange:T,open:C,onOpenChange:P,dir:k,triggerPointerDownPosRef:O,disabled:p,children:[t.jsx(su.Provider,{scope:s,children:t.jsx(mO,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(M=>{A(z=>new Set(z).add(M))},[]),onNativeOptionRemove:m.useCallback(M=>{A(z=>{const E=new Set(z);return E.delete(M),E})},[]),children:r})}),I?t.jsxs(a1,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:f,value:N,onChange:M=>T(M.target.value),disabled:p,form:j,children:[N===void 0?t.jsx("option",{value:""}):null,Array.from(_)]},R):null]})})};LN.displayName=La;var $N="SelectTrigger",FN=m.forwardRef((e,s)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=nu(r),o=aa($N,r),l=o.disabled||n,c=Ke(s,o.onTriggerChange),d=ru(r),u=m.useRef("touch"),[f,p,h]=o1(v=>{const b=d().filter(x=>!x.disabled),g=b.find(x=>x.value===o.value),y=l1(b,v,g);y!==void 0&&o.onValueChange(y.value)}),j=v=>{l||(o.onOpenChange(!0),h()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return t.jsx(kp,{asChild:!0,...i,children:t.jsx(we.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":i1(o.value)?"":void 0,...a,ref:c,onClick:Ce(a.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&j(v)}),onPointerDown:Ce(a.onPointerDown,v=>{u.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(j(v),v.preventDefault())}),onKeyDown:Ce(a.onKeyDown,v=>{const b=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(b&&v.key===" ")&&lO.includes(v.key)&&(j(),v.preventDefault())})})})});FN.displayName=$N;var zN="SelectValue",UN=m.forwardRef((e,s)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=aa(zN,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=Ke(s,c.onValueNodeChange);return Pt(()=>{d(u)},[d,u]),t.jsx(we.span,{...l,ref:f,style:{pointerEvents:"none"},children:i1(c.value)?t.jsx(t.Fragment,{children:o}):i})});UN.displayName=zN;var fO="SelectIcon",BN=m.forwardRef((e,s)=>{const{__scopeSelect:r,children:n,...a}=e;return t.jsx(we.span,{"aria-hidden":!0,...a,ref:s,children:n||""})});BN.displayName=fO;var pO="SelectPortal",VN=e=>t.jsx(Xd,{asChild:!0,...e});VN.displayName=pO;var $a="SelectContent",WN=m.forwardRef((e,s)=>{const r=aa($a,e.__scopeSelect),[n,a]=m.useState();if(Pt(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Gi.createPortal(t.jsx(HN,{scope:e.__scopeSelect,children:t.jsx(su.Slot,{scope:e.__scopeSelect,children:t.jsx("div",{children:e.children})})}),i):null}return t.jsx(qN,{...e,ref:s})});WN.displayName=$a;var or=10,[HN,ia]=Xi($a),xO="SelectContentImpl",gO=Ra("SelectContent.RemoveScroll"),qN=m.forwardRef((e,s)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:j,hideWhenDetached:v,avoidCollisions:b,...g}=e,y=aa($a,r),[x,S]=m.useState(null),[w,k]=m.useState(null),C=Ke(s,ee=>S(ee)),[P,N]=m.useState(null),[T,O]=m.useState(null),I=ru(r),[_,A]=m.useState(!1),R=m.useRef(!1);m.useEffect(()=>{if(x)return _p(x)},[x]),pp();const M=m.useCallback(ee=>{const[V,...J]=I().map(he=>he.ref.current),[G]=J.slice(-1),re=document.activeElement;for(const he of ee)if(he===re||(he==null||he.scrollIntoView({block:"nearest"}),he===V&&w&&(w.scrollTop=0),he===G&&w&&(w.scrollTop=w.scrollHeight),he==null||he.focus(),document.activeElement!==re))return},[I,w]),z=m.useCallback(()=>M([P,x]),[M,P,x]);m.useEffect(()=>{_&&z()},[_,z]);const{onOpenChange:E,triggerPointerDownPosRef:D}=y;m.useEffect(()=>{if(x){let ee={x:0,y:0};const V=G=>{var re,he;ee={x:Math.abs(Math.round(G.pageX)-(((re=D.current)==null?void 0:re.x)??0)),y:Math.abs(Math.round(G.pageY)-(((he=D.current)==null?void 0:he.y)??0))}},J=G=>{ee.x<=10&&ee.y<=10?G.preventDefault():x.contains(G.target)||E(!1),document.removeEventListener("pointermove",V),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",V),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",J,{capture:!0})}}},[x,E,D]),m.useEffect(()=>{const ee=()=>E(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[E]);const[H,W]=o1(ee=>{const V=I().filter(re=>!re.disabled),J=V.find(re=>re.ref.current===document.activeElement),G=l1(V,ee,J);G&&setTimeout(()=>G.ref.current.focus())}),L=m.useCallback((ee,V,J)=>{const G=!R.current&&!J;(y.value!==void 0&&y.value===V||G)&&(N(ee),G&&(R.current=!0))},[y.value]),se=m.useCallback(()=>x==null?void 0:x.focus(),[x]),te=m.useCallback((ee,V,J)=>{const G=!R.current&&!J;(y.value!==void 0&&y.value===V||G)&&O(ee)},[y.value]),le=n==="popper"?Rh:YN,ue=le===Rh?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:j,hideWhenDetached:v,avoidCollisions:b}:{};return t.jsx(HN,{scope:r,content:x,viewport:w,onViewportChange:k,itemRefCallback:L,selectedItem:P,onItemLeave:se,itemTextRefCallback:te,focusSelectedItem:z,selectedItemText:T,position:n,isPositioned:_,searchRef:H,children:t.jsx(Ap,{as:gO,allowPinchZoom:!0,children:t.jsx(Yd,{asChild:!0,trapped:y.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:Ce(a,ee=>{var V;(V=y.trigger)==null||V.focus({preventScroll:!0}),ee.preventDefault()}),children:t.jsx(qd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:t.jsx(le,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ee=>ee.preventDefault(),...g,...ue,onPlaced:()=>A(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:Ce(g.onKeyDown,ee=>{const V=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!V&&ee.key.length===1&&W(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let G=I().filter(re=>!re.disabled).map(re=>re.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(G=G.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const re=ee.target,he=G.indexOf(re);G=G.slice(he+1)}setTimeout(()=>M(G)),ee.preventDefault()}})})})})})})});qN.displayName=xO;var vO="SelectItemAlignedPosition",YN=m.forwardRef((e,s)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=aa($a,r),o=ia($a,r),[l,c]=m.useState(null),[d,u]=m.useState(null),f=Ke(s,C=>u(C)),p=ru(r),h=m.useRef(!1),j=m.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:g,focusSelectedItem:y}=o,x=m.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&v&&b&&g){const C=i.trigger.getBoundingClientRect(),P=d.getBoundingClientRect(),N=i.valueNode.getBoundingClientRect(),T=g.getBoundingClientRect();if(i.dir!=="rtl"){const re=T.left-P.left,he=N.left-re,Ee=C.left-he,Fe=C.width+Ee,me=Math.max(Fe,P.width),B=window.innerWidth-or,Q=Oh(he,[or,Math.max(or,B-me)]);l.style.minWidth=Fe+"px",l.style.left=Q+"px"}else{const re=P.right-T.right,he=window.innerWidth-N.right-re,Ee=window.innerWidth-C.right-he,Fe=C.width+Ee,me=Math.max(Fe,P.width),B=window.innerWidth-or,Q=Oh(he,[or,Math.max(or,B-me)]);l.style.minWidth=Fe+"px",l.style.right=Q+"px"}const O=p(),I=window.innerHeight-or*2,_=v.scrollHeight,A=window.getComputedStyle(d),R=parseInt(A.borderTopWidth,10),M=parseInt(A.paddingTop,10),z=parseInt(A.borderBottomWidth,10),E=parseInt(A.paddingBottom,10),D=R+M+_+E+z,H=Math.min(b.offsetHeight*5,D),W=window.getComputedStyle(v),L=parseInt(W.paddingTop,10),se=parseInt(W.paddingBottom,10),te=C.top+C.height/2-or,le=I-te,ue=b.offsetHeight/2,ee=b.offsetTop+ue,V=R+M+ee,J=D-V;if(V<=te){const re=O.length>0&&b===O[O.length-1].ref.current;l.style.bottom="0px";const he=d.clientHeight-v.offsetTop-v.offsetHeight,Ee=Math.max(le,ue+(re?se:0)+he+z),Fe=V+Ee;l.style.height=Fe+"px"}else{const re=O.length>0&&b===O[0].ref.current;l.style.top="0px";const Ee=Math.max(te,R+v.offsetTop+(re?L:0)+ue)+J;l.style.height=Ee+"px",v.scrollTop=V-te+v.offsetTop}l.style.margin=`${or}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>h.current=!0)}},[p,i.trigger,i.valueNode,l,d,v,b,g,i.dir,n]);Pt(()=>x(),[x]);const[S,w]=m.useState();Pt(()=>{d&&w(window.getComputedStyle(d).zIndex)},[d]);const k=m.useCallback(C=>{C&&j.current===!0&&(x(),y==null||y(),j.current=!1)},[x,y]);return t.jsx(jO,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:k,children:t.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:t.jsx(we.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});YN.displayName=vO;var yO="SelectPopperPosition",Rh=m.forwardRef((e,s)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=or,...i}=e,o=nu(r);return t.jsx(Fw,{...o,...i,ref:s,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Rh.displayName=yO;var[jO,Rp]=Xi($a,{}),Mh="SelectViewport",GN=m.forwardRef((e,s)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=ia(Mh,r),o=Rp(Mh,r),l=Ke(s,i.onViewportChange),c=m.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),t.jsx(su.Slot,{scope:r,children:t.jsx(we.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ce(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const h=Math.abs(c.current-u.scrollTop);if(h>0){const j=window.innerHeight-or*2,v=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),g=Math.max(v,b);if(g<j){const y=g+h,x=Math.min(j,y),S=y-x;f.style.height=x+"px",f.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});GN.displayName=Mh;var KN="SelectGroup",[bO,wO]=Xi(KN),NO=m.forwardRef((e,s)=>{const{__scopeSelect:r,...n}=e,a=gr();return t.jsx(bO,{scope:r,id:a,children:t.jsx(we.div,{role:"group","aria-labelledby":a,...n,ref:s})})});NO.displayName=KN;var JN="SelectLabel",SO=m.forwardRef((e,s)=>{const{__scopeSelect:r,...n}=e,a=wO(JN,r);return t.jsx(we.div,{id:a.id,...n,ref:s})});SO.displayName=JN;var yd="SelectItem",[kO,QN]=Xi(yd),XN=m.forwardRef((e,s)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=aa(yd,r),c=ia(yd,r),d=l.value===n,[u,f]=m.useState(i??""),[p,h]=m.useState(!1),j=Ke(s,y=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,y,n,a)}),v=gr(),b=m.useRef("touch"),g=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx(kO,{scope:r,value:n,disabled:a,textId:v,isSelected:d,onItemTextChange:m.useCallback(y=>{f(x=>x||((y==null?void 0:y.textContent)??"").trim())},[]),children:t.jsx(su.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:t.jsx(we.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:j,onFocus:Ce(o.onFocus,()=>h(!0)),onBlur:Ce(o.onBlur,()=>h(!1)),onClick:Ce(o.onClick,()=>{b.current!=="mouse"&&g()}),onPointerUp:Ce(o.onPointerUp,()=>{b.current==="mouse"&&g()}),onPointerDown:Ce(o.onPointerDown,y=>{b.current=y.pointerType}),onPointerMove:Ce(o.onPointerMove,y=>{var x;b.current=y.pointerType,a?(x=c.onItemLeave)==null||x.call(c):b.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(o.onPointerLeave,y=>{var x;y.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:Ce(o.onKeyDown,y=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&y.key===" "||(cO.includes(y.key)&&g(),y.key===" "&&y.preventDefault())})})})})});XN.displayName=yd;var Uo="SelectItemText",ZN=m.forwardRef((e,s)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=aa(Uo,r),l=ia(Uo,r),c=QN(Uo,r),d=hO(Uo,r),[u,f]=m.useState(null),p=Ke(s,g=>f(g),c.onItemTextChange,g=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,g,c.value,c.disabled)}),h=u==null?void 0:u.textContent,j=m.useMemo(()=>t.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=d;return Pt(()=>(v(j),()=>b(j)),[v,b,j]),t.jsxs(t.Fragment,{children:[t.jsx(we.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Gi.createPortal(i.children,o.valueNode):null]})});ZN.displayName=Uo;var e1="SelectItemIndicator",t1=m.forwardRef((e,s)=>{const{__scopeSelect:r,...n}=e;return QN(e1,r).isSelected?t.jsx(we.span,{"aria-hidden":!0,...n,ref:s}):null});t1.displayName=e1;var Dh="SelectScrollUpButton",s1=m.forwardRef((e,s)=>{const r=ia(Dh,e.__scopeSelect),n=Rp(Dh,e.__scopeSelect),[a,i]=m.useState(!1),o=Ke(s,n.onScrollButtonChange);return Pt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?t.jsx(n1,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});s1.displayName=Dh;var Lh="SelectScrollDownButton",r1=m.forwardRef((e,s)=>{const r=ia(Lh,e.__scopeSelect),n=Rp(Lh,e.__scopeSelect),[a,i]=m.useState(!1),o=Ke(s,n.onScrollButtonChange);return Pt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?t.jsx(n1,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});r1.displayName=Lh;var n1=m.forwardRef((e,s)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=ia("SelectScrollButton",r),o=m.useRef(null),l=ru(r),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Pt(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),t.jsx(we.div,{"aria-hidden":!0,...a,ref:s,style:{flexShrink:0,...a.style},onPointerDown:Ce(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ce(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ce(a.onPointerLeave,()=>{c()})})}),_O="SelectSeparator",AO=m.forwardRef((e,s)=>{const{__scopeSelect:r,...n}=e;return t.jsx(we.div,{"aria-hidden":!0,...n,ref:s})});AO.displayName=_O;var $h="SelectArrow",CO=m.forwardRef((e,s)=>{const{__scopeSelect:r,...n}=e,a=nu(r),i=aa($h,r),o=ia($h,r);return i.open&&o.position==="popper"?t.jsx(zw,{...a,...n,ref:s}):null});CO.displayName=$h;var PO="SelectBubbleInput",a1=m.forwardRef(({__scopeSelect:e,value:s,...r},n)=>{const a=m.useRef(null),i=Ke(n,a),o=MN(s);return m.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==s&&u){const f=new Event("change",{bubbles:!0});u.call(l,s),l.dispatchEvent(f)}},[o,s]),t.jsx(we.select,{...r,style:{...DN,...r.style},ref:i,defaultValue:s})});a1.displayName=PO;function i1(e){return e===""||e===void 0}function o1(e){const s=os(e),r=m.useRef(""),n=m.useRef(0),a=m.useCallback(o=>{const l=r.current+o;s(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[s]),i=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function l1(e,s,r){const a=s.length>1&&Array.from(s).every(d=>d===s[0])?s[0]:s,i=r?e.indexOf(r):-1;let o=TO(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function TO(e,s){return e.map((r,n)=>e[(s+n)%e.length])}var EO=LN,IO=FN,OO=UN,RO=BN,MO=VN,DO=WN,LO=GN,$O=XN,FO=ZN,zO=t1,UO=s1,BO=r1;function Ur({...e}){return t.jsx(EO,{"data-slot":"select",...e})}function Br({...e}){return t.jsx(OO,{"data-slot":"select-value",...e})}function Vr({className:e,size:s="default",children:r,...n}){return t.jsxs(IO,{"data-slot":"select-trigger","data-size":s,className:ve("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[r,t.jsx(RO,{asChild:!0,children:t.jsx(Ia,{className:"size-4 opacity-50"})})]})}function Wr({className:e,children:s,position:r="popper",...n}){return t.jsx(MO,{children:t.jsxs(DO,{"data-slot":"select-content",className:ve("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[t.jsx(VO,{}),t.jsx(LO,{className:ve("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),t.jsx(WO,{})]})})}function bs({className:e,children:s,...r}){return t.jsxs($O,{"data-slot":"select-item",className:ve("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[t.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:t.jsx(zO,{children:t.jsx(Zf,{className:"size-4"})})}),t.jsx(FO,{children:s})]})}function VO({className:e,...s}){return t.jsx(UO,{"data-slot":"select-scroll-up-button",className:ve("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(Db,{className:"size-4"})})}function WO({className:e,...s}){return t.jsx(BO,{"data-slot":"select-scroll-down-button",className:ve("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(Ia,{className:"size-4"})})}function HO({data:e={},isEditable:s=!1,onDataChange:r,className:n=""}){var c,d,u,f,p,h,j,v,b,g,y,x,S,w,k,C,P,N,T,O,I,_,A,R,M,z,E,D,H,W,L,se,te,le,ue,ee,V,J,G,re,he,Ee,Fe,me,B,Q,ae,ie,je,fe,Ne,Le,He,Oe,pe,Ge,bt,qt,es,ge,st,pt,wt,ts,xt,_t,Tt,Dt,ss,Ar,Ys,Yt,Cr,_e,Ue,Je,Et,It,Gt,rs,Ot,Kt,vn,yn,jn,bn,wn,ye,rr,Nn,to,so,ro,no,ao,io,oo,lo,co,uo,mo,ho,fo,po,xo,go,vo,yo,jo,gt,rx,nx,ax,ix,ox,lx,cx,dx,ux,mx,hx,fx,px,xx,gx,vx,yx,jx,bx,wx,Nx,Sx,kx,_x,Ax,Cx,Px,Tx,Ex,Ix,Ox,Rx,Mx,Dx,Lx,$x,Fx,zx,Ux,Bx,Vx,Wx,Hx,qx,Yx,Gx,Kx,Jx,Qx,Xx,Zx,eg,tg,sg,rg,ng,ag,ig,og,lg,cg,dg,ug,mg,hg,fg,pg,xg,gg,vg,yg,jg,bg;const a=(rt,Pr,Va,la="text",wg)=>s?la==="select"&&wg?t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs",children:rt}),t.jsxs(Ur,{value:Pr||"",onValueChange:Tr=>r==null?void 0:r({...e,[Va]:Tr}),children:[t.jsx(Vr,{className:"h-8",children:t.jsx(Br,{placeholder:"Select..."})}),t.jsx(Wr,{children:wg.map(Tr=>t.jsx(bs,{value:Tr,children:Tr},Tr))})]})]}):la==="textarea"?t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs",children:rt}),t.jsx(Ui,{value:Pr||"",onChange:Tr=>r==null?void 0:r({...e,[Va]:Tr.target.value}),className:"min-h-16 text-xs"})]}):t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs",children:rt}),t.jsx(Re,{type:la,value:Pr||"",onChange:Tr=>r==null?void 0:r({...e,[Va]:la==="number"?Number(Tr.target.value):Tr.target.value}),className:"h-8 text-xs"})]}):t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:rt}),t.jsx("p",{className:"text-sm",children:Pr||"Not available"})]}),i=rt=>rt?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(rt):"Not available",o=rt=>rt?new Intl.NumberFormat("en-US").format(rt):"Not available",l=rt=>{if(!rt)return"Not available";try{return new Date(rt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return rt}};return t.jsxs("div",{className:`space-y-6 ${n}`,children:[t.jsxs(F,{children:[t.jsx(q,{className:"pb-3",children:t.jsxs(Y,{className:"flex items-center gap-2 text-lg",children:[t.jsx(We,{className:"w-5 h-5 text-primary"}),"Property Identification"]})}),t.jsx(U,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a("ATTOM ID",(c=e.identifier)==null?void 0:c.attomId,"identifier.attomId"),a("APN",(d=e.identifier)==null?void 0:d.apn,"identifier.apn"),a("FIPS Code",(u=e.identifier)==null?void 0:u.fips,"identifier.fips"),a("Property ID",(f=e.identifier)==null?void 0:f.obPropId,"identifier.obPropId")]})})]}),t.jsxs(F,{children:[t.jsx(q,{className:"pb-3",children:t.jsxs(Y,{className:"flex items-center gap-2 text-lg",children:[t.jsx(kt,{className:"w-5 h-5 text-primary"}),"Address Information"]})}),t.jsx(U,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx("div",{className:"md:col-span-2",children:a("Full Address",(p=e.address)==null?void 0:p.oneLine,"address.oneLine","textarea")}),a("Street Address",(h=e.address)==null?void 0:h.line1,"address.line1"),a("Address Line 2",(j=e.address)==null?void 0:j.line2,"address.line2"),a("City",(v=e.address)==null?void 0:v.locality,"address.locality"),a("State",(b=e.address)==null?void 0:b.countrySubd,"address.countrySubd"),a("ZIP Code",(g=e.address)==null?void 0:g.postal1,"address.postal1"),a("ZIP+4",(y=e.address)==null?void 0:y.postal2,"address.postal2"),a("Country",(x=e.address)==null?void 0:x.country,"address.country")]})})]}),t.jsxs(F,{children:[t.jsx(q,{className:"pb-3",children:t.jsxs(Y,{className:"flex items-center gap-2 text-lg",children:[t.jsx(bA,{className:"w-5 h-5 text-primary"}),"Building Details"]})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[t.jsx(Ct,{className:"w-4 h-4"}),"Basic Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a("Property Type",(w=(S=e.building)==null?void 0:S.summary)==null?void 0:w.propType,"building.summary.propType"),a("Property Subtype",(C=(k=e.building)==null?void 0:k.summary)==null?void 0:C.propSubType,"building.summary.propSubType"),a("Property Class",(N=(P=e.building)==null?void 0:P.summary)==null?void 0:N.propClass,"building.summary.propClass"),a("Standard Use",(O=(T=e.building)==null?void 0:T.summary)==null?void 0:O.standardUse,"building.summary.standardUse"),a("Year Built",(_=(I=e.building)==null?void 0:I.construction)==null?void 0:_.yearBuilt,"building.construction.yearBuilt","number"),a("Effective Year Built",(R=(A=e.building)==null?void 0:A.construction)==null?void 0:R.effectiveYearBuilt,"building.construction.effectiveYearBuilt","number"),a("Year Renovated",(z=(M=e.building)==null?void 0:M.construction)==null?void 0:z.yearRenovated,"building.construction.yearRenovated","number"),a("Number of Stories",(D=(E=e.building)==null?void 0:E.summary)==null?void 0:D.noOfStories,"building.summary.noOfStories","number"),a("Number of Units",(W=(H=e.building)==null?void 0:H.summary)==null?void 0:W.noOfUnits,"building.summary.noOfUnits","number")]})]}),t.jsx(zt,{}),t.jsxs("div",{children:[t.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[t.jsx(Ol,{className:"w-4 h-4"}),"Size Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Building Sq Ft"}),t.jsx("p",{className:"text-sm",children:o((se=(L=e.building)==null?void 0:L.size)==null?void 0:se.bldgSqFt)})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Living Area Sq Ft"}),t.jsx("p",{className:"text-sm",children:o((le=(te=e.building)==null?void 0:te.size)==null?void 0:le.livingAreaSqFt)})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Gross Sq Ft"}),t.jsx("p",{className:"text-sm",children:o((ee=(ue=e.building)==null?void 0:ue.size)==null?void 0:ee.grossSqFt)})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Universal Building Sq Ft"}),t.jsx("p",{className:"text-sm",children:o((J=(V=e.building)==null?void 0:V.size)==null?void 0:J.universalBldgSqFt)})]})]})]}),t.jsx(zt,{}),t.jsxs("div",{children:[t.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[t.jsx(We,{className:"w-4 h-4"}),"Rooms & Layout"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Bedrooms"}),t.jsx("p",{className:"text-sm",children:((re=(G=e.building)==null?void 0:G.rooms)==null?void 0:re.bedsCount)||"Not available"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Total Bathrooms"}),t.jsx("p",{className:"text-sm",children:((Ee=(he=e.building)==null?void 0:he.rooms)==null?void 0:Ee.bathsTotal)||"Not available"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Full Bathrooms"}),t.jsx("p",{className:"text-sm",children:((me=(Fe=e.building)==null?void 0:Fe.rooms)==null?void 0:me.bathsFull)||"Not available"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Partial Bathrooms"}),t.jsx("p",{className:"text-sm",children:((Q=(B=e.building)==null?void 0:B.rooms)==null?void 0:Q.bathsPartial)||"Not available"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Total Rooms"}),t.jsx("p",{className:"text-sm",children:((ie=(ae=e.building)==null?void 0:ae.rooms)==null?void 0:ie.roomsTotal)||"Not available"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Stories Description"}),t.jsx("p",{className:"text-sm",children:((fe=(je=e.building)==null?void 0:je.interior)==null?void 0:fe.storyDesc)||"Not available"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Fireplace Count"}),t.jsx("p",{className:"text-sm",children:((Le=(Ne=e.building)==null?void 0:Ne.interior)==null?void 0:Le.fplcCount)||"Not available"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Fireplace Type"}),t.jsx("p",{className:"text-sm",children:((Oe=(He=e.building)==null?void 0:He.interior)==null?void 0:Oe.fplcType)||"Not available"})]})]})]}),t.jsx(zt,{}),t.jsxs("div",{children:[t.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[t.jsx(rC,{className:"w-4 h-4"}),"Construction Details"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a("Construction Type",(Ge=(pe=e.building)==null?void 0:pe.construction)==null?void 0:Ge.constructionType,"building.construction.constructionType"),a("Exterior Walls",(qt=(bt=e.building)==null?void 0:bt.construction)==null?void 0:qt.exteriorWalls,"building.construction.exteriorWalls"),a("Foundation Type",(ge=(es=e.building)==null?void 0:es.construction)==null?void 0:ge.foundationType,"building.construction.foundationType"),a("Foundation Walls",(pt=(st=e.building)==null?void 0:st.construction)==null?void 0:pt.foundationWalls,"building.construction.foundationWalls"),a("Roof Type",(ts=(wt=e.building)==null?void 0:wt.construction)==null?void 0:ts.roofType,"building.construction.roofType"),a("Roof Cover",(_t=(xt=e.building)==null?void 0:xt.construction)==null?void 0:_t.roofCover,"building.construction.roofCover"),a("Roof Frame",(Dt=(Tt=e.building)==null?void 0:Tt.construction)==null?void 0:Dt.roofFrame,"building.construction.roofFrame"),a("Floor Cover",(Ar=(ss=e.building)==null?void 0:ss.construction)==null?void 0:Ar.floorCover,"building.construction.floorCover"),a("Interior Walls",(Yt=(Ys=e.building)==null?void 0:Ys.construction)==null?void 0:Yt.interiorWalls,"building.construction.interiorWalls"),a("Window Type",(_e=(Cr=e.building)==null?void 0:Cr.construction)==null?void 0:_e.windowType,"building.construction.windowType"),a("Condition",(Je=(Ue=e.building)==null?void 0:Ue.construction)==null?void 0:Je.condition,"building.construction.condition"),a("Quality",(It=(Et=e.building)==null?void 0:Et.construction)==null?void 0:It.quality,"building.construction.quality")]})]})]})})]}),t.jsxs(F,{children:[t.jsx(q,{className:"pb-3",children:t.jsxs(Y,{className:"flex items-center gap-2 text-lg",children:[t.jsx(GC,{className:"w-5 h-5 text-primary"}),"Lot Information"]})}),t.jsx(U,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Lot Number"}),t.jsx("p",{className:"text-sm",children:((Gt=e.lot)==null?void 0:Gt.lotNum)||"Not available"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Lot Size (Sq Ft)"}),t.jsx("p",{className:"text-sm",children:o((rs=e.lot)==null?void 0:rs.lotSqFt)})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Lot Size (Acres)"}),t.jsx("p",{className:"text-sm",children:((Ot=e.lot)==null?void 0:Ot.lotAcres)||"Not available"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Pool"}),t.jsx("p",{className:"text-sm",children:(Kt=e.lot)!=null&&Kt.poolYN?"Yes":"No"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Pool Type"}),t.jsx("p",{className:"text-sm",children:((vn=e.lot)==null?void 0:vn.poolType)||"Not available"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Subdivision"}),t.jsx("p",{className:"text-sm",children:((yn=e.lot)==null?void 0:yn.subdName)||"Not available"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Tract Number"}),t.jsx("p",{className:"text-sm",children:((jn=e.lot)==null?void 0:jn.subdTractNum)||"Not available"})]})]})})]}),t.jsxs(F,{children:[t.jsx(q,{className:"pb-3",children:t.jsxs(Y,{className:"flex items-center gap-2 text-lg",children:[t.jsx(Ri,{className:"w-5 h-5 text-primary"}),"Assessment & Tax Information"]})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-3",children:"Assessed Values"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Total Assessed Value"}),t.jsx("p",{className:"text-sm",children:i((wn=(bn=e.assessment)==null?void 0:bn.assessed)==null?void 0:wn.assdTtlValue)})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Land Assessed Value"}),t.jsx("p",{className:"text-sm",children:i((rr=(ye=e.assessment)==null?void 0:ye.assessed)==null?void 0:rr.assdLandValue)})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Improvement Assessed Value"}),t.jsx("p",{className:"text-sm",children:i((to=(Nn=e.assessment)==null?void 0:Nn.assessed)==null?void 0:to.assdImpValue)})]})]})]}),t.jsx(zt,{}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-3",children:"Market Values"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Total Market Value"}),t.jsx("p",{className:"text-sm",children:i((ro=(so=e.assessment)==null?void 0:so.assessed)==null?void 0:ro.marketTtlValue)})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Land Market Value"}),t.jsx("p",{className:"text-sm",children:i((ao=(no=e.assessment)==null?void 0:no.assessed)==null?void 0:ao.marketLandValue)})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Improvement Market Value"}),t.jsx("p",{className:"text-sm",children:i((oo=(io=e.assessment)==null?void 0:io.assessed)==null?void 0:oo.marketImpValue)})]})]})]}),t.jsx(zt,{}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-3",children:"Tax Information"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Tax Amount"}),t.jsx("p",{className:"text-sm",children:i((co=(lo=e.assessment)==null?void 0:lo.assessed)==null?void 0:co.taxAmt)})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Tax Year"}),t.jsx("p",{className:"text-sm",children:((mo=(uo=e.assessment)==null?void 0:uo.assessed)==null?void 0:mo.taxYear)||"Not available"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Exemption Amount"}),t.jsx("p",{className:"text-sm",children:i((fo=(ho=e.assessment)==null?void 0:ho.assessed)==null?void 0:fo.exemptionAmt)})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Exemption Type"}),t.jsx("p",{className:"text-sm",children:((xo=(po=e.assessment)==null?void 0:po.assessed)==null?void 0:xo.exemptionType)||"Not available"})]})]})]})]})})]}),t.jsxs(F,{children:[t.jsx(q,{className:"pb-3",children:t.jsxs(Y,{className:"flex items-center gap-2 text-lg",children:[t.jsx(Xs,{className:"w-5 h-5 text-primary"}),"Utilities & Features"]})}),t.jsx(U,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsxs(X,{className:"text-xs text-muted-foreground flex items-center gap-1",children:[t.jsx(WC,{className:"w-3 h-3"}),"Heating"]}),t.jsx("p",{className:"text-sm",children:((go=e.utilities)==null?void 0:go.heating)||"Not available"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs(X,{className:"text-xs text-muted-foreground flex items-center gap-1",children:[t.jsx(iP,{className:"w-3 h-3"}),"Cooling"]}),t.jsx("p",{className:"text-sm",children:((vo=e.utilities)==null?void 0:vo.cooling)||"Not available"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs(X,{className:"text-xs text-muted-foreground flex items-center gap-1",children:[t.jsx(Xs,{className:"w-3 h-3"}),"Electric"]}),t.jsx("p",{className:"text-sm",children:((yo=e.utilities)==null?void 0:yo.electric)||"Not available"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Gas"}),t.jsx("p",{className:"text-sm",children:((jo=e.utilities)==null?void 0:jo.gas)||"Not available"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs(X,{className:"text-xs text-muted-foreground flex items-center gap-1",children:[t.jsx(YA,{className:"w-3 h-3"}),"Water"]}),t.jsx("p",{className:"text-sm",children:((gt=e.utilities)==null?void 0:gt.water)||"Not available"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Sewer"}),t.jsx("p",{className:"text-sm",children:((rx=e.utilities)==null?void 0:rx.sewer)||"Not available"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Fuel Type"}),t.jsx("p",{className:"text-sm",children:((nx=e.utilities)==null?void 0:nx.fuelType)||"Not available"})]})]})})]}),t.jsxs(F,{children:[t.jsx(q,{className:"pb-3",children:t.jsxs(Y,{className:"flex items-center gap-2 text-lg",children:[t.jsx(hn,{className:"w-5 h-5 text-primary"}),"Ownership Information"]})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-4",children:[((ax=e.owner)==null?void 0:ax.names)&&e.owner.names.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Owner Names"}),t.jsx("div",{className:"space-y-2",children:e.owner.names.map((rt,Pr)=>{var Va,la;return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(K,{variant:"outline",children:rt.fullName||`${rt.first} ${rt.last}`}),((Va=e.owner)==null?void 0:Va.corporateIndicator)&&t.jsx(K,{variant:"secondary",children:"Corporate"}),((la=e.owner)==null?void 0:la.trustIndicator)&&t.jsx(K,{variant:"secondary",children:"Trust"})]},Pr)})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Occupancy Status"}),t.jsx("p",{className:"text-sm",children:((ix=e.owner)==null?void 0:ix.occupancyStatus)||"Not available"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Ownership Type"}),t.jsx("p",{className:"text-sm",children:((ox=e.owner)==null?void 0:ox.ownershipType)||"Not available"})]})]}),((lx=e.owner)==null?void 0:lx.mailAddress)&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Mailing Address"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:e.owner.mailAddress.oneLine||`${e.owner.mailAddress.line1}, ${e.owner.mailAddress.locality}, ${e.owner.mailAddress.countrySubd} ${e.owner.mailAddress.postal1}`})]})]})})]}),t.jsxs(F,{children:[t.jsx(q,{className:"pb-3",children:t.jsxs(Y,{className:"flex items-center gap-2 text-lg",children:[t.jsx(ls,{className:"w-5 h-5 text-primary"}),"Sale Information"]})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Sale Amount"}),t.jsx("p",{className:"text-sm font-medium",children:i((dx=(cx=e.sale)==null?void 0:cx.amount)==null?void 0:dx.saleAmt)})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Standard Sale Amount"}),t.jsx("p",{className:"text-sm",children:i((mx=(ux=e.sale)==null?void 0:ux.amount)==null?void 0:mx.saleAmtStnd)})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Price Per Sq Ft"}),t.jsx("p",{className:"text-sm",children:(fx=(hx=e.sale)==null?void 0:hx.calculation)!=null&&fx.pricePerSqFt?`$${e.sale.calculation.pricePerSqFt.toFixed(2)}`:"Not available"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Sale Date"}),t.jsx("p",{className:"text-sm",children:l((xx=(px=e.sale)==null?void 0:px.transactionDetail)==null?void 0:xx.saleTransDate)})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Deed Type"}),t.jsx("p",{className:"text-sm",children:((vx=(gx=e.sale)==null?void 0:gx.transactionDetail)==null?void 0:vx.deedType)||"Not available"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Document Type"}),t.jsx("p",{className:"text-sm",children:((jx=(yx=e.sale)==null?void 0:yx.transactionDetail)==null?void 0:jx.documentType)||"Not available"})]})]}),((bx=e.sale)==null?void 0:bx.salesHistory)&&e.sale.salesHistory.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-3",children:"Sales History"}),t.jsx("div",{className:"space-y-2",children:e.sale.salesHistory.map((rt,Pr)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:i(rt.amount)}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[rt.transactionType," - ",rt.documentType]})]}),t.jsx("p",{className:"text-sm",children:l(rt.date)})]},Pr))})]})]})})]}),t.jsxs(F,{children:[t.jsx(q,{className:"pb-3",children:t.jsxs(Y,{className:"flex items-center gap-2 text-lg",children:[t.jsx(kt,{className:"w-5 h-5 text-primary"}),"Location & Coordinates"]})}),t.jsx(U,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Latitude"}),t.jsx("p",{className:"text-sm font-mono",children:((wx=e.location)==null?void 0:wx.latitude)||"Not available"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Longitude"}),t.jsx("p",{className:"text-sm font-mono",children:((Nx=e.location)==null?void 0:Nx.longitude)||"Not available"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Elevation"}),t.jsx("p",{className:"text-sm",children:(Sx=e.location)!=null&&Sx.elevation?`${e.location.elevation} ft`:"Not available"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Accuracy"}),t.jsx("p",{className:"text-sm",children:((kx=e.location)==null?void 0:kx.accuracy)||"Not available"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"GeoID"}),t.jsx("p",{className:"text-sm font-mono",children:((_x=e.location)==null?void 0:_x.geoid)||"Not available"})]})]})})]}),t.jsxs(F,{children:[t.jsx(q,{className:"pb-3",children:t.jsxs(Y,{className:"flex items-center gap-2 text-lg",children:[t.jsx(lC,{className:"w-5 h-5 text-primary"}),"Area & Neighborhood"]})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-3",children:"Administrative Areas"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a("County",(Ax=e.area)==null?void 0:Ax.countyName,"area.countyName"),a("Municipality",(Cx=e.area)==null?void 0:Cx.munName,"area.munName"),a("Municipality Code",(Px=e.area)==null?void 0:Px.munCode,"area.munCode"),a("Block ID",(Tx=e.area)==null?void 0:Tx.blockId,"area.blockId"),a("Phase ID",(Ex=e.area)==null?void 0:Ex.phaseId,"area.phaseId"),a("Subdivision",(Ix=e.area)==null?void 0:Ix.subdivisionName,"area.subdivisionName"),a("Census Block",(Ox=e.area)==null?void 0:Ox.censusBlock,"area.censusBlock"),a("Census Tract",(Rx=e.area)==null?void 0:Rx.censusTract,"area.censusTract")]})]}),t.jsx(zt,{}),t.jsxs("div",{children:[t.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[t.jsx(zb,{className:"w-4 h-4"}),"School Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a("School District",(Mx=e.area)==null?void 0:Mx.schoolDistrict,"area.schoolDistrict"),a("District ID",(Dx=e.area)==null?void 0:Dx.schoolDistrictId,"area.schoolDistrictId"),a("Elementary School",(Lx=e.area)==null?void 0:Lx.elementarySchool,"area.elementarySchool"),a("Middle School",($x=e.area)==null?void 0:$x.middleSchool,"area.middleSchool"),a("High School",(Fx=e.area)==null?void 0:Fx.highSchool,"area.highSchool")]})]})]})})]}),t.jsxs(F,{children:[t.jsx(q,{className:"pb-3",children:t.jsxs(Y,{className:"flex items-center gap-2 text-lg",children:[t.jsx(Wd,{className:"w-5 h-5 text-primary"}),"Additional Features"]})}),t.jsx(U,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a("Architectural Style",(zx=e.features)==null?void 0:zx.architecturalStyle,"features.architecturalStyle"),a("Basement",(Ux=e.features)==null?void 0:Ux.basement,"features.basement"),a("Basement Sq Ft",(Bx=e.features)==null?void 0:Bx.basementSqFt,"features.basementSqFt","number"),a("Garage Type",(Vx=e.features)==null?void 0:Vx.garage,"features.garage"),a("Garage Spaces",(Wx=e.features)==null?void 0:Wx.garageSpaces,"features.garageSpaces","number"),a("Garage Sq Ft",(Hx=e.features)==null?void 0:Hx.garageSqFt,"features.garageSqFt","number"),a("Parking Spaces",(qx=e.features)==null?void 0:qx.parkingSpaces,"features.parkingSpaces","number"),a("Parking Type",(Yx=e.features)==null?void 0:Yx.parkingType,"features.parkingType"),a("Patio",(Gx=e.features)==null?void 0:Gx.patio,"features.patio"),a("Deck",(Kx=e.features)==null?void 0:Kx.deck,"features.deck"),a("Fence",(Jx=e.features)==null?void 0:Jx.fence,"features.fence"),a("Recreation",(Qx=e.features)==null?void 0:Qx.recreation,"features.recreation"),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"font-medium text-sm",children:"Special Features"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[((Xx=e.features)==null?void 0:Xx.sprinklerSystem)&&t.jsx(K,{variant:"secondary",children:"Sprinkler System"}),((Zx=e.features)==null?void 0:Zx.securitySystem)&&t.jsx(K,{variant:"secondary",children:"Security System"}),((eg=e.features)==null?void 0:eg.fireplace)&&t.jsx(K,{variant:"secondary",children:"Fireplace"}),((tg=e.features)==null?void 0:tg.centralAir)&&t.jsx(K,{variant:"secondary",children:"Central Air"}),((sg=e.features)==null?void 0:sg.centralHeat)&&t.jsx(K,{variant:"secondary",children:"Central Heat"}),((rg=e.features)==null?void 0:rg.spaHotTub)&&t.jsx(K,{variant:"secondary",children:"Spa/Hot Tub"}),((ng=e.features)==null?void 0:ng.tennis)&&t.jsx(K,{variant:"secondary",children:"Tennis"})]})]})]})})]}),t.jsxs(F,{children:[t.jsx(q,{className:"pb-3",children:t.jsxs(Y,{className:"flex items-center gap-2 text-lg",children:[t.jsx(us,{className:"w-5 h-5 text-primary"}),"Environmental Information"]})}),t.jsx(U,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a("Flood Zone",(ag=e.environmental)==null?void 0:ag.floodZone,"environmental.floodZone"),a("Flood Risk",(ig=e.environmental)==null?void 0:ig.floodRisk,"environmental.floodRisk"),a("Earthquake Risk",(og=e.environmental)==null?void 0:og.earthquake,"environmental.earthquake"),a("Wildfire Risk",(lg=e.environmental)==null?void 0:lg.wildfire,"environmental.wildfire"),((cg=e.environmental)==null?void 0:cg.climate)&&t.jsxs(t.Fragment,{children:[a("Avg Temperature",e.environmental.climate.avgTemperature,"environmental.climate.avgTemperature","number"),a("Avg Rainfall",e.environmental.climate.avgRainfall,"environmental.climate.avgRainfall","number"),a("Humidity",e.environmental.climate.humidity,"environmental.climate.humidity","number")]})]})})]}),t.jsxs(F,{children:[t.jsx(q,{className:"pb-3",children:t.jsxs(Y,{className:"flex items-center gap-2 text-lg",children:[t.jsx(ep,{className:"w-5 h-5 text-primary"}),"Legal Information"]})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a("Property Use",(dg=e.legal)==null?void 0:dg.propertyUse,"legal.propertyUse"),a("Zoning",(ug=e.legal)==null?void 0:ug.zoning,"legal.zoning"),a("Property Rights",(mg=e.legal)==null?void 0:mg.propertyRights,"legal.propertyRights")]}),a("Legal Description",(hg=e.legal)==null?void 0:hg.legalDescription,"legal.legalDescription","textarea"),a("Restrictions",(fg=e.legal)==null?void 0:fg.restrictions,"legal.restrictions","textarea"),a("Easements",(pg=e.legal)==null?void 0:pg.easements,"legal.easements","textarea"),a("Covenants",(xg=e.legal)==null?void 0:xg.covenants,"legal.covenants","textarea")]})})]}),t.jsxs(F,{children:[t.jsx(q,{className:"pb-3",children:t.jsxs(Y,{className:"flex items-center gap-2 text-lg",children:[t.jsx(Hr,{className:"w-5 h-5 text-primary"}),"Financial Information"]})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"List Price"}),t.jsx("p",{className:"text-sm font-medium",children:i((gg=e.financial)==null?void 0:gg.listPrice)})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Estimated Value"}),t.jsx("p",{className:"text-sm font-medium",children:i((vg=e.financial)==null?void 0:vg.estimatedValue)})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Rent Estimate"}),t.jsx("p",{className:"text-sm",children:i((yg=e.financial)==null?void 0:yg.rentEstimate)})]})]}),((jg=e.financial)==null?void 0:jg.marketTrends)&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-3",children:"Market Trends"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Appreciation"}),t.jsx("p",{className:"text-sm",children:e.financial.marketTrends.appreciation?`${e.financial.marketTrends.appreciation}%`:"Not available"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Average Days on Market"}),t.jsx("p",{className:"text-sm",children:e.financial.marketTrends.averageDays||"Not available"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{className:"text-xs text-muted-foreground",children:"Median Price"}),t.jsx("p",{className:"text-sm",children:i(e.financial.marketTrends.medianPrice)})]})]})]}),((bg=e.financial)==null?void 0:bg.priceHistory)&&e.financial.priceHistory.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-3",children:"Price History"}),t.jsx("div",{className:"space-y-2",children:e.financial.priceHistory.map((rt,Pr)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:i(rt.price)}),t.jsx("p",{className:"text-xs text-muted-foreground",children:rt.priceType})]}),t.jsx("p",{className:"text-sm",children:l(rt.date)})]},Pr))})]})]})})]})]})}const qO=`data:image/svg+xml;base64,${btoa(`
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#034078" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
    <polyline points="9,22 9,12 15,12 15,22"/>
  </svg>
`)}`,YO="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover",ky={authenticated:"Handoff - Real Estate Transaction Management",unauthenticated:"Handoff - Sign In"},GO=(e,s=20,r=6.5,n=30)=>{const a=e*s/100,i=e-a,o=r/100/12,l=n*12;if(o===0)return i/l;const c=i*(o*Math.pow(1+o,l))/(Math.pow(1+o,l)-1);return Math.round(c)},KO=()=>({downPaymentPercent:20,interestRate:6.5,loanTermYears:30});function JO({userProfile:e,setupData:s,onNavigate:r,onStartOver:n,onEditSetup:a}){const[i,o]=m.useState({}),[l,c]=m.useState({}),[d,u]=m.useState(!1),[f,p]=m.useState("summary"),[h,j]=m.useState(""),[v,b]=m.useState({}),[g,y]=m.useState({}),[x,S]=m.useState(!1),[w,k]=m.useState(!1),[C,P]=m.useState(0),N=m.useRef(0),T=m.useRef(0),O=m.useRef(0),I=m.useRef(""),_=[{id:"basicprofile",name:"Basic Profile",path:"/propertyapi/v1.0.0/property/basicprofile",description:"Get basic property information including address, lot size, and building details",icon:t.jsx(We,{className:"w-4 h-4"}),sampleAddress:"586 Franklin Ave, Brooklyn, NY"},{id:"detail",name:"Property Detail",path:"/propertyapi/v1.0.0/property/detail",description:"Get detailed property information including rooms, features, and history",icon:t.jsx(Ds,{className:"w-4 h-4"})},{id:"saledetail",name:"Sale Detail",path:"/propertyapi/v1.0.0/sale/detail",description:"Get detailed sale information and transaction history",icon:t.jsx($b,{className:"w-4 h-4"})},{id:"expandedprofile",name:"Expanded Profile",path:"/propertyapi/v1.0.0/property/expandedprofile",description:"Get comprehensive property data including all available information",icon:t.jsx(Qt,{className:"w-4 h-4"})}],A=l.propertyAddress||(i.address&&i.city?`${i.address}, ${i.city}, ${i.state} ${i.zipCode}`:""),{property:R,isLoading:M,error:z,searchByAddress:E}=Pp();m.useCallback(()=>{const B=Date.now();if(B-O.current>6e4&&(T.current=0,O.current=B),T.current>=8)throw new Error("Rate limit exceeded. Please wait before making more API calls.");if(B-N.current<1e3)throw new Error("Please wait 1 second between API calls.");return!0},[]),m.useEffect(()=>{const B=()=>{try{const ae=localStorage.getItem("handoff-property-data");if(ae)try{o(JSON.parse(ae))}catch(Ne){console.warn("Error parsing property data:",Ne)}const ie=localStorage.getItem("handoff-screening-data");if(ie)try{c(JSON.parse(ie))}catch(Ne){console.warn("Error parsing screening data:",Ne)}const je=localStorage.getItem("handoff-initial-setup-complete")==="true",fe=localStorage.getItem("handoff-questionnaire-complete")==="true";u(je&&fe)}catch(ae){console.warn("Error loading data:",ae)}};B();const Q=setInterval(B,15e3);return()=>clearInterval(Q)},[]),m.useEffect(()=>{j("cca24467d5861c7e58a2bc7c9cc926af")},[]),m.useEffect(()=>{if(A&&A.trim()&&!x)try{const B=Date.now();B-N.current>6e4&&(E(A),N.current=B)}catch{console.warn("Skipping auto-fetch due to rate limiting")}},[A,E,x]),m.useEffect(()=>{A&&A.trim()&&h&&!x&&!w&&I.current!==A&&(I.current=A,D())},[A,h,x]);const D=async()=>{if(!h.trim()||!A)return;k(!0),P(0),S(!1);const B={};_.forEach(ie=>{B[ie.id]={id:ie.id,name:ie.name,response:null,isLoading:!0,error:void 0}}),b(B);let Q="",ae="";if(i.address)Q=i.address,ae=`${i.city||""}, ${i.state||""}`.trim().replace(/^,\s*/,"");else if(l.propertyAddress){const ie=l.propertyAddress.split(", ");ie.length>=2&&(Q=ie[0],ae=ie.slice(1).join(", "))}if(!Q||!ae){console.warn("Unable to parse property address for API testing"),k(!1);return}for(let ie=0;ie<_.length;ie++){const je=_[ie];try{P((ie+1)/_.length*100),ie>0&&await new Promise(Ne=>setTimeout(Ne,2e3));const fe=await H(je,Q,ae);if(b(Ne=>({...Ne,[je.id]:{...Ne[je.id],response:fe,isLoading:!1,error:fe.success?void 0:fe.error}})),fe.status===401){S(!0),console.warn("Authentication error detected, stopping further tests");break}}catch(fe){console.error(`Error testing ${je.name}:`,fe),b(Ne=>({...Ne,[je.id]:{...Ne[je.id],response:null,isLoading:!1,error:fe instanceof Error?fe.message:"Unknown error"}}))}}k(!1),P(100)},H=async(B,Q,ae)=>{try{T.current+=1,N.current=Date.now();const ie=`https://api.gateway.attomdata.com${B.path}`,je=new URL(ie);je.searchParams.append("address1",Q),je.searchParams.append("address2",ae),console.log(`Testing ${B.name}:`,je.toString());const fe=await fetch(je.toString(),{method:"GET",headers:{accept:"application/json",apikey:h,"User-Agent":"Handoff-RealEstate/1.0"}}),Ne=await fe.text();let Le;try{Le=JSON.parse(Ne)}catch{Le={rawResponse:Ne,parseError:"Failed to parse as JSON"}}return{success:fe.ok,status:fe.status,statusText:fe.statusText,headers:Object.fromEntries(fe.headers.entries()),data:Le,url:je.toString(),timestamp:new Date().toISOString(),propertyAddress:A,parsedAddress:{address1:Q,address2:ae},error:fe.ok?void 0:`${fe.status} ${fe.statusText}`}}catch(ie){return{success:!1,error:ie instanceof Error?ie.message:"Unknown error",timestamp:new Date().toISOString(),propertyAddress:A}}},W=()=>{I.current="",D()},L=B=>{navigator.clipboard.writeText(B).then(()=>{console.log("Copied to clipboard")}).catch(Q=>{console.error("Failed to copy:",Q)})},se=B=>{y(Q=>({...Q,[B]:!Q[B]}))},te=()=>{const B=[{label:"Screening Complete",completed:!!l.propertyAddress},{label:"Property Details",completed:!!i.address},{label:"Contact Information",completed:!!i.buyerName},{label:"Professional Team",completed:!!i.agentName},{label:"Transaction Details",completed:!!i.closingDate}],Q=B.filter(ie=>ie.completed).length,ae=Q/B.length*100;return{steps:B,progress:ae,completedSteps:Q}},le=B=>{if(!B)return"Not scheduled";try{return new Date(B).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch{return B}},{steps:ue,progress:ee,completedSteps:V}=te(),J=l.propertyAddress||(i.address?`${i.address}, ${i.city}, ${i.state} ${i.zipCode}`:"Not provided"),G=(B,Q)=>{if(!B)return null;const ae=parseFloat(B.replace(/[^0-9.]/g,""));return isNaN(ae)||ae<=0?null:B.includes("%")||ae<=100&&!B.includes("$")&&!B.includes(",")?{percentage:ae,amount:Q*ae/100}:{percentage:ae/Q*100,amount:ae}},he=(()=>{if(!i.price)return null;const B=parseFloat(i.price.replace(/[^0-9.]/g,""));if(isNaN(B)||B<=0)return null;let Q=20;if(i.downPayment){const ie=G(i.downPayment,B);ie&&(Q=ie.percentage)}const ae=KO();return GO(B,Q,ae.interestRate,ae.loanTermYears)})(),Ee=Object.values(v).filter(B=>!B.isLoading).length,Fe=_.length,me=()=>{var Q;const B={address:{oneLine:J,line1:i.address,locality:i.city,countrySubd:i.state,postal1:i.zipCode,country:"USA"},building:{summary:{propType:i.propertyType,yearBuilt:i.yearBuilt?parseInt(i.yearBuilt):void 0},size:{livingAreaSqFt:i.squareFootage?parseInt(i.squareFootage):void 0},rooms:{bedsCount:i.bedrooms?parseInt(i.bedrooms):void 0,bathsTotal:i.bathrooms?parseFloat(i.bathrooms):void 0}},financial:{listPrice:i.price?parseFloat(i.price.replace(/[^0-9.]/g,"")):void 0},owner:{names:i.buyerName?[{fullName:i.buyerName}]:void 0,mailAddress:i.buyerEmail?{oneLine:i.buyerEmail}:void 0}};return R&&(R.identifier&&(B.identifier={attomId:R.identifier.attomId,fips:R.identifier.fips,apn:R.identifier.apn,obPropId:R.identifier.obPropId}),R.address&&(B.address={...B.address,...R.address}),R.lot&&(B.lot=R.lot),R.building&&(B.building={...B.building,...R.building}),R.assessment&&(B.assessment=R.assessment),R.utilities&&(B.utilities=R.utilities),R.location&&(B.location=R.location),R.owner&&(B.owner={...B.owner,...R.owner}),R.sale&&(B.sale=R.sale),R.area&&(B.area=R.area)),Object.values(v).forEach(ae=>{var ie,je,fe,Ne,Le,He;if((ie=ae.response)!=null&&ie.success&&((je=ae.response)!=null&&je.data)){const Oe=ae.response.data;if(Oe.property&&Oe.property.length>0){const pe=Oe.property[0];pe.identifier&&!B.identifier&&(B.identifier=pe.identifier),pe.address&&(B.address={...B.address,...pe.address}),pe.building&&(B.building={...B.building,size:{...(fe=B.building)==null?void 0:fe.size,...pe.building.size},construction:pe.building.construction,rooms:{...(Ne=B.building)==null?void 0:Ne.rooms,...pe.building.rooms},interior:pe.building.interior,summary:{...(Le=B.building)==null?void 0:Le.summary,...pe.building.summary}}),pe.lot&&(B.lot={...B.lot,...pe.lot}),pe.assessment&&(B.assessment={...B.assessment,...pe.assessment}),pe.utilities&&(B.utilities={...B.utilities,...pe.utilities}),pe.location&&(B.location={...B.location,...pe.location}),pe.owner&&(B.owner={...B.owner,...pe.owner,names:pe.owner.names||((He=B.owner)==null?void 0:He.names)}),pe.sale&&(B.sale={...B.sale,...pe.sale}),pe.area&&(B.area={...B.area,...pe.area})}}}),he&&(B.financial={...B.financial,estimatedValue:he.loanAmount,marketTrends:{...((Q=B.financial)==null?void 0:Q.marketTrends)||{}}}),(i.agentName||i.lenderName)&&(B.area={...B.area}),B};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(We,{className:"w-5 h-5 text-primary"}),"Property Summary & Data Analysis"]})}),t.jsx(U,{children:t.jsxs(Hs,{value:f,onValueChange:p,className:"w-full",children:[t.jsxs(qs,{className:"grid w-full grid-cols-3",children:[t.jsxs(Se,{value:"summary",className:"flex items-center gap-2",children:[t.jsx(We,{className:"w-4 h-4"}),"Summary"]}),t.jsxs(Se,{value:"property-data",className:"flex items-center gap-2",children:[t.jsx(Ds,{className:"w-4 h-4"}),"Property Data & API Results",Fe>0&&t.jsxs(K,{variant:"outline",className:"ml-1",children:[Ee,"/",Fe]})]}),t.jsxs(Se,{value:"analysis",className:"flex items-center gap-2",children:[t.jsx(xr,{className:"w-4 h-4"}),"Analysis"]})]}),t.jsxs(ke,{value:"summary",className:"space-y-6 mt-6",children:[t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(be,{className:"w-5 h-5 text-primary"}),"Property Setup Progress"]})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",children:"Overall Progress"}),t.jsxs("span",{className:"text-sm text-muted-foreground",children:[V," of ",ue.length," steps completed"]})]}),t.jsx(Sa,{value:ee,className:"w-full"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-2 mt-4",children:ue.map((B,Q)=>t.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md bg-muted/50",children:[B.completed?t.jsx(be,{className:"w-4 h-4 text-green-500"}):t.jsx(Zo,{className:"w-4 h-4 text-muted-foreground"}),t.jsx("span",{className:"text-xs",children:B.label})]},Q))})]})})]}),(w||Object.keys(v).length>0)&&t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Ts,{className:"w-5 h-5 text-primary"}),"ATTOM API Data Collection",w&&t.jsx(ft,{className:"w-4 h-4 animate-spin ml-2"})]})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-4",children:[w&&t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{children:"Testing endpoints..."}),t.jsxs("span",{children:[Math.round(C),"%"]})]}),t.jsx(Sa,{value:C,className:"w-full"})]}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:_.map(B=>{var ae;const Q=v[B.id];return t.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md bg-muted/50",children:[Q!=null&&Q.isLoading?t.jsx(ft,{className:"w-4 h-4 animate-spin text-blue-500"}):(ae=Q==null?void 0:Q.response)!=null&&ae.success?t.jsx(hr,{className:"w-4 h-4 text-green-500"}):Q!=null&&Q.error||Q!=null&&Q.response?t.jsx(it,{className:"w-4 h-4 text-red-500"}):t.jsx(Zo,{className:"w-4 h-4 text-muted-foreground"}),t.jsx("span",{className:"text-xs",children:B.name})]},B.id)})})]})})]}),t.jsx(HO,{data:me(),isEditable:!1,className:"mb-6"}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Ea,{className:"w-5 h-5 text-primary"}),"Transaction Timeline"]})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-4",children:[i.inspectionDate&&t.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[t.jsx(be,{className:"w-5 h-5 text-blue-600 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-blue-900",children:"Property Inspection"}),t.jsxs("p",{className:"text-sm text-blue-700",children:[le(i.inspectionDate),i.inspectionTime&&` at ${i.inspectionTime}`]})]})]}),i.closingDate&&t.jsxs("div",{className:"flex items-start gap-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[t.jsx(be,{className:"w-5 h-5 text-green-600 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-green-900",children:"Closing Date"}),t.jsx("p",{className:"text-sm text-green-700",children:le(i.closingDate)})]})]}),!i.inspectionDate&&!i.closingDate&&t.jsxs(ce,{children:[t.jsx(Zo,{className:"h-4 w-4"}),t.jsx(de,{children:"No timeline dates have been set. Complete the property details form to add inspection and closing dates."})]})]})})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(hn,{className:"w-5 h-5 text-primary"}),"Contact Information"]})}),t.jsx(U,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-3",children:"Buyer Information"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Name:"}),t.jsx("p",{className:"font-medium",children:i.buyerName||"Not provided"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Email:"}),t.jsx("p",{className:"font-medium",children:i.buyerEmail||"Not provided"})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-3",children:"Professional Team"}),t.jsxs("div",{className:"space-y-3 text-sm",children:[i.agentName&&t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Real Estate Agent:"}),t.jsx("p",{className:"font-medium",children:i.agentName}),i.agentPhone&&t.jsx("p",{className:"text-muted-foreground",children:i.agentPhone})]}),i.lenderName&&t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Lender:"}),t.jsx("p",{className:"font-medium",children:i.lenderName}),i.lenderPhone&&t.jsx("p",{className:"text-muted-foreground",children:i.lenderPhone})]}),!i.agentName&&!i.lenderName&&t.jsx("p",{className:"text-muted-foreground italic",children:"No professional team members added yet"})]})]})]})})]})]}),t.jsxs(ke,{value:"property-data",className:"space-y-6 mt-6",children:[A?t.jsxs(ce,{children:[t.jsx(Xs,{className:"h-4 w-4 text-green-600"}),t.jsx(de,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{children:[t.jsx("strong",{children:"Auto-Testing Property:"})," ",J," - All ATTOM API endpoints are automatically tested."]}),t.jsxs($,{onClick:W,variant:"outline",size:"sm",disabled:w,children:[w?t.jsx(ft,{className:"w-4 h-4 animate-spin mr-2"}):t.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Refresh All"]})]})})]}):t.jsxs(ce,{className:"border-amber-200 bg-amber-50",children:[t.jsx(it,{className:"h-4 w-4 text-amber-600"}),t.jsxs(de,{children:[t.jsx("strong",{children:"No Property Address Found:"})," Please complete your property setup to enable automatic API testing."]})]}),x&&t.jsxs(ce,{className:"border-red-200 bg-red-50",children:[t.jsx(cs,{className:"h-4 w-4 text-red-600"}),t.jsxs(de,{children:[t.jsx("strong",{children:"API Authentication Issue:"})," The ATTOM API key appears to be invalid or expired. Please check your API configuration."]})]}),Object.keys(v).length>0&&t.jsx("div",{className:"space-y-6",children:t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Ts,{className:"w-5 h-5 text-primary"}),"All ATTOM API Results",t.jsxs(K,{variant:"outline",className:"ml-auto",children:[Ee,"/",Fe," Complete"]})]})}),t.jsxs(U,{children:[w&&t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[t.jsx("span",{children:"Loading all property data..."}),t.jsxs("span",{children:[Math.round(C),"%"]})]}),t.jsx(Sa,{value:C,className:"w-full"})]}),t.jsx("div",{className:"space-y-6",children:_.map(B=>{var ae;const Q=v[B.id];return Q?t.jsxs("div",{className:"border rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[B.icon,t.jsx("h4",{className:"font-medium",children:B.name}),Q.isLoading?t.jsxs(K,{variant:"outline",children:[t.jsx(ft,{className:"w-3 h-3 animate-spin mr-1"}),"Loading..."]}):(ae=Q.response)!=null&&ae.success?t.jsx(K,{variant:"default",children:"Success"}):t.jsx(K,{variant:"destructive",children:"Error"})]}),Q.response&&t.jsxs("div",{className:"flex gap-2",children:[t.jsx($,{onClick:()=>se(B.id),variant:"outline",size:"sm",children:g[B.id]?"Show Formatted":"Show Raw JSON"}),t.jsxs($,{onClick:()=>L(JSON.stringify(Q.response,null,2)),variant:"outline",size:"sm",children:[t.jsx(ht,{className:"w-4 h-4 mr-1"}),"Copy"]})]})]}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:B.description}),Q.isLoading&&t.jsxs("div",{className:"flex items-center justify-center py-8",children:[t.jsx(ft,{className:"w-6 h-6 animate-spin mr-2"}),t.jsxs("span",{children:["Testing ",B.name,"..."]})]}),Q.error&&!Q.response&&t.jsxs(ce,{className:"border-red-200 bg-red-50",children:[t.jsx(it,{className:"h-4 w-4 text-red-600"}),t.jsxs(de,{children:[t.jsx("strong",{children:"Error:"})," ",Q.error]})]}),Q.response&&t.jsx("div",{children:g[B.id]?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(X,{className:"text-sm font-medium",children:"Request URL"}),t.jsx(Ui,{value:Q.response.url||"N/A",readOnly:!0,className:"text-xs font-mono mt-1",rows:2})]}),t.jsxs("div",{children:[t.jsx(X,{className:"text-sm font-medium",children:"Response Data"}),t.jsx(Ui,{value:JSON.stringify(Q.response.data||Q.response.error||{},null,2),readOnly:!0,className:"text-xs font-mono mt-1",rows:10})]})]}):t.jsx(aO,{response:Q.response,endpointName:B.name})})]},B.id):null})})]})]})}),t.jsx(zt,{}),t.jsx(RN,{propertyAddress:A,onPropertyFound:B=>{console.log("ATTOM property data received in overview:",B)}}),t.jsx(K5,{defaultAttomId:"184713191",defaultAddress:A,className:"mb-6",onPropertyFound:B=>{console.log("Comprehensive property data received:",B)}}),t.jsx(G5,{defaultAttomId:"184713191",className:"mb-6"}),A&&R&&t.jsx(Y5,{property:R,isLoading:M,onRefresh:()=>E(A),onNavigate:r}),A&&!R&&!M&&t.jsxs(ce,{children:[t.jsx(Ct,{className:"h-4 w-4"}),t.jsx(de,{children:"No ATTOM property data available for this address. The property may not be in the ATTOM database."})]})]}),t.jsxs(ke,{value:"analysis",className:"space-y-6 mt-6",children:[t.jsxs(ce,{children:[t.jsx(xr,{className:"h-4 w-4"}),t.jsx(de,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Generate comprehensive property analysis reports using ATTOM data."}),t.jsxs("div",{className:"flex gap-2",children:[r&&R&&t.jsxs($,{onClick:()=>r("property-report"),size:"sm",children:[t.jsx(xr,{className:"w-4 h-4 mr-2"}),"Generate Report"]}),r&&t.jsxs($,{onClick:()=>r("comprehensive-analysis"),variant:"outline",size:"sm",children:[t.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Comprehensive Analysis"]})]})]})})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Xs,{className:"w-5 h-5 text-primary"}),"Quick Analysis Actions"]})}),t.jsx(U,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs($,{variant:"outline",className:"flex items-center gap-2 h-auto p-4 justify-start",children:[t.jsx(Ls,{className:"w-5 h-5 text-primary"}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:"font-medium",children:"Market Analysis"}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Compare local market trends"})]})]}),t.jsxs($,{variant:"outline",className:"flex items-center gap-2 h-auto p-4 justify-start",children:[t.jsx(Hr,{className:"w-5 h-5 text-primary"}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:"font-medium",children:"Value Assessment"}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Get property valuation insights"})]})]}),t.jsxs($,{variant:"outline",className:"flex items-center gap-2 h-auto p-4 justify-start",children:[t.jsx(Qt,{className:"w-5 h-5 text-primary"}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:"font-medium",children:"Property Report"}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Detailed property information"})]})]})]})})]})]})]})})]}),!d&&t.jsxs(ce,{children:[t.jsx(it,{className:"h-4 w-4"}),t.jsx(de,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Complete your property setup to access all features and get the most accurate property data."}),t.jsxs($,{size:"sm",variant:"outline",onClick:a,children:[t.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Continue Setup"]})]})})]}),(a||n)&&t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Sr,{className:"w-5 h-5 text-primary"}),"Property Management"]})}),t.jsx(U,{children:t.jsxs("div",{className:"flex flex-wrap gap-3",children:[a&&t.jsxs($,{onClick:a,variant:"outline",children:[t.jsx(Qt,{className:"w-4 h-4 mr-2"}),"Edit Property Details"]}),n&&t.jsxs($,{onClick:n,variant:"destructive",children:[t.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Start Over"]}),r&&t.jsxs($,{onClick:()=>r("overview"),variant:"default",children:[t.jsx(We,{className:"w-4 h-4 mr-2"}),"Go to Dashboard"]}),t.jsxs($,{onClick:()=>p("property-data"),variant:"secondary",children:[t.jsx(Ds,{className:"w-4 h-4 mr-2"}),"View Property Data & API Results"]})]})})]})]})}function QO({onNavigateToProperty:e,currentPage:s}){const{getCompletionStatus:r}=Vd(),n=r(),a=i=>{if(!i||typeof i!="string")return"Page";switch(i){case"overview":return"Dashboard";case"tasks":return"Tasks";case"documents":return"Documents";case"team":return"Team";case"financing":return"Financing";case"legal":return"Legal";case"inspections":return"Inspections";case"insurance":return"Insurance";case"communications":return"Communications";case"resources":return"Resources";default:return i.charAt(0).toUpperCase()+i.slice(1)}};return t.jsx("div",{className:"w-full h-full min-h-screen bg-background flex items-center justify-center p-4",children:t.jsxs(F,{className:"w-full max-w-2xl mx-auto shadow-lg",children:[t.jsxs(q,{className:"text-center space-y-4",children:[t.jsx("div",{className:"mx-auto w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:t.jsx(We,{className:"w-8 h-8 text-primary"})}),t.jsxs("div",{children:[t.jsx(Y,{className:"text-2xl mb-2",children:"Complete Your Property Details First"}),t.jsxs(Ie,{className:"text-lg",children:["To access the ",a(s)," section, please complete your property questionnaire."]})]})]}),t.jsxs(U,{className:"space-y-6",children:[t.jsxs(ce,{className:"border-amber-200 bg-amber-50",children:[t.jsx(it,{className:"h-4 w-4 text-amber-600"}),t.jsx(O5,{className:"text-amber-800",children:"Property Information Required"}),t.jsx(de,{className:"text-amber-700",children:"Your property details help us customize your dashboard, generate relevant tasks, and provide personalized guidance throughout your real estate transaction."})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Current Progress"}),t.jsxs(K,{variant:n.completed?"default":"secondary",children:[Math.round(n.percentage),"% Complete"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-4",children:t.jsx("div",{className:"bg-primary h-2.5 rounded-full transition-all duration-300",style:{width:`${n.percentage}%`}})}),n.missingFields.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Missing Information:"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.missingFields.slice(0,6).map((i,o)=>t.jsx(K,{variant:"outline",className:"text-xs",children:i},o)),n.missingFields.length>6&&t.jsxs(K,{variant:"outline",className:"text-xs",children:["+",n.missingFields.length-6," more"]})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"What you can access after completion:"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[t.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[t.jsx(be,{className:"w-4 h-4 text-green-500"}),t.jsx("span",{children:"Personalized Dashboard"})]}),t.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[t.jsx(be,{className:"w-4 h-4 text-green-500"}),t.jsx("span",{children:"Customized Task List"})]}),t.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[t.jsx(be,{className:"w-4 h-4 text-green-500"}),t.jsx("span",{children:"Timeline Tracking"})]}),t.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[t.jsx(be,{className:"w-4 h-4 text-green-500"}),t.jsx("span",{children:"Progress Monitoring"})]})]})]}),t.jsx("div",{className:"pt-4",children:t.jsxs($,{onClick:e,size:"lg",className:"w-full bg-primary hover:bg-primary/90 text-white shadow-md hover:shadow-lg transition-all",children:["Complete Property Details",t.jsx(Il,{className:"w-5 h-5 ml-2"})]})}),t.jsx("p",{className:"text-center text-sm text-gray-500",children:"This usually takes 5-10 minutes to complete"})]})]})})}function XO({userProfile:e,setupData:s,onNavigate:r}){const[n,a]=m.useState(!1),[i,o]=m.useState(!1),[l,c]=m.useState(!1);ms(),m.useEffect(()=>{(()=>{try{const j=localStorage.getItem("handoff-setup-edit-mode")==="true";if(c(j),j){a(!1);return}const v=localStorage.getItem("handoff-initial-setup-complete")==="true",b=localStorage.getItem("handoff-questionnaire-complete")==="true",g=localStorage.getItem("handoff-screening-data");if(v&&b){a(!0);return}if(g)try{const y=JSON.parse(g);if(y.buyingStage==="under-contract"&&y.contractSigned&&y.propertyAddress&&v){a(!0);return}if(y.nextAction==="focus-property"&&y.propertyAddress&&v){a(!0);return}}catch(y){console.warn("Error parsing screening data:",y)}a(!1)}catch(j){console.warn("Error checking setup status:",j),a(!1)}})()},[]);const d=()=>{localStorage.removeItem("handoff-setup-edit-mode"),c(!1),a(!0),l||(o(!0),setTimeout(()=>{o(!1)},3e3))},u=()=>{confirm("Are you sure you want to start over? This will clear all your setup data and you'll need to begin again.")&&(localStorage.removeItem("handoff-initial-setup-complete"),localStorage.removeItem("handoff-questionnaire-complete"),localStorage.removeItem("handoff-questionnaire-responses"),localStorage.removeItem("handoff-screening-data"),localStorage.removeItem("handoff-property-data"),localStorage.removeItem("handoff-initial-setup-data"),localStorage.removeItem("handoff-setup-edit-mode"),a(!1),o(!1),c(!1))},f=()=>{localStorage.setItem("handoff-setup-edit-mode","true"),c(!0),a(!1)},p=()=>{localStorage.removeItem("handoff-setup-edit-mode"),c(!1);const h=localStorage.getItem("handoff-initial-setup-complete")==="true",j=localStorage.getItem("handoff-questionnaire-complete")==="true";h&&j&&a(!0)};return i&&!l?t.jsx(QO,{onDismiss:()=>o(!1),onNavigateToDashboard:()=>r==null?void 0:r("overview"),onNavigateToTasks:()=>r==null?void 0:r("tasks")}):!n||l?t.jsx(R5,{onComplete:d,isEditMode:l,onExitEditMode:p}):t.jsx(JO,{userProfile:e,setupData:s,onNavigate:r,onStartOver:u,onEditSetup:f})}const hm=[{id:"pre-approval",title:"Pre-Approval",description:"Get pre-approved for financing",icon:ls,status:"pending"},{id:"house-hunting",title:"House Hunting",description:"Find your perfect home",icon:We,status:"pending"},{id:"under-contract",title:"Under Contract",description:"Offer accepted, moving toward closing",icon:Qt,status:"pending"},{id:"inspections",title:"Inspections",description:"Complete property inspections",icon:it,status:"pending"},{id:"closing",title:"Closing",description:"Finalize the purchase",icon:be,status:"pending"}],fm={"pre-approval":{timeline:"1-3 days",tasks:["Submit financial documents","Credit check and verification","Receive pre-approval letter"],tips:"Gather income statements, tax returns, and bank statements to speed up the process."},"house-hunting":{timeline:"2-8 weeks",tasks:["Define your criteria and budget","Schedule property viewings","Research neighborhoods"],tips:"Make a list of must-haves vs. nice-to-haves to stay focused during your search."},"under-contract":{timeline:"30-45 days",tasks:["Sign purchase agreement","Submit financing application","Schedule inspections"],tips:"Stay responsive to requests from your lender and real estate agent to avoid delays."},inspections:{timeline:"7-14 days",tasks:["Complete home inspection","Review inspection report","Negotiate repairs if needed"],tips:"Attend the inspection if possible to ask questions and understand any issues firsthand."},closing:{timeline:"1-3 days",tasks:["Final walkthrough","Review closing documents","Transfer funds and sign papers"],tips:"Bring a certified check for closing costs and a valid ID. Review all documents carefully."}};function _y({setupData:e}){var g;const s=ms(),{propertyData:r}=Vd(),{getTotalTasksCount:n,getTotalDueTasks:a,getTasksByCategory:i}=__(),[o,l]=m.useState("pre-approval"),[c,d]=m.useState(fm["pre-approval"]);m.useEffect(()=>{const y=localStorage.getItem("handoff-questionnaire-complete")==="true",x=localStorage.getItem("handoff-pre-questionnaire");let S="pre-approval";if(x)try{const w=JSON.parse(x);w.hasExistingHome&&w.isUnderContract?S="under-contract":(w.hasExistingHome||y)&&(S="house-hunting")}catch(w){console.warn("Error parsing pre-questionnaire data:",w)}l(S),d(fm[S])},[r]);const u=hm.map(y=>y.id===o?{...y,status:"current"}:hm.findIndex(x=>x.id===y.id)<hm.findIndex(x=>x.id===o)?{...y,status:"completed"}:{...y,status:"pending"}),f=y=>{d(fm[y])},p=y=>{switch(y){case"completed":return"bg-green-100 text-green-800 border-green-200";case"current":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-600 border-gray-200"}},h=y=>{switch(y){case"completed":return"text-green-600";case"current":return"text-blue-600";default:return"text-gray-400"}},j=n(),v=a(),b=j>0?Math.round((j-v)/j*100):0;return t.jsxs("div",{className:"space-y-6 p-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("h1",{className:`${s?"text-2xl":"text-3xl"} font-semibold`,children:["Welcome back, ",(e==null?void 0:e.buyerName)||"there","!"]}),t.jsx("p",{className:"text-muted-foreground",children:"Here's an overview of your home buying progress and upcoming tasks."})]}),t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(We,{className:"w-5 h-5"}),"Your Home Buying Journey"]}),t.jsx(Ie,{children:"Track your progress through each stage of the home buying process"})]}),t.jsxs(U,{className:"space-y-6",children:[t.jsx("div",{className:"relative",children:t.jsx("div",{className:`flex ${s?"flex-col space-y-4":"items-center justify-between"}`,children:u.map((y,x)=>{const S=y.icon,w=x===u.length-1;return t.jsxs("div",{className:`flex ${s?"w-full":"flex-col"} items-center ${s?"flex-row":""}`,children:[t.jsxs("button",{onClick:()=>f(y.id),className:`
                        flex ${s?"flex-row w-full":"flex-col"} items-center 
                        ${s?"p-3 rounded-lg":"p-2"} gap-2 
                        transition-all duration-200 hover:scale-105
                        ${y.status==="current"?"ring-2 ring-blue-200":""}
                      `,children:[t.jsx("div",{className:`
                        w-12 h-12 rounded-full border-2 flex items-center justify-center
                        ${p(y.status)} transition-all duration-200
                        ${s?"flex-shrink-0":""}
                      `,children:t.jsx(S,{className:`w-5 h-5 ${h(y.status)}`})}),t.jsxs("div",{className:`${s?"flex-1 text-left ml-2":"text-center mt-2"}`,children:[t.jsx("div",{className:`font-medium ${s?"text-sm":"text-xs"}`,children:y.title}),t.jsx("div",{className:`text-xs text-muted-foreground ${s?"hidden":"block"}`,children:y.description})]}),y.status==="current"&&t.jsx(K,{variant:"default",className:`${s?"ml-auto":"mt-1"} text-xs`,children:"Current"}),y.status==="completed"&&t.jsx(be,{className:`w-4 h-4 text-green-600 ${s?"ml-auto":"mt-1"}`})]}),!w&&t.jsx("div",{className:`${s?"hidden":"flex"} items-center mx-4`,children:t.jsxs("div",{className:`progress-arrow ${y.status==="completed"?"progress-arrow-completed":"progress-arrow-pending"}`,children:[t.jsx("div",{className:"progress-arrow-line"}),t.jsx("div",{className:"progress-arrow-head"})]})})]},y.id)})})}),t.jsxs("div",{className:"border-t pt-6",children:[t.jsxs("h3",{className:"font-semibold mb-4",children:["What to Expect: ",(g=u.find(y=>y.id===o))==null?void 0:g.title]}),t.jsxs("div",{className:`grid ${s?"grid-cols-1":"grid-cols-1 md:grid-cols-3"} gap-4`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx(Zo,{className:"w-4 h-4 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-sm",children:"Timeline"}),t.jsx("div",{className:"text-sm text-muted-foreground",children:c.timeline})]})]}),t.jsxs("div",{className:`${s?"col-span-1":"col-span-2"}`,children:[t.jsx("div",{className:"font-medium text-sm mb-2",children:"Key Tasks"}),t.jsx("ul",{className:"space-y-1",children:c.tasks.map((y,x)=>t.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[t.jsx("div",{className:"w-1 h-1 bg-muted-foreground rounded-full mt-2 flex-shrink-0"}),y]},x))})]})]}),t.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[t.jsx("div",{className:"font-medium text-sm text-blue-900 mb-1",children:" Pro Tip"}),t.jsx("div",{className:"text-sm text-blue-800",children:c.tips})]})]})]})]}),(r==null?void 0:r.address)&&t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(We,{className:"w-5 h-5"}),"Property Information"]})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:"Address"}),t.jsx("div",{className:"font-medium",children:r.address})]}),r.purchasePrice&&t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:"Purchase Price"}),t.jsxs("div",{className:"font-medium",children:["$",r.purchasePrice.toLocaleString()]})]}),r.mustHaveFeatures&&r.mustHaveFeatures.length>0&&t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Must-Have Features"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.mustHaveFeatures.slice(0,5).map((y,x)=>t.jsx(K,{variant:"secondary",children:y},x)),r.mustHaveFeatures.length>5&&t.jsxs(K,{variant:"outline",children:["+",r.mustHaveFeatures.length-5," more"]})]})]})]})})]}),t.jsxs("div",{className:`grid ${s?"grid-cols-1":"grid-cols-1 md:grid-cols-2"} gap-6`,children:[t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Qt,{className:"w-5 h-5"}),"Task Overview"]})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Overall Progress"}),t.jsxs("span",{className:"text-sm font-medium",children:[b,"%"]})]}),t.jsx(Sa,{value:b,className:"h-2"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-semibold text-blue-600",children:j-v}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-semibold text-orange-600",children:v}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Remaining"})]})]})]})})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(fn,{className:"w-5 h-5"}),"Your Team"]})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"text-sm text-muted-foreground mb-3",children:"Build your team of professionals to help with your purchase"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm",children:"Real Estate Agent"}),t.jsx(K,{variant:"secondary",children:"Added"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm",children:"Lender"}),t.jsx(K,{variant:"outline",children:"Add"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm",children:"Inspector"}),t.jsx(K,{variant:"outline",children:"Add"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm",children:"Attorney"}),t.jsx(K,{variant:"outline",children:"Add"})]})]}),t.jsx($,{variant:"outline",size:"sm",className:"w-full mt-3",children:"Manage Team"})]})})]})]}),t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsx(Y,{children:"Quick Actions"}),t.jsx(Ie,{children:"Common tasks for your current stage"})]}),t.jsx(U,{children:t.jsxs("div",{className:`grid ${s?"grid-cols-1":"grid-cols-2 md:grid-cols-4"} gap-3`,children:[t.jsxs($,{variant:"outline",className:"justify-start",children:[t.jsx(Qt,{className:"w-4 h-4 mr-2"}),"View Tasks"]}),t.jsxs($,{variant:"outline",className:"justify-start",children:[t.jsx(ls,{className:"w-4 h-4 mr-2"}),"Calculate Mortgage"]}),t.jsxs($,{variant:"outline",className:"justify-start",children:[t.jsx(We,{className:"w-4 h-4 mr-2"}),"Property Details"]}),t.jsxs($,{variant:"outline",className:"justify-start",children:[t.jsx(fn,{className:"w-4 h-4 mr-2"}),"Contact Team"]})]})})]})]})}const ZO=Z.lazy(()=>Mt(()=>import("./Tasks-00a92048.js"),["assets/Tasks-00a92048.js","assets/collapsible-e2de37aa.js"])),eR=Z.lazy(()=>Mt(()=>import("./Documents-7edc0a09.js"),["assets/Documents-7edc0a09.js","assets/dialog-7c230eb7.js","assets/upload-78f6894e.js","assets/funnel-3018b61c.js","assets/download-593282f1.js"])),tR=Z.lazy(()=>Mt(()=>import("./Resources-df26746c.js"),["assets/Resources-df26746c.js","assets/download-593282f1.js"])),sR=Z.lazy(()=>Mt(()=>import("./MyTeam-7e405cf2.js"),["assets/MyTeam-7e405cf2.js","assets/dialog-7c230eb7.js","assets/phone-fec17310.js"])),rR=Z.lazy(()=>Mt(()=>import("./Legal-5a7138a5.js"),["assets/Legal-5a7138a5.js","assets/collapsible-e2de37aa.js","assets/phone-fec17310.js","assets/upload-78f6894e.js","assets/download-593282f1.js","assets/circle-question-mark-3c8c9f33.js"])),nR=Z.lazy(()=>Mt(()=>import("./Inspections-4d2126ee.js"),["assets/Inspections-4d2126ee.js","assets/dialog-7c230eb7.js","assets/funnel-3018b61c.js","assets/phone-fec17310.js","assets/camera-2a638d1d.js"])),aR=Z.lazy(()=>Mt(()=>import("./Insurance-c6e1fbe3.js"),["assets/Insurance-c6e1fbe3.js","assets/dialog-7c230eb7.js","assets/funnel-3018b61c.js","assets/phone-fec17310.js"])),iR=Z.lazy(()=>Mt(()=>import("./Communications-a0a9184d.js"),["assets/Communications-a0a9184d.js","assets/dialog-7c230eb7.js","assets/funnel-3018b61c.js","assets/phone-fec17310.js"])),oR=Z.lazy(()=>Mt(()=>import("./Settings-15f380b2.js"),["assets/Settings-15f380b2.js","assets/switch-4ecee9f7.js","assets/circle-question-mark-3c8c9f33.js","assets/phone-fec17310.js"])),lR=Z.lazy(async()=>({default:(await Mt(()=>Promise.resolve().then(()=>yR),void 0)).AddressValidationDemo})),cR=Z.lazy(async()=>({default:(await Mt(()=>import("./MLSIntegrationDemo-66c015aa.js"),["assets/MLSIntegrationDemo-66c015aa.js","assets/camera-2a638d1d.js","assets/share-2-8181a5a2.js","assets/phone-fec17310.js"])).MLSIntegrationDemo})),dR=Z.lazy(async()=>({default:(await Mt(()=>Promise.resolve().then(()=>fD),void 0)).DevTools})),uR=Z.lazy(async()=>({default:(await Mt(()=>Promise.resolve().then(()=>b5),void 0)).PropertyAnalysisReport})),mR=Z.lazy(async()=>({default:(await Mt(()=>import("./ComprehensivePropertyAnalysis-ee2637f6.js"),["assets/ComprehensivePropertyAnalysis-ee2637f6.js","assets/download-593282f1.js","assets/share-2-8181a5a2.js"])).ComprehensivePropertyAnalysis})),hR=Z.lazy(async()=>({default:(await Mt(()=>import("./AttomApiConfigurationTool-979941aa.js"),["assets/AttomApiConfigurationTool-979941aa.js","assets/switch-4ecee9f7.js","assets/download-593282f1.js","assets/upload-78f6894e.js"])).AttomApiConfigurationTool})),hs=()=>t.jsx("div",{className:"flex items-center justify-center p-8",children:t.jsx("div",{className:"w-8 h-8 border-4 border-primary/20 border-t-primary rounded-full animate-spin"})});function Ay({currentPage:e,onNavigate:s,userProfile:r,setupData:n,onSignOut:a,isPropertySetupComplete:i}){const o=()=>{switch(e){case"overview":return t.jsx(_y,{setupData:n});case"property":return t.jsx(XO,{});case"tasks":return t.jsx(m.Suspense,{fallback:t.jsx(hs,{}),children:t.jsx(ZO,{})});case"documents":return t.jsx(m.Suspense,{fallback:t.jsx(hs,{}),children:t.jsx(eR,{})});case"resources":return t.jsx(m.Suspense,{fallback:t.jsx(hs,{}),children:t.jsx(tR,{})});case"team":return t.jsx(m.Suspense,{fallback:t.jsx(hs,{}),children:t.jsx(sR,{})});case"legal":return t.jsx(m.Suspense,{fallback:t.jsx(hs,{}),children:t.jsx(rR,{})});case"inspections":return t.jsx(m.Suspense,{fallback:t.jsx(hs,{}),children:t.jsx(nR,{})});case"insurance":return t.jsx(m.Suspense,{fallback:t.jsx(hs,{}),children:t.jsx(aR,{})});case"communications":return t.jsx(m.Suspense,{fallback:t.jsx(hs,{}),children:t.jsx(iR,{})});case"settings":return t.jsx(m.Suspense,{fallback:t.jsx(hs,{}),children:t.jsx(oR,{userProfile:r,setupData:n,onSignOut:a})});case"address-demo":return t.jsx(m.Suspense,{fallback:t.jsx(hs,{}),children:t.jsx(lR,{})});case"mls-demo":return t.jsx(m.Suspense,{fallback:t.jsx(hs,{}),children:t.jsx(cR,{})});case"dev-tools":return t.jsx(m.Suspense,{fallback:t.jsx(hs,{}),children:t.jsx(dR,{onNavigate:s})});case"property-report":return t.jsx(m.Suspense,{fallback:t.jsx(hs,{}),children:t.jsx(uR,{onClose:()=>s("property")})});case"comprehensive-analysis":return t.jsx(m.Suspense,{fallback:t.jsx(hs,{}),children:t.jsx(mR,{onNavigate:s})});case"attom-api-config":return t.jsx(m.Suspense,{fallback:t.jsx(hs,{}),children:t.jsx(hR,{})});default:return t.jsx(_y,{setupData:n})}};return t.jsx("div",{className:"w-full h-full",children:o()})}function fR({modes:e,authStatusMessage:s,isGuestMode:r,isLoading:n,onSignOut:a,onNavigateToDevTools:i}){return t.jsxs(t.Fragment,{children:[r&&t.jsx("div",{className:"bg-blue-600 text-white text-center py-2 px-4 text-sm",children:t.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("span",{children:s}),!n&&t.jsx("button",{onClick:a,className:"ml-4 underline hover:no-underline text-sm",children:"Create Account"})]})}),e.isDevMode&&t.jsx("div",{className:"bg-orange-600 text-white text-center py-2 px-4 text-sm",children:t.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})}),t.jsx("span",{children:"Developer Mode Active"}),t.jsx("button",{onClick:i,className:"ml-4 underline hover:no-underline text-sm",children:"Open Dev Tools"})]})}),e.isApiKeyManagerMode&&t.jsx("div",{className:"bg-purple-600 text-white text-center py-2 px-4 text-sm",children:t.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1721 9z"})}),t.jsx("span",{children:"API Key Manager - Configure and Validate API Keys"})]})}),e.isAttomDebugMode&&t.jsx("div",{className:"bg-purple-600 text-white text-center py-2 px-4 text-sm",children:t.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),t.jsx("span",{children:"Debug Mode Active - Attom API Testing Tool"})]})}),e.isAttomTestMode&&t.jsx("div",{className:"bg-green-600 text-white text-center py-2 px-4 text-sm",children:t.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("span",{children:"Attom API Test Tool - Comprehensive Testing & Debugging"})]})}),e.isAuthDebugMode&&t.jsx("div",{className:"bg-red-600 text-white text-center py-2 px-4 text-sm",children:t.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),t.jsx("span",{children:"Authentication Debug Panel - Diagnose Auth Issues"})]})}),e.isAttomAdminMode&&t.jsx("div",{className:"bg-violet-600 text-white text-center py-2 px-4 text-sm",children:t.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-center gap-2",children:[t.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),t.jsx("span",{children:"Attom API Admin Panel - Configure Endpoints & Parameters"})]})}),e.isAttomAdminDiagnosticMode&&t.jsx("div",{className:"bg-emerald-600 text-white text-center py-2 px-4 text-sm",children:t.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("span",{children:"Attom Admin Diagnostic Tool - Troubleshoot Property-Basic Endpoint"})]})}),e.isApiKeyValidatorMode&&t.jsx("div",{className:"bg-amber-600 text-white text-center py-2 px-4 text-sm",children:t.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1721 9z"})}),t.jsx("span",{children:"ATTOM API Key Validator - Diagnose Authentication Issues"})]})}),e.isAttomSearchDiagnosticMode&&t.jsx("div",{className:"bg-cyan-600 text-white text-center py-2 px-4 text-sm",children:t.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),t.jsx("span",{children:"ATTOM Search Diagnostic - Troubleshoot Address Search Failures"})]})}),e.isAttomApiFixSummaryMode&&t.jsx("div",{className:"bg-green-600 text-white text-center py-2 px-4 text-sm",children:t.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("span",{children:"ATTOM API Fix Summary - Review All Applied Fixes"})]})}),e.isAttomEndpointAccessMode&&t.jsx("div",{className:"bg-blue-600 text-white text-center py-2 px-4 text-sm",children:t.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1721 9z"})}),t.jsx("span",{children:"ATTOM Endpoint Access Diagnostic - Test API Key Permissions & Subscription Limits"})]})}),e.isAttomOfficialTesterMode&&t.jsx("div",{className:"bg-green-600 text-white text-center py-2 px-4 text-sm",children:t.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}),t.jsx("span",{children:"ATTOM Official API Tester - Compare Current vs Official Implementation Patterns"})]})}),e.isAttomApiKeySetupMode&&t.jsx("div",{className:"bg-yellow-600 text-white text-center py-2 px-4 text-sm",children:t.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1721 9z"})}),t.jsx("span",{children:"ATTOM API Key Setup - Get New API Key & Fix Authentication Issues"})]})}),e.isPropertyFieldMappingMode&&t.jsx("div",{className:"bg-blue-600 text-white text-center py-2 px-4 text-sm",children:t.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),t.jsx("span",{children:"Property Field Mapping Configuration - Map ATTOM API Data to Property Overview Fields"})]})}),e.isDevMode&&t.jsx("div",{className:"bg-amber-100 dark:bg-amber-900 border-b border-amber-200 dark:border-amber-800 text-amber-800 dark:text-amber-200 text-center py-2 px-4 text-sm",children:t.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-center gap-2",children:[t.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),t.jsxs("span",{children:[" ",t.jsx("strong",{children:"Dev Notice:"})," Address autocomplete will fall back to manual entry if Google Places API is not configured."]}),t.jsx("a",{href:"?api-key-manager=true",className:"ml-2 underline hover:no-underline",children:"Configure API Keys"})]})})]})}function pR(){const[e,s]=m.useState(null),[r,n]=m.useState({}),[a,i]=m.useState(!1),[o,l]=m.useState(""),c=()=>{const h={timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href,localStorage:{},sessionStorage:{},cookies:document.cookie};try{for(let j=0;j<localStorage.length;j++){const v=localStorage.key(j);if(v){const b=localStorage.getItem(v);if(v.includes("handoff")||v.includes("auth"))try{h.localStorage[v]=JSON.parse(b||"")}catch{h.localStorage[v]=b}}}}catch{h.localStorage.error="Unable to access localStorage"}try{for(let j=0;j<sessionStorage.length;j++){const v=sessionStorage.key(j);if(v){const b=sessionStorage.getItem(v);if(v.includes("handoff")||v.includes("auth"))try{h.sessionStorage[v]=JSON.parse(b||"")}catch{h.sessionStorage[v]=b}}}}catch{h.sessionStorage.error="Unable to access sessionStorage"}s(h)},d=async(h,j,v={})=>{const b=`https://${De}.supabase.co/functions/v1/make-server-a24396d5/${j}`;try{console.log(`Testing endpoint: ${h} - ${v.method||"GET"} ${b}`);const g=await fetch(b,{method:v.method||"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Te}`,...v.headers},body:v.body}),y={};g.headers.forEach((k,C)=>{y[C]=k});let x,S,w="";try{w=await g.text(),w.trim()?x=JSON.parse(w):x={empty:!0}}catch(k){S=`JSON parse error: ${k}`,x={parseError:!0,responseText:w.substring(0,200),fullResponseLength:w.length}}return{status:g.status,statusText:g.statusText,data:x,error:S,headers:y,endpoint:b,method:v.method||"GET"}}catch(g){return console.error(`Test failed for ${h}:`,g),{status:0,statusText:"Network Error",error:g instanceof Error?g.message:"Unknown error",data:null,endpoint:b,method:v.method||"GET"}}},u=async()=>{i(!0);const h=[{name:"Health Check",endpoint:"health"},{name:"User Health",endpoint:"user/health"},{name:"User Debug",endpoint:"user/debug/userid",headers:{"X-User-ID":"test-user-id"}},{name:"Auth Signup Test",endpoint:"user/auth/signup",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"test@example.com",password:"testpassword123",fullName:"Test User"})},{name:"Auth Signin Test",endpoint:"user/auth/signin",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"test@example.com",password:"testpassword123"})},{name:"User Profile",endpoint:"user/profile",headers:{"X-User-ID":"test-user-id"}},{name:"Invalid Endpoint",endpoint:"this/does/not/exist"}],j={};for(const v of h)console.log(`Running test: ${v.name}`),j[v.name]=await d(v.name,v.endpoint,{method:v.method||"GET",headers:v.headers,body:v.body});n(j),i(!1),l(new Date().toISOString())};m.useEffect(()=>{c(),u()},[]);const f=h=>h===0?t.jsx(Ze,{className:"w-5 h-5 text-red-500"}):h>=200&&h<300?t.jsx(be,{className:"w-5 h-5 text-green-500"}):h>=400&&h<500?t.jsx(ze,{className:"w-5 h-5 text-yellow-500"}):t.jsx(Ze,{className:"w-5 h-5 text-red-500"}),p=h=>h===0?"destructive":h>=200&&h<300?"default":h>=400&&h<500?"secondary":"destructive";return t.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"text-center space-y-2",children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Authentication Debug Panel"}),t.jsx("p",{className:"text-muted-foreground",children:"Diagnose authentication and server connection issues"}),o&&t.jsxs(K,{variant:"outline",children:["Last updated: ",new Date(o).toLocaleTimeString()]}),t.jsxs(ce,{children:[t.jsx(Ct,{className:"w-4 h-4"}),t.jsx(de,{children:'This debug panel tests all authentication endpoints and displays detailed response information. Use this when experiencing login issues or "JSON parsing" errors.'})]})]}),t.jsxs("div",{className:"flex gap-4 justify-center",children:[t.jsxs($,{onClick:c,variant:"outline",children:[t.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Refresh Client Info"]}),t.jsxs($,{onClick:u,disabled:a,children:[t.jsx(Ye,{className:`w-4 h-4 mr-2 ${a?"animate-spin":""}`}),"Test Server"]})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Ct,{className:"w-5 h-5"}),"Server Connection Tests"]})}),t.jsxs(U,{className:"space-y-4",children:[Object.entries(r).map(([h,j])=>t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[f(j.status),t.jsx("span",{className:"font-medium",children:h})]}),t.jsx(K,{variant:p(j.status),children:j.status===0?"Failed":`${j.status} ${j.statusText||""}`})]}),j.endpoint&&t.jsxs("div",{className:"text-xs text-muted-foreground font-mono bg-muted rounded px-2 py-1",children:[j.method," ",j.endpoint]}),j.error&&t.jsxs(ce,{children:[t.jsx(ze,{className:"w-4 h-4"}),t.jsx(de,{children:j.error})]}),j.data&&t.jsx("div",{className:"bg-muted rounded-lg p-3",children:t.jsx("pre",{className:"text-xs overflow-auto max-h-32",children:JSON.stringify(j.data,null,2)})}),j.headers&&t.jsxs("details",{className:"text-xs",children:[t.jsx("summary",{className:"cursor-pointer text-muted-foreground",children:"Response Headers"}),t.jsx("div",{className:"bg-muted rounded-lg p-2 mt-1",children:t.jsx("pre",{children:JSON.stringify(j.headers,null,2)})})]}),t.jsx(zt,{})]},h)),Object.keys(r).length===0&&t.jsx("div",{className:"text-center text-muted-foreground py-8",children:'No server tests run yet. Click "Test Server" to start.'})]})]}),e&&t.jsxs(F,{children:[t.jsx(q,{children:t.jsx(Y,{children:"Client Debug Information"})}),t.jsxs(U,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Environment"}),t.jsxs("div",{className:"bg-muted rounded-lg p-3 space-y-1",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"URL:"})," ",e.url]}),t.jsxs("div",{children:[t.jsx("strong",{children:"User Agent:"})," ",e.userAgent]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Timestamp:"})," ",e.timestamp]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Local Storage"}),t.jsx("div",{className:"bg-muted rounded-lg p-3",children:t.jsx("pre",{className:"text-xs overflow-auto max-h-48",children:JSON.stringify(e.localStorage,null,2)})})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Session Storage"}),t.jsx("div",{className:"bg-muted rounded-lg p-3",children:t.jsx("pre",{className:"text-xs overflow-auto max-h-48",children:JSON.stringify(e.sessionStorage,null,2)})})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Cookies"}),t.jsx("div",{className:"bg-muted rounded-lg p-3",children:t.jsx("pre",{className:"text-xs overflow-auto max-h-32",children:e.cookies||"No cookies found"})})]})]})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsx(Y,{children:"Quick Actions"})}),t.jsxs(U,{className:"space-y-2",children:[t.jsx($,{variant:"outline",onClick:()=>{localStorage.clear(),sessionStorage.clear(),alert("Storage cleared! Please refresh the page.")},className:"w-full",children:"Clear All Storage"}),t.jsx($,{variant:"outline",onClick:()=>{Object.keys(localStorage).filter(j=>j.includes("handoff")||j.includes("auth")).forEach(j=>localStorage.removeItem(j)),alert("Auth storage cleared! Please refresh the page.")},className:"w-full",children:"Clear Auth Storage Only"}),t.jsx($,{variant:"outline",onClick:()=>{window.location.href=window.location.origin+"/?diagnostic=true"},className:"w-full",children:"Go to Full Diagnostic Mode"})]})]})]})}function xR(){const[e,s]=m.useState([]),[r,n]=m.useState(!1);m.useState("123 Main Street, San Francisco, CA");const[a,i]=m.useState(null),{query:o,setQuery:l,suggestions:c,isLoading:d,error:u,showSuggestions:f,setShowSuggestions:p,selectSuggestion:h,clearSuggestions:j,selectedAddress:v,fallbackMode:b,apiKeyValid:g}=sp({onAddressSelect:T=>{console.log("Address selected:",T)},debounceMs:300,debugMode:!0}),y=async(T,O)=>{const I=Date.now();try{const _=await O();return{test:T,status:"success",result:_,duration:Date.now()-I}}catch(_){return{test:T,status:"error",error:_ instanceof Error?_.message:String(_),duration:Date.now()-I}}},x=async()=>{const T=`https://${De}.supabase.co/functions/v1/make-server-a24396d5`,O=await fetch(`${T}/health`,{headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"}});if(!O.ok)throw new Error(`Server health check failed: ${O.status} ${O.statusText}`);return await O.json()},S=async()=>{const T=`https://${De}.supabase.co/functions/v1/make-server-a24396d5`,O=await fetch(`${T}/places/validate-key`,{headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"}});if(!O.ok)throw new Error(`API key validation failed: ${O.status} ${O.statusText}`);const I=await O.json();return i(I),I},w=async()=>{const T=`https://${De}.supabase.co/functions/v1/make-server-a24396d5`,O=new URLSearchParams({input:"San Francisco",country:"US",types:"address"}),I=await fetch(`${T}/places/autocomplete?${O}`,{headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"}});if(!I.ok){const _=await I.json().catch(()=>({error:"Unknown error"}));throw new Error(`Address autocomplete failed: ${I.status} - ${_.error||I.statusText}`)}return await I.json()},k=async()=>{const T=await w();if(!T.predictions||T.predictions.length===0)throw new Error("No predictions found for address details test");const O=T.predictions[0].place_id,I=`https://${De}.supabase.co/functions/v1/make-server-a24396d5`,_=new URLSearchParams({place_id:O}),A=await fetch(`${I}/places/details?${_}`,{headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"}});if(!A.ok){const R=await A.json().catch(()=>({error:"Unknown error"}));throw new Error(`Address details failed: ${A.status} - ${R.error||A.statusText}`)}return await A.json()},C=async()=>{n(!0),s([]);const T=[{name:"Server Connection",fn:x},{name:"API Key Validation",fn:S},{name:"Address Autocomplete",fn:w},{name:"Address Details",fn:k}],O=[];for(const I of T){const _=await y(I.name,I.fn);O.push(_),s([...O]),_.status==="error"&&console.error(`Test failed: ${I.name}`,_.error)}n(!1)},P=T=>{switch(T){case"success":return"bg-green-500";case"error":return"bg-red-500";case"loading":return"bg-yellow-500";default:return"bg-gray-500"}},N=T=>typeof T=="object"?JSON.stringify(T,null,2):String(T);return m.useEffect(()=>{C()},[]),t.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Google Places API Debug Tool"}),t.jsx("p",{className:"text-muted-foreground",children:"This tool helps diagnose Google Places API integration issues in your Handoff application."})]}),a&&t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:["API Key Status",t.jsx(K,{variant:a.valid?"default":"destructive",children:a.valid?"Valid":"Invalid"})]})}),t.jsxs(U,{children:[a.valid?t.jsx(ce,{children:t.jsx(de,{children:" Your Google Places API key is properly configured and working."})}):t.jsx(ce,{variant:"destructive",children:t.jsxs(de,{children:[" Google Places API key issue: ",a.error||"Unknown error",a.apiResponse&&t.jsxs("details",{className:"mt-2",children:[t.jsx("summary",{children:"API Response Details"}),t.jsx("pre",{className:"mt-2 text-xs bg-muted p-2 rounded overflow-auto",children:JSON.stringify(a.apiResponse,null,2)})]})]})}),a.fallbackAvailable&&t.jsxs("div",{className:"mt-2",children:[t.jsx(K,{variant:"outline",children:"Fallback Mode Available"}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manual address entry will work even without a valid API key."})]})]})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center justify-between",children:["API Test Results",t.jsx($,{onClick:C,disabled:r,variant:"outline",children:r?"Running Tests...":"Run Tests"})]})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-4",children:[e.length===0&&!r&&t.jsx("p",{className:"text-muted-foreground text-center py-4",children:'Click "Run Tests" to start API diagnostics'}),e.map((T,O)=>t.jsxs("div",{className:"border rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-3 h-3 rounded-full ${P(T.status)}`}),t.jsx("span",{className:"font-medium",children:T.test}),T.duration&&t.jsxs(K,{variant:"outline",children:[T.duration,"ms"]})]}),t.jsx(K,{variant:T.status==="success"?"default":"destructive",children:T.status})]}),T.error&&t.jsx(ce,{variant:"destructive",className:"mb-2",children:t.jsx(de,{children:T.error})}),T.result&&t.jsxs("details",{children:[t.jsx("summary",{className:"cursor-pointer text-sm text-muted-foreground hover:text-foreground",children:"View Result Data"}),t.jsx("pre",{className:"mt-2 text-xs bg-muted p-3 rounded overflow-auto max-h-64",children:N(T.result)})]})]},O)),r&&t.jsx("div",{className:"text-center py-4",children:t.jsxs("div",{className:"inline-flex items-center gap-2",children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),t.jsx("span",{children:"Running API tests..."})]})})]})})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsx(Y,{children:"Live Address Search Test"})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Re,{value:o,onChange:T=>l(T.target.value),placeholder:"Type an address to test autocomplete...",className:"flex-1"}),t.jsx($,{onClick:()=>p(!0),variant:"outline",children:"Search"}),t.jsx($,{onClick:j,variant:"outline",children:"Clear"})]}),t.jsxs("div",{className:"flex gap-2 flex-wrap",children:[t.jsx(K,{variant:b?"destructive":"default",children:b?"Fallback Mode":"API Mode"}),t.jsx(K,{variant:g===!0?"default":g===!1?"destructive":"outline",children:g===!0?"API Key Valid":g===!1?"API Key Invalid":"API Key Checking"}),d&&t.jsx(K,{variant:"outline",children:"Loading..."})]}),u&&t.jsx(ce,{variant:"destructive",children:t.jsx(de,{children:u})}),f&&c.length>0&&t.jsxs("div",{className:"border rounded-lg p-4",children:[t.jsxs("h4",{className:"font-medium mb-2",children:["Suggestions (",c.length,")"]}),t.jsx("div",{className:"space-y-2",children:c.map((T,O)=>t.jsxs("button",{onClick:()=>h(T),className:"w-full text-left p-2 hover:bg-muted rounded border",children:[t.jsx("div",{className:"font-medium",children:T.structured_formatting.main_text}),t.jsx("div",{className:"text-sm text-muted-foreground",children:T.structured_formatting.secondary_text})]},T.place_id))})]}),v&&t.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[t.jsx("h4",{className:"font-medium mb-2",children:"Selected Address"}),t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Formatted:"})," ",v.formatted_address]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Place ID:"})," ",v.place_id]}),v.street_number&&t.jsxs("div",{children:[t.jsx("strong",{children:"Street Number:"})," ",v.street_number]}),v.route&&t.jsxs("div",{children:[t.jsx("strong",{children:"Route:"})," ",v.route]}),v.locality&&t.jsxs("div",{children:[t.jsx("strong",{children:"City:"})," ",v.locality]}),v.administrative_area_level_1&&t.jsxs("div",{children:[t.jsx("strong",{children:"State:"})," ",v.administrative_area_level_1]}),v.postal_code&&t.jsxs("div",{children:[t.jsx("strong",{children:"ZIP:"})," ",v.postal_code]}),v.geometry&&t.jsxs("div",{children:[t.jsx("strong",{children:"Coordinates:"})," ",v.geometry.location.lat,", ",v.geometry.location.lng]})]})]})]})})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsx(Y,{children:"Configuration Help"})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"If you're seeing API key errors:"}),t.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[t.jsx("li",{children:"Make sure you have a valid Google Places API key from Google Cloud Console"}),t.jsx("li",{children:"The API key has been configured using the Supabase secret management system"}),t.jsx("li",{children:"Verify the key has enabled: Places API, Geocoding API, and Maps JavaScript API"}),t.jsx("li",{children:"Check your Google Cloud Console for quota limits and billing setup"}),t.jsx("li",{children:"Confirm there are no API restrictions blocking your requests (HTTP referrers, IP restrictions)"}),t.jsx("li",{children:"Ensure your Google Cloud project has billing enabled for Places API usage"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"API Key Configuration:"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"bg-muted p-3 rounded text-sm font-mono",children:"GOOGLE_PLACES_API_KEY=your_api_key_here"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"The Google Places API key is configured securely using Supabase's secret management system. This provides proper security for API keys in the serverless environment."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Fallback Mode:"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"If the Google Places API is not available, the application will automatically switch to fallback mode where users can manually enter addresses. This ensures the application continues to work even without a valid API key."})]})]})})]})]})}function gR(){const[e,s]=m.useState(null),[r,n]=m.useState(""),a=o=>{s(o)},i=o=>{n(o)};return t.jsxs("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"text-center space-y-2",children:[t.jsx(We,{className:"w-8 h-8 text-blue-600 mx-auto"}),t.jsx("h2",{className:"text-2xl",children:"Address Autocomplete Demo"}),t.jsx("p",{className:"text-gray-600",children:"Start typing an address to see suggested addresses appear as you type"})]}),t.jsx(F,{className:"p-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Property Address"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Type at least 3 characters to see address suggestions"})]}),t.jsx(qb,{label:"Address",placeholder:"Start typing an address... (e.g., 123 Main St)",value:r,onChange:a,onInputChange:i,required:!0,autoFocus:!0,debugMode:!0}),t.jsxs("div",{className:"flex gap-2",children:[r.length>0&&r.length<3&&t.jsxs(K,{variant:"secondary",children:["Type ",3-r.length," more characters"]}),r.length>=3&&!e&&t.jsxs(K,{variant:"outline",children:[t.jsx(kt,{className:"w-3 h-3 mr-1"}),"Searching for addresses..."]}),e&&t.jsxs(K,{variant:"default",className:"bg-green-100 text-green-800 border-green-300",children:[t.jsx(hr,{className:"w-3 h-3 mr-1"}),"Address selected"]})]})]})}),e&&t.jsx(F,{className:"p-6 border-green-200 bg-green-50",children:t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"text-lg font-semibold text-green-800",children:"Selected Address Details"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Full Address:"})," ",e.formatted_address]}),e.street_number&&e.route&&t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Street:"})," ",e.street_number," ",e.route]}),e.locality&&t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"City:"})," ",e.locality]}),e.administrative_area_level_1&&t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"State:"})," ",e.administrative_area_level_1]}),e.postal_code&&t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"ZIP Code:"})," ",e.postal_code]}),e.geometry&&t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Coordinates:"})," ",e.geometry.location.lat.toFixed(6),", ",e.geometry.location.lng.toFixed(6)]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Place ID:"})," ",e.place_id]})]})]})}),t.jsx(F,{className:"p-6 bg-blue-50 border-blue-200",children:t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"text-lg font-semibold text-blue-800",children:"How to Use Address Autocomplete"}),t.jsxs("ul",{className:"space-y-2 text-sm text-blue-700",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"font-medium text-blue-600",children:"1."}),"Start typing an address in the input field above"]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"font-medium text-blue-600",children:"2."}),"After typing 3+ characters, suggested addresses will appear"]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"font-medium text-blue-600",children:"3."}),"Click on a suggestion or use arrow keys + Enter to select"]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"font-medium text-blue-600",children:"4."}),"The selected address details will be displayed below"]})]})]})})]})}function vR(){const[e,s]=m.useState(!1),[r,n]=m.useState(null),[a,i]=m.useState(null),o=m.useCallback(async c=>{if(!c)return null;s(!0),i(null);try{const d=await fetch(`https://${De}.supabase.co/functions/v1/make-server-a24396d5/attom/validate-address`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Te}`},body:JSON.stringify({address1:c.address1,address2:c.address2,formatted_address:c.formatted_address})});if(!d.ok){const f=await d.text();throw new Error(`Server error: ${d.status} - ${f}`)}const u=await d.json();return console.log("Address validation result:",u),n(u),u}catch(d){const u=d instanceof Error?d.message:"Unknown error occurred";return console.error("Address validation error:",u),i(u),null}finally{s(!1)}},[]),l=m.useCallback(()=>{n(null),i(null)},[]);return{validateAddress:o,isValidating:e,lastValidation:r,error:a,clearValidation:l}}function c1(){var j,v;const[e,s]=m.useState(null),[r,n]=m.useState(""),a=ms(),{validateAddress:i,isValidating:o,lastValidation:l,error:c,clearValidation:d}=vR(),u=b=>{s(b),d()},f=["123 Main Street, New York, NY 10001","5 Whitney Drive, Greenwich, CT 06831","456 Oak Avenue, Los Angeles, CA 90210","789 Pine Street, Chicago, IL 60601","Invalid address format test"],p=b=>{n(b),d()},h=async()=>{e&&await i(e)};return t.jsx("div",{className:`space-y-6 ${a?"page-content-mobile":"page-content"}`,children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[t.jsx(kt,{className:"w-8 h-8 text-primary"}),t.jsx("h1",{children:"Address Validation Demo"})]}),t.jsx("p",{className:"text-muted-foreground",children:"Test the enhanced address input with ATTOM-compatible formatting and validation"})]}),t.jsxs(F,{className:"mb-6",children:[t.jsx(q,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qt,{className:"w-5 h-5"}),t.jsx(Y,{children:"Enhanced Address Input"})]})}),t.jsx(U,{className:"space-y-4",children:t.jsx(dN,{id:"demo-address",label:"Property Address",placeholder:"Start typing or use test addresses below...",value:r,onChange:u,onInputChange:n,required:!0,country:"US",types:["address"],showBreakdown:!0,validateForAttom:!0,debugMode:!0})})]}),t.jsxs(F,{className:"mb-6",children:[t.jsxs(q,{children:[t.jsx(Y,{children:"Test Addresses"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Click any address below to test the validation"})]}),t.jsx(U,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:f.map((b,g)=>t.jsx($,{variant:"outline",onClick:()=>p(b),className:"justify-start text-left h-auto py-3 px-4",children:t.jsxs("div",{className:"flex items-start gap-2 w-full",children:[t.jsx(kt,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),t.jsx("div",{className:"text-sm",children:b})]})},g))})})]}),e&&t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Y,{children:"Validation Results"}),t.jsx("div",{className:"flex items-center gap-2",children:e.is_valid?t.jsxs(K,{variant:"default",className:"bg-green-100 text-green-800",children:[t.jsx(hr,{className:"w-3 h-3 mr-1"}),"Valid for ATTOM"]}):t.jsxs(K,{variant:"destructive",children:[t.jsx(ze,{className:"w-3 h-3 mr-1"}),"Has Issues"]})})]})}),t.jsxs(U,{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Original Input"}),t.jsx("div",{className:"p-3 bg-muted rounded font-mono text-sm",children:e.formatted_address})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"ATTOM API Format"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"p-2 bg-muted rounded font-mono text-sm",children:[t.jsx("strong",{children:"Line 1:"})," ",e.address1]}),t.jsxs("div",{className:"p-2 bg-muted rounded font-mono text-sm",children:[t.jsx("strong",{children:"Line 2:"})," ",e.address2]})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-3",children:"Address Components"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Number"}),t.jsx("div",{className:"p-2 bg-muted rounded font-mono text-sm",children:e.street_number||"?"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Street"}),t.jsx("div",{className:"p-2 bg-muted rounded font-mono text-sm",children:((j=e.street_name)==null?void 0:j.substring(0,12))+(((v=e.street_name)==null?void 0:v.length)>12?"...":"")||"?"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"City"}),t.jsx("div",{className:"p-2 bg-muted rounded font-mono text-sm",children:e.city||"?"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"State"}),t.jsx("div",{className:"p-2 bg-muted rounded font-mono text-sm",children:e.state||"?"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"ZIP"}),t.jsx("div",{className:"p-2 bg-muted rounded font-mono text-sm",children:e.zip_code||"?"})]})]})]}),e.validation_errors.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-3 text-red-600",children:"Validation Issues"}),t.jsx("div",{className:"space-y-2",children:e.validation_errors.map((b,g)=>t.jsxs("div",{className:"flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded",children:[t.jsx(ze,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),t.jsx("div",{className:"text-sm text-red-700",children:b})]},g))})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h4",{className:"font-medium",children:"ATTOM API Validation Test"}),t.jsx($,{onClick:h,disabled:!e||!e.is_valid||o,variant:"outline",size:"sm",children:o?t.jsxs(t.Fragment,{children:[t.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"}),"Testing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Test with ATTOM"]})})]}),c&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ze,{className:"w-4 h-4 text-red-500"}),t.jsxs("div",{className:"text-sm text-red-700",children:[t.jsx("strong",{children:"Validation Error:"})," ",c]})]})}),l&&t.jsx("div",{className:"space-y-3",children:t.jsxs("div",{className:`p-4 border rounded ${l.validation.attom_found?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.validation.attom_found?t.jsx(hr,{className:"w-5 h-5 text-green-600"}):t.jsx(ze,{className:"w-5 h-5 text-yellow-600"}),t.jsx("h5",{className:"font-medium",children:l.validation.attom_found?"Found in ATTOM Database":"Not Found in ATTOM Database"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[l.validation.address1_valid?t.jsx(hr,{className:"w-4 h-4 text-green-600"}):t.jsx(ze,{className:"w-4 h-4 text-red-500"}),t.jsx("span",{children:"Address1 Format"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[l.validation.address2_valid?t.jsx(hr,{className:"w-4 h-4 text-green-600"}):t.jsx(ze,{className:"w-4 h-4 text-red-500"}),t.jsx("span",{children:"Address2 Format"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[l.validation.formatted_valid?t.jsx(hr,{className:"w-4 h-4 text-green-600"}):t.jsx(ze,{className:"w-4 h-4 text-red-500"}),t.jsx("span",{children:"Formatted Address"})]})]}),l.recommendations.length>0&&t.jsxs("div",{children:[t.jsx("strong",{className:"text-sm",children:"Recommendations:"}),t.jsx("ul",{className:"mt-1 space-y-1",children:l.recommendations.map((b,g)=>t.jsxs("li",{className:"text-sm flex items-start gap-2",children:[t.jsx("span",{className:"text-muted-foreground",children:""}),t.jsx("span",{children:b})]},g))})]}),l.validation.errors.length>0&&t.jsxs("div",{className:"mt-3",children:[t.jsx("strong",{className:"text-sm text-red-600",children:"Errors:"}),t.jsx("ul",{className:"mt-1 space-y-1",children:l.validation.errors.map((b,g)=>t.jsxs("li",{className:"text-sm text-red-600 flex items-start gap-2",children:[t.jsx(ze,{className:"w-3 h-3 mt-0.5 flex-shrink-0"}),t.jsx("span",{children:b})]},g))})]})]})})]}),e.is_valid&&!l&&t.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(hr,{className:"w-5 h-5 text-green-600"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-green-800",children:"Ready for ATTOM API"}),t.jsx("p",{className:"text-sm text-green-700 mt-1",children:'This address is properly formatted and validated for use with ATTOM Data API. Click "Test with ATTOM" to verify it exists in their database.'})]})]})}),t.jsxs("details",{className:"mt-4",children:[t.jsx("summary",{className:"cursor-pointer font-medium text-sm",children:"Developer: View JSON Output"}),t.jsx("pre",{className:"mt-2 p-3 bg-slate-100 rounded text-xs overflow-auto",children:JSON.stringify(e,null,2)})]})]})]})]})})}const yR=Object.freeze(Object.defineProperty({__proto__:null,AddressValidationDemo:c1},Symbol.toStringTag,{value:"Module"}));function jR(e,s){return m.useReducer((r,n)=>s[r][n]??r,e)}var Mp="ScrollArea",[d1,K$]=Vs(Mp),[bR,sr]=d1(Mp),u1=m.forwardRef((e,s)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=m.useState(null),[d,u]=m.useState(null),[f,p]=m.useState(null),[h,j]=m.useState(null),[v,b]=m.useState(null),[g,y]=m.useState(0),[x,S]=m.useState(0),[w,k]=m.useState(!1),[C,P]=m.useState(!1),N=Ke(s,O=>c(O)),T=zl(a);return t.jsx(bR,{scope:r,type:n,dir:T,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:f,onContentChange:p,scrollbarX:h,onScrollbarXChange:j,scrollbarXEnabled:w,onScrollbarXEnabledChange:k,scrollbarY:v,onScrollbarYChange:b,scrollbarYEnabled:C,onScrollbarYEnabledChange:P,onCornerWidthChange:y,onCornerHeightChange:S,children:t.jsx(we.div,{dir:T,...o,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});u1.displayName=Mp;var m1="ScrollAreaViewport",h1=m.forwardRef((e,s)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=sr(m1,r),l=m.useRef(null),c=Ke(s,l,o.onViewportChange);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),t.jsx(we.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:t.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});h1.displayName=m1;var Jr="ScrollAreaScrollbar",f1=m.forwardRef((e,s)=>{const{forceMount:r,...n}=e,a=sr(Jr,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return m.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?t.jsx(wR,{...n,ref:s,forceMount:r}):a.type==="scroll"?t.jsx(NR,{...n,ref:s,forceMount:r}):a.type==="auto"?t.jsx(p1,{...n,ref:s,forceMount:r}):a.type==="always"?t.jsx(Dp,{...n,ref:s}):null});f1.displayName=Jr;var wR=m.forwardRef((e,s)=>{const{forceMount:r,...n}=e,a=sr(Jr,e.__scopeScrollArea),[i,o]=m.useState(!1);return m.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),t.jsx(Ws,{present:r||i,children:t.jsx(p1,{"data-state":i?"visible":"hidden",...n,ref:s})})}),NR=m.forwardRef((e,s)=>{const{forceMount:r,...n}=e,a=sr(Jr,e.__scopeScrollArea),i=e.orientation==="horizontal",o=iu(()=>c("SCROLL_END"),100),[l,c]=jR("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),m.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let f=d[u];const p=()=>{const h=d[u];f!==h&&(c("SCROLL"),o()),f=h};return d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[a.viewport,i,c,o]),t.jsx(Ws,{present:r||l!=="hidden",children:t.jsx(Dp,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:s,onPointerEnter:Ce(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ce(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),p1=m.forwardRef((e,s)=>{const r=sr(Jr,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=m.useState(!1),l=e.orientation==="horizontal",c=iu(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return Bi(r.viewport,c),Bi(r.content,c),t.jsx(Ws,{present:n||i,children:t.jsx(Dp,{"data-state":i?"visible":"hidden",...a,ref:s})})}),Dp=m.forwardRef((e,s)=>{const{orientation:r="vertical",...n}=e,a=sr(Jr,e.__scopeScrollArea),i=m.useRef(null),o=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=j1(l.viewport,l.content),u={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function f(p,h){return PR(p,o.current,l,h)}return r==="horizontal"?t.jsx(SR,{...u,ref:s,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollLeft,h=Cy(p,l,a.dir);i.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollLeft=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollLeft=f(p,a.dir))}}):r==="vertical"?t.jsx(kR,{...u,ref:s,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollTop,h=Cy(p,l);i.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollTop=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollTop=f(p))}}):null}),SR=m.forwardRef((e,s)=>{const{sizes:r,onSizesChange:n,...a}=e,i=sr(Jr,e.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),d=Ke(s,c,i.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),t.jsx(g1,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":au(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(i.viewport){const p=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(p),w1(p,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:bd(o.paddingLeft),paddingEnd:bd(o.paddingRight)}})}})}),kR=m.forwardRef((e,s)=>{const{sizes:r,onSizesChange:n,...a}=e,i=sr(Jr,e.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),d=Ke(s,c,i.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),t.jsx(g1,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":au(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(i.viewport){const p=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(p),w1(p,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:bd(o.paddingTop),paddingEnd:bd(o.paddingBottom)}})}})}),[_R,x1]=d1(Jr),g1=m.forwardRef((e,s)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:f,...p}=e,h=sr(Jr,r),[j,v]=m.useState(null),b=Ke(s,N=>v(N)),g=m.useRef(null),y=m.useRef(""),x=h.viewport,S=n.content-n.viewport,w=os(u),k=os(c),C=iu(f,10);function P(N){if(g.current){const T=N.clientX-g.current.left,O=N.clientY-g.current.top;d({x:T,y:O})}}return m.useEffect(()=>{const N=T=>{const O=T.target;(j==null?void 0:j.contains(O))&&w(T,S)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[x,j,S,w]),m.useEffect(k,[n,k]),Bi(j,C),Bi(h.content,C),t.jsx(_R,{scope:r,scrollbar:j,hasThumb:a,onThumbChange:os(i),onThumbPointerUp:os(o),onThumbPositionChange:k,onThumbPointerDown:os(l),children:t.jsx(we.div,{...p,ref:b,style:{position:"absolute",...p.style},onPointerDown:Ce(e.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),g.current=j.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),P(N))}),onPointerMove:Ce(e.onPointerMove,P),onPointerUp:Ce(e.onPointerUp,N=>{const T=N.target;T.hasPointerCapture(N.pointerId)&&T.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=y.current,h.viewport&&(h.viewport.style.scrollBehavior=""),g.current=null})})})}),jd="ScrollAreaThumb",v1=m.forwardRef((e,s)=>{const{forceMount:r,...n}=e,a=x1(jd,e.__scopeScrollArea);return t.jsx(Ws,{present:r||a.hasThumb,children:t.jsx(AR,{ref:s,...n})})}),AR=m.forwardRef((e,s)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=sr(jd,r),o=x1(jd,r),{onThumbPositionChange:l}=o,c=Ke(s,f=>o.onThumbChange(f)),d=m.useRef(void 0),u=iu(()=>{d.current&&(d.current(),d.current=void 0)},100);return m.useEffect(()=>{const f=i.viewport;if(f){const p=()=>{if(u(),!d.current){const h=TR(f,l);d.current=h,l()}};return l(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[i.viewport,u,l]),t.jsx(we.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ce(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),j=f.clientX-h.left,v=f.clientY-h.top;o.onThumbPointerDown({x:j,y:v})}),onPointerUp:Ce(e.onPointerUp,o.onThumbPointerUp)})});v1.displayName=jd;var Lp="ScrollAreaCorner",y1=m.forwardRef((e,s)=>{const r=sr(Lp,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?t.jsx(CR,{...e,ref:s}):null});y1.displayName=Lp;var CR=m.forwardRef((e,s)=>{const{__scopeScrollArea:r,...n}=e,a=sr(Lp,r),[i,o]=m.useState(0),[l,c]=m.useState(0),d=!!(i&&l);return Bi(a.scrollbarX,()=>{var f;const u=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),Bi(a.scrollbarY,()=>{var f;const u=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?t.jsx(we.div,{...n,ref:s,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function bd(e){return e?parseInt(e,10):0}function j1(e,s){const r=e/s;return isNaN(r)?0:r}function au(e){const s=j1(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*s;return Math.max(n,18)}function PR(e,s,r,n="ltr"){const a=au(r),i=a/2,o=s||i,l=a-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,f=n==="ltr"?[0,u]:[u*-1,0];return b1([c,d],f)(e)}function Cy(e,s,r="ltr"){const n=au(s),a=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,i=s.scrollbar.size-a,o=s.content-s.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],d=Oh(e,c);return b1([0,o],[0,l])(d)}function b1(e,s){return r=>{if(e[0]===e[1]||s[0]===s[1])return s[0];const n=(s[1]-s[0])/(e[1]-e[0]);return s[0]+n*(r-e[0])}}function w1(e,s){return e>0&&e<s}var TR=(e,s=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&s(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function iu(e,s){const r=os(e),n=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),m.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,s)},[r,s])}function Bi(e,s){const r=os(s);Pt(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var ER=u1,IR=h1,OR=y1;function ja({className:e,children:s,...r}){return t.jsxs(ER,{"data-slot":"scroll-area",className:ve("relative",e),...r,children:[t.jsx(IR,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:s}),t.jsx(RR,{}),t.jsx(OR,{})]})}function RR({className:e,orientation:s="vertical",...r}){return t.jsx(f1,{"data-slot":"scroll-area-scrollbar",orientation:s,className:ve("flex touch-none p-px transition-colors select-none",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...r,children:t.jsx(v1,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}let ri="unknown",Fc="unknown";try{const e=require("../utils/supabase/info");ri=e.projectId||"unknown",Fc=e.publicAnonKey||"unknown"}catch(e){console.error("Failed to load Supabase configuration:",e)}function Fh({data:e,level:s=0,maxLevel:r=3}){const[n,a]=m.useState(s>=r);if(e===null)return t.jsx("span",{className:"text-gray-400",children:"null"});if(e===void 0)return t.jsx("span",{className:"text-gray-400",children:"undefined"});if(typeof e=="string")return t.jsxs("span",{className:"text-green-600",children:['"',e,'"']});if(typeof e=="number")return t.jsx("span",{className:"text-blue-600",children:e});if(typeof e=="boolean")return t.jsx("span",{className:"text-purple-600",children:e.toString()});if(Array.isArray(e))return e.length===0?t.jsx("span",{className:"text-gray-400",children:"[]"}):t.jsxs("div",{children:[t.jsxs("button",{onClick:()=>a(!n),className:"flex items-center text-gray-600 hover:text-gray-800 text-sm",children:[n?t.jsx(dd,{className:"w-3 h-3"}):t.jsx(Ia,{className:"w-3 h-3"}),t.jsxs("span",{className:"ml-1",children:["Array (",e.length," items)"]})]}),!n&&t.jsx("div",{className:"ml-4 border-l border-gray-200 pl-2",children:e.map((i,o)=>t.jsxs("div",{className:"py-1",children:[t.jsxs("span",{className:"text-gray-500 text-sm",children:["[",o,"]: "]}),t.jsx(Fh,{data:i,level:s+1,maxLevel:r})]},o))})]});if(typeof e=="object"){const i=Object.keys(e);return i.length===0?t.jsx("span",{className:"text-gray-400",children:"{}"}):t.jsxs("div",{children:[t.jsxs("button",{onClick:()=>a(!n),className:"flex items-center text-gray-600 hover:text-gray-800 text-sm",children:[n?t.jsx(dd,{className:"w-3 h-3"}):t.jsx(Ia,{className:"w-3 h-3"}),t.jsxs("span",{className:"ml-1",children:["Object (",i.length," keys)"]})]}),!n&&t.jsx("div",{className:"ml-4 border-l border-gray-200 pl-2",children:i.map(o=>t.jsxs("div",{className:"py-1",children:[t.jsxs("span",{className:"text-blue-800 font-medium text-sm",children:[o,": "]}),t.jsx(Fh,{data:e[o],level:s+1,maxLevel:r})]},o))})]})}return t.jsx("span",{children:String(e)})}function MR({property:e}){const[s,r]=m.useState(null);return m.useEffect(()=>{if(!e)return;const n={totalFields:0,populatedFields:0,nullFields:0,undefinedFields:0,emptyFields:0,fieldsBySection:{},missingImportantFields:[],dataCompleteness:0},a=["identifier.attomId","address.oneLine","building.size.universalsize","building.rooms.bathstotal","building.rooms.beds","summary.yearbuilt","sale.amount.saleamt","sale.calculation.pricepersizeunit","lot.lotSize1"];function i(o,l="",c="root"){for(const[d,u]of Object.entries(o)){const f=l?`${l}.${d}`:d,p=l.split(".")[0]||c;n.totalFields++,n.fieldsBySection[p]||(n.fieldsBySection[p]={total:0,populated:0}),n.fieldsBySection[p].total++,u===null?n.nullFields++:u===void 0?n.undefinedFields++:u===""||Array.isArray(u)&&u.length===0?n.emptyFields++:(n.populatedFields++,n.fieldsBySection[p].populated++,typeof u=="object"&&!Array.isArray(u)&&i(u,f,p))}}i(e),a.forEach(o=>{const l=o.split(".");let c=e,d=!0;for(const u of l)if(c&&typeof c=="object"&&u in c)c=c[u];else{d=!1;break}(!d||c===null||c===void 0)&&n.missingImportantFields.push(o)}),n.dataCompleteness=Math.round(n.populatedFields/n.totalFields*100),r(n)},[e]),s?t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(xr,{className:"h-5 w-5"}),"Property Data Analysis"]})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"font-medium text-blue-900",children:"Data Completeness"}),t.jsxs("span",{className:"text-xl font-bold text-blue-900",children:[s.dataCompleteness,"%"]})]}),t.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${s.dataCompleteness}%`}})})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[t.jsxs("div",{className:"text-center p-3 bg-green-50 rounded border border-green-200",children:[t.jsx("div",{className:"text-2xl font-bold text-green-800",children:s.populatedFields}),t.jsx("div",{className:"text-green-600",children:"Populated"})]}),t.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded border border-gray-200",children:[t.jsx("div",{className:"text-2xl font-bold text-gray-800",children:s.nullFields}),t.jsx("div",{className:"text-gray-600",children:"Null"})]}),t.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded border border-yellow-200",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-800",children:s.emptyFields}),t.jsx("div",{className:"text-yellow-600",children:"Empty"})]}),t.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded border border-blue-200",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-800",children:s.totalFields}),t.jsx("div",{className:"text-blue-600",children:"Total Fields"})]})]}),s.missingImportantFields.length>0&&t.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[t.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"Missing Important Fields"}),t.jsx("div",{className:"space-y-1",children:s.missingImportantFields.map((n,a)=>t.jsx("div",{className:"text-sm text-red-700 font-mono",children:n},a))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Field Population by Section"}),t.jsx("div",{className:"space-y-2",children:Object.entries(s.fieldsBySection).map(([n,a])=>t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"font-medium capitalize",children:n}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{children:[a.populated,"/",a.total]}),t.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${a.populated/a.total*100}%`}})}),t.jsxs("span",{className:"text-xs text-gray-500",children:[Math.round(a.populated/a.total*100),"%"]})]})]},n))})]})]})})]}):null}function DR(){var O,I,_,A,R,M,z,E,D,H,W;const[e,s]=m.useState(""),[r,n]=m.useState(null),[a,i]=m.useState(!1),[o,l]=m.useState({}),[c,d]=m.useState(null),[u,f]=m.useState([]),[p,h]=m.useState("search-by-address"),[j,v]=m.useState(null),[b,g]=m.useState(null);m.useEffect(()=>{try{const L=()=>{try{const te={"handoff-screening-data":localStorage.getItem("handoff-screening-data"),"handoff-property-data":localStorage.getItem("handoff-property-data"),"handoff-initial-setup-data":localStorage.getItem("handoff-initial-setup-data"),"handoff-attom-property":localStorage.getItem("handoff-attom-property"),"handoff-initial-setup-complete":localStorage.getItem("handoff-initial-setup-complete"),"handoff-questionnaire-complete":localStorage.getItem("handoff-questionnaire-complete"),"handoff-current-page":localStorage.getItem("handoff-current-page")},le={};Object.entries(te).forEach(([ue,ee])=>{if(ee)try{le[ue]=JSON.parse(ee)}catch{le[ue]=ee}else le[ue]=null}),l(le)}catch(te){console.error("Error loading localStorage data:",te),v("Failed to load localStorage data")}};L();const se=setInterval(L,5e3);return()=>clearInterval(se)}catch(L){console.error("Error setting up localStorage monitoring:",L),v("Failed to setup localStorage monitoring")}},[]),m.useEffect(()=>{const L=async()=>{try{if(!navigator.onLine){d({success:!1,error:"No network connection detected",timestamp:new Date().toISOString()});return}if(ri==="unknown"||Fc==="unknown"){d({success:!1,error:"Supabase configuration not available",timestamp:new Date().toISOString()});return}const te=new AbortController,le=setTimeout(()=>te.abort(),1e4),ue=Date.now(),ee=await fetch(`https://${ri}.supabase.co/functions/v1/make-server-a24396d5/health`,{method:"GET",headers:{Authorization:`Bearer ${Fc}`,"Content-Type":"application/json"},signal:te.signal});clearTimeout(le);const V=Date.now()-ue;if(ee.ok){const J=await ee.json();d({success:!0,status:ee.status,data:J,responseTime:V,timestamp:new Date().toISOString()})}else{const J=await ee.text().catch(()=>"Unable to read response");d({success:!1,status:ee.status,statusText:ee.statusText,error:J,responseTime:V,timestamp:new Date().toISOString()})}}catch(te){d({success:!1,error:te.message,timestamp:new Date().toISOString()})}};L();const se=setInterval(L,6e4);return()=>clearInterval(se)},[]);const y=(L,se,te)=>{try{const le={id:Date.now(),type:L,message:se,data:te,timestamp:new Date().toISOString()};f(ue=>[le,...ue].slice(0,20))}catch(le){console.error("Error adding to logs:",le)}},x=async()=>{var L;if(!e.trim()){y("error","Please enter an address to test");return}if(!(c!=null&&c.success)){y("error","Cannot test API - server is not reachable");return}i(!0),n(null),g(null),y("info",`Testing ${p} with address: ${e}`);try{const se=`https://${ri}.supabase.co/functions/v1/make-server-a24396d5/attom/${p}`;let te=se;p==="search-by-address"?te=`${se}?address=${encodeURIComponent(e)}&debug=true`:p==="valuation"?te=`${se}?address=${encodeURIComponent(e)}&debug=true`:p==="comparables"&&(te=`${se}?address=${encodeURIComponent(e)}&radius=0.5&debug=true`);const le=Date.now(),ue=await fetch(te,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Fc}`},signal:AbortSignal.timeout(3e4)}),ee=Date.now()-le,V=await ue.json(),J={success:ue.ok,status:ue.status,statusText:ue.statusText,duration:`${ee}ms`,data:V,timestamp:new Date().toISOString()};n(V),V!=null&&V.property&&Array.isArray(V.property)&&V.property.length>0&&g(V.property[0]),ue.ok?y("success",`API test successful (${ee}ms) - Found ${((L=V==null?void 0:V.property)==null?void 0:L.length)||0} properties`,J):y("error",`API test failed: ${ue.status} ${ue.statusText}`,J)}catch(se){const te={success:!1,error:se.message,timestamp:new Date().toISOString()};n(null),y("error","API test network error",te)}finally{i(!1)}},S=()=>{if(confirm("Are you sure you want to clear ALL localStorage data? This cannot be undone."))try{localStorage.clear(),y("warning","Cleared all localStorage data"),l({})}catch{y("error","Failed to clear all data")}},w=async L=>{try{await navigator.clipboard.writeText(JSON.stringify(L,null,2)),y("info","Data copied to clipboard")}catch{y("error","Failed to copy to clipboard")}},k=()=>{try{const L=o["handoff-screening-data"],se=o["handoff-property-data"];let te="";L!=null&&L.propertyAddress?te=L.propertyAddress:se!=null&&se.address&&(se!=null&&se.city)&&(te=`${se.address}, ${se.city}, ${se.state} ${se.zipCode}`.trim()),te?(s(te),y("info","Auto-filled address from localStorage data",{address:te})):y("warning","No address found in localStorage data")}catch{y("error","Failed to extract address from data")}},C=L=>L?t.jsxs(K,{variant:"default",className:"bg-green-100 text-green-800 border-green-300",children:[t.jsx(be,{className:"w-3 h-3 mr-1"}),"Connected"]}):t.jsxs(K,{variant:"destructive",children:[t.jsx(Ze,{className:"w-3 h-3 mr-1"}),"Error"]}),P=L=>{try{return JSON.stringify(L,null,2)}catch{return"Unable to format data"}},N=()=>{try{const L=new URL(window.location.href);L.searchParams.delete("attom-debug"),window.location.href=L.toString()}catch{window.location.href="/"}},T=()=>{try{const L=new URL(window.location.href);L.searchParams.delete("attom-debug"),L.searchParams.set("address-format-guide","true"),window.open(L.toString(),"_blank")}catch{y("error","Failed to open address format guide")}};return j?t.jsx("div",{className:"max-w-4xl mx-auto p-6",children:t.jsxs(ce,{className:"border-red-200 bg-red-50",children:[t.jsx(ze,{className:"h-4 w-4 text-red-600"}),t.jsxs(de,{className:"text-red-700",children:[t.jsx("strong",{children:"Debug Tool Error:"})," ",j,t.jsx("div",{className:"mt-2",children:t.jsxs($,{onClick:()=>window.location.reload(),size:"sm",variant:"outline",children:[t.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Reload Page"]})})]})]})}):t.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Enhanced Attom API Debug Tool"}),t.jsx("p",{className:"text-muted-foreground mt-2",children:"Comprehensive debugging tool for Attom Data API integration with full field analysis"}),t.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:[t.jsx("strong",{children:"Project ID:"})," ",ri," | ",t.jsx("strong",{children:"Server:"})," https://",ri,".supabase.co",t.jsx("br",{}),t.jsx("span",{className:"text-blue-600 font-medium",children:" Debug Mode Active: All API requests include debug=True parameter for complete field visibility"})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs($,{onClick:T,variant:"outline",children:[t.jsx(Qn,{className:"w-4 h-4 mr-2"}),"Address Guide"]}),t.jsxs($,{onClick:()=>window.location.reload(),variant:"outline",children:[t.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Refresh"]}),t.jsxs($,{onClick:N,variant:"outline",children:[t.jsx(We,{className:"w-4 h-4 mr-2"}),"Back to App"]})]})]}),!navigator.onLine&&t.jsxs(ce,{className:"border-red-200 bg-red-50",children:[t.jsx(nP,{className:"h-4 w-4 text-red-600"}),t.jsxs(de,{className:"text-red-700",children:[t.jsx("strong",{children:"No Network Connection:"})," Your device appears to be offline."]})]}),(c==null?void 0:c.success)&&t.jsxs(ce,{className:"border-green-200 bg-green-50",children:[t.jsx(be,{className:"h-4 w-4 text-green-600"}),t.jsxs(de,{className:"text-green-700",children:[t.jsx("strong",{children:"Server Connected:"})," Successfully connected to the Handoff server."]})]}),t.jsxs(ce,{className:"border-blue-200 bg-blue-50",children:[t.jsx(Ct,{className:"h-4 w-4 text-blue-600"}),t.jsxs(de,{className:"text-blue-700",children:[t.jsx("strong",{children:" Enhanced Debug Mode Active:"})," The Attom API integration automatically includes the ",t.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"debug=True"})," parameter in all requests, ensuring all property fields are returned including null values.",t.jsxs("div",{className:"mt-3 text-sm",children:[t.jsx("strong",{children:"Benefits:"}),t.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[t.jsx("li",{children:"Complete field visibility (including null values)"}),t.jsx("li",{children:"Better data completeness analysis"}),t.jsx("li",{children:"Enhanced troubleshooting capabilities"}),t.jsx("li",{children:"More accurate missing field identification"})]})]})]})]}),t.jsxs(Hs,{defaultValue:"api-test",className:"w-full",children:[t.jsxs(qs,{className:"grid w-full grid-cols-6",children:[t.jsx(Se,{value:"api-test",children:"API Test"}),t.jsx(Se,{value:"property-analysis",children:"Property Analysis"}),t.jsx(Se,{value:"raw-data",children:"Raw Data"}),t.jsx(Se,{value:"connectivity",children:"Connectivity"}),t.jsx(Se,{value:"storage",children:"Storage"}),t.jsx(Se,{value:"logs",children:"Logs"})]}),t.jsx(ke,{value:"api-test",className:"space-y-6",children:t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsx(Y,{children:"API Testing with Complete Field Analysis"}),!(c!=null&&c.success)&&t.jsxs(ce,{className:"mt-2 border-orange-200 bg-orange-50",children:[t.jsx(it,{className:"h-4 w-4 text-orange-600"}),t.jsx(de,{className:"text-orange-700",children:"Server connection failed. API testing is disabled until connection is restored."})]})]}),t.jsxs(U,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(X,{htmlFor:"test-address",children:"Test Address"}),t.jsx(Re,{id:"test-address",value:e,onChange:L=>s(L.target.value),placeholder:"Enter a property address...",disabled:!(c!=null&&c.success)})]}),t.jsxs("div",{children:[t.jsx(X,{htmlFor:"endpoint-select",children:"API Endpoint"}),t.jsxs("select",{id:"endpoint-select",value:p,onChange:L=>h(L.target.value),className:"w-full p-2 border border-border rounded-md",disabled:!(c!=null&&c.success),children:[t.jsx("option",{value:"search-by-address",children:"Search by Address"}),t.jsx("option",{value:"valuation",children:"Get Valuation (AVM)"}),t.jsx("option",{value:"comparables",children:"Get Comparables"})]})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs($,{onClick:x,disabled:a||!(c!=null&&c.success),children:[a?t.jsx(Ye,{className:"w-4 h-4 mr-2 animate-spin"}):t.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Test API"]}),t.jsxs($,{onClick:k,variant:"outline",children:[t.jsx(Ht,{className:"w-4 h-4 mr-2"}),"Use Stored Address"]})]}),r&&t.jsxs("div",{className:"mt-6 space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"font-semibold",children:"API Response Status"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(K,{variant:((O=r.status)==null?void 0:O.code)===0?"default":"destructive",children:((I=r.status)==null?void 0:I.msg)||"Unknown"}),((_=r.status)==null?void 0:_.total)&&t.jsxs(K,{variant:"outline",children:[r.status.total," properties found"]})]})]}),r.property&&r.property.length>0&&t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{children:["Found Properties (",r.property.length,")"]})}),t.jsx(U,{children:t.jsx("div",{className:"space-y-2",children:r.property.map((L,se)=>{var te,le,ue,ee,V,J,G,re,he,Ee,Fe;return t.jsx("div",{className:`p-3 border rounded cursor-pointer transition-colors ${((te=b==null?void 0:b.identifier)==null?void 0:te.Id)===((le=L.identifier)==null?void 0:le.Id)?"border-primary bg-primary/5":"hover:border-primary/50"}`,onClick:()=>g(L),children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:((ue=L.address)==null?void 0:ue.oneLine)||"No address"}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[((ee=L.summary)==null?void 0:ee.propertyType)||"Unknown type","  Built: ",((V=L.summary)==null?void 0:V.yearbuilt)||"Unknown"," ",(G=(J=L.building)==null?void 0:J.size)!=null&&G.universalsize?`${L.building.size.universalsize.toLocaleString()} sq ft`:"Size unknown"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-medium",children:(he=(re=L.sale)==null?void 0:re.amount)!=null&&he.saleamt?`$${L.sale.amount.saleamt.toLocaleString()}`:"No sale data"}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Attom ID: ",((Ee=L.identifier)==null?void 0:Ee.attomId)||"N/A"]})]})]})},((Fe=L.identifier)==null?void 0:Fe.Id)||se)})})})]})]})]})]})}),t.jsx(ke,{value:"property-analysis",className:"space-y-6",children:b?t.jsx(MR,{property:b}):t.jsx(F,{children:t.jsxs(U,{className:"p-8 text-center",children:[t.jsx(xr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),t.jsx("h3",{className:"font-semibold mb-2",children:"No Property Selected"}),t.jsx("p",{className:"text-muted-foreground",children:"Run an API test and select a property to see detailed field analysis."})]})})}),t.jsx(ke,{value:"raw-data",className:"space-y-6",children:b?t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Y,{children:"Selected Property Raw Data"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs($,{onClick:()=>w(b),size:"sm",variant:"outline",children:[t.jsx(ht,{className:"w-3 h-3 mr-1"}),"Copy JSON"]}),t.jsxs($,{onClick:()=>w(r),size:"sm",variant:"outline",children:[t.jsx(ht,{className:"w-3 h-3 mr-1"}),"Copy Full Response"]})]})]})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Property Summary"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-blue-700",children:"Address:"})," ",(A=b.address)==null?void 0:A.oneLine]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-blue-700",children:"Attom ID:"})," ",(R=b.identifier)==null?void 0:R.attomId]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-blue-700",children:"Type:"})," ",(M=b.summary)==null?void 0:M.propertyType]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-blue-700",children:"Year Built:"})," ",(z=b.summary)==null?void 0:z.yearbuilt]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-blue-700",children:"Size:"})," ",(D=(E=b.building)==null?void 0:E.size)!=null&&D.universalsize?`${b.building.size.universalsize.toLocaleString()} sq ft`:"N/A"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-blue-700",children:"Sale Price:"})," ",(W=(H=b.sale)==null?void 0:H.amount)!=null&&W.saleamt?`$${b.sale.amount.saleamt.toLocaleString()}`:"N/A"]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Interactive Data Explorer"}),t.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border max-h-96 overflow-auto",children:t.jsx(Fh,{data:b})})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Raw JSON"}),t.jsx(ja,{className:"h-64 w-full",children:t.jsx("pre",{className:"text-xs whitespace-pre-wrap bg-gray-50 p-4 rounded border",children:P(b)})})]})]})})]}):r?t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Y,{children:"Full API Response"}),t.jsxs($,{onClick:()=>w(r),size:"sm",variant:"outline",children:[t.jsx(ht,{className:"w-3 h-3 mr-1"}),"Copy"]})]})}),t.jsx(U,{children:t.jsx(ja,{className:"h-96 w-full",children:t.jsx("pre",{className:"text-xs whitespace-pre-wrap bg-gray-50 p-4 rounded border",children:P(r)})})})]}):t.jsx(F,{children:t.jsxs(U,{className:"p-8 text-center",children:[t.jsx(Qt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),t.jsx("h3",{className:"font-semibold mb-2",children:"No Data Available"}),t.jsx("p",{className:"text-muted-foreground",children:"Run an API test to see raw response data."})]})})}),t.jsx(ke,{value:"connectivity",className:"space-y-6",children:t.jsxs(F,{children:[t.jsx(q,{children:t.jsx(Y,{children:"Network & Server Connectivity"})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[t.jsx("span",{children:"Network Status"}),t.jsx(K,{variant:navigator.onLine?"default":"destructive",children:navigator.onLine?"Online":"Offline"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[t.jsx("span",{children:"Server Status"}),C((c==null?void 0:c.success)||!1)]}),(c==null?void 0:c.error)&&t.jsxs(ce,{className:"border-red-200 bg-red-50",children:[t.jsx(ze,{className:"h-4 w-4 text-red-600"}),t.jsxs(de,{className:"text-red-700",children:[t.jsx("strong",{children:"Connection Error:"})," ",c.error]})]})]})})]})}),t.jsx(ke,{value:"storage",className:"space-y-6",children:t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Y,{children:"Local Storage Data"}),t.jsxs($,{onClick:S,variant:"destructive",size:"sm",children:[t.jsx(Mi,{className:"w-3 h-3 mr-1"}),"Clear All"]})]})}),t.jsx(U,{children:t.jsx("div",{className:"space-y-4",children:Object.entries(o).map(([L,se])=>t.jsxs("div",{className:"border border-border rounded-md p-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"font-medium",children:L}),t.jsxs($,{onClick:()=>w(se),size:"sm",variant:"outline",children:[t.jsx(ht,{className:"w-3 h-3 mr-1"}),"Copy"]})]}),se?t.jsx(ja,{className:"h-32 w-full",children:t.jsx("pre",{className:"text-xs whitespace-pre-wrap bg-muted p-2 rounded",children:P(se)})}):t.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No data stored"})]},L))})})]})}),t.jsx(ke,{value:"logs",className:"space-y-6",children:t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Y,{children:"Debug Logs"}),t.jsxs($,{onClick:()=>f([]),size:"sm",variant:"outline",children:[t.jsx(Mi,{className:"w-3 h-3 mr-1"}),"Clear Logs"]})]})}),t.jsx(U,{children:t.jsx(ja,{className:"h-96 w-full",children:t.jsx("div",{className:"space-y-2",children:u.length===0?t.jsx("p",{className:"text-sm text-muted-foreground italic text-center py-8",children:"No logs yet. Perform actions to see debug information."}):u.map(L=>t.jsxs("div",{className:`p-3 rounded border-l-4 ${L.type==="success"?"bg-green-50 border-green-500":L.type==="error"?"bg-red-50 border-red-500":L.type==="warning"?"bg-yellow-50 border-yellow-500":"bg-blue-50 border-blue-500"}`,children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium",children:L.message}),t.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(L.timestamp).toLocaleString()})]}),L.data&&t.jsx($,{onClick:()=>w(L.data),size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(ht,{className:"w-3 h-3"})})]}),L.data&&t.jsxs("details",{className:"mt-2",children:[t.jsx("summary",{className:"text-xs cursor-pointer text-muted-foreground",children:"Show details"}),t.jsx("pre",{className:"text-xs mt-1 bg-white p-2 rounded border max-h-32 overflow-auto",children:P(L.data)})]})]},L.id))})})})]})})]})]})}function LR(){const[e,s]=m.useState("11 Village Street, Deep River, CT 06412"),[r,n]=m.useState(!1),[a,i]=m.useState(!1),[o,l]=m.useState([]),[c,d]=m.useState(null),u=["11 Village Street, Deep River, CT 06412","123 Main Street, Anytown, CA 90210","456 Oak Avenue, Unit 4B, Springfield, TX 75001","789 Elm Drive, Denver, CO 80202","1000 Maple Lane, Riverside, FL 33101","555 Broadway, New York, NY 10012","2000 University Avenue, Berkeley, CA 94720","300 North Michigan Avenue, Chicago, IL 60601","1234 Sunset Boulevard, Los Angeles, CA 90028","567 Commonwealth Avenue, Boston, MA 02115"],f=x=>{const S=x.trim().replace(/\s+/g," "),w=S.split(",").map(k=>k.trim()).filter(k=>k.length>0);if(w.length>=3){const k=w[0],C=w[1],N=w[2].match(/^([A-Z]{2})\s*(\d{5}(?:-\d{4})?)$/);let T="",O="";return N&&(T=N[1],O=N[2]),{address1:k,address2:`${C}, ${T} ${O}`.trim(),city:C,state:T,postalcode:O,original:x}}if(w.length===2){const k=w[0],C=w[1],P=C.match(/^(.+?)\s+([A-Z]{2})\s+(\d{5}(?:-\d{4})?)$/);if(P){const N=P[1],T=P[2],O=P[3];return{address1:k,address2:`${N}, ${T} ${O}`,city:N,state:T,postalcode:O,original:x}}return{address1:k,address2:C,original:x}}return{address1:S,address2:"United States",original:x}};Z.useEffect(()=>{e&&d(f(e))},[e]);const p=async(x,S)=>{const w=Date.now();try{const k=`https://${De}.supabase.co/functions/v1/make-server-a24396d5/attom/${x}`;let C=k;x==="search-by-address"?C=`${k}?address=${encodeURIComponent(S)}`:x==="valuation"?C=`${k}?address=${encodeURIComponent(S)}`:x==="comparables"&&(C=`${k}?address=${encodeURIComponent(S)}&radius=0.5`);const P=await fetch(C,{method:"GET",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"}}),N=Date.now()-w,T=await P.json();return{success:P.ok&&T.success,endpoint:x,duration:N,status:P.status,data:T,timestamp:new Date().toISOString()}}catch(k){const C=Date.now()-w;return{success:!1,endpoint:x,duration:C,status:0,data:null,error:k.message,timestamp:new Date().toISOString()}}},h=async()=>{n(!0),l([]);const x=["search-by-address","valuation","comparables"],S=[];for(const w of x){console.log(`Testing ${w}...`);const k=await p(w,e);S.push(k),l([...S])}n(!1)},j=async x=>{i(!0);const S=await p(x,e);l(w=>[S,...w.filter(k=>k.endpoint!==x)]),i(!1)},v=async()=>{n(!0),l([]);const x=[];for(const S of u.slice(0,5)){console.log(`Testing address: ${S}`);const w=await p("search-by-address",S);x.push({...w,endpoint:`search-by-address (${S.substring(0,30)}...)`}),l([...x]),await new Promise(k=>setTimeout(k,500))}n(!1)},b=x=>{navigator.clipboard.writeText(JSON.stringify(x,null,2))},g=x=>x.success?t.jsx(K,{className:"bg-green-100 text-green-800 border-green-300",children:"Success"}):x.status===0?t.jsx(K,{variant:"destructive",children:"Network Error"}):t.jsx(K,{variant:"destructive",children:"API Error"}),y=x=>{var S,w,k,C,P,N,T,O;return x.success?null:((w=(S=x.data)==null?void 0:S.error)==null?void 0:w.code)==="PROPERTY_NOT_FOUND"?t.jsxs(ce,{className:"bg-blue-50 border-blue-200 mt-2",children:[t.jsx(Ct,{className:"h-4 w-4 text-blue-600"}),t.jsxs(de,{className:"text-blue-700",children:[t.jsx("strong",{children:"Property Not Found:"})," This is normal - the address may not exist in the Attom database or may be a new property."]})]}):((C=(k=x.data)==null?void 0:k.error)==null?void 0:C.code)==="VALUATION_ERROR"||((N=(P=x.data)==null?void 0:P.error)==null?void 0:N.code)==="VALUATION_NOT_FOUND"?t.jsxs(ce,{className:"bg-yellow-50 border-yellow-200 mt-2",children:[t.jsx(Ct,{className:"h-4 w-4 text-yellow-600"}),t.jsxs(de,{className:"text-yellow-700",children:[t.jsx("strong",{children:"Valuation Unavailable:"})," AVM data is not available for all properties. This is normal."]})]}):x.status===400&&((O=(T=x.data)==null?void 0:T.includes)!=null&&O.call(T,"Address1 and Address2 are required"))?t.jsxs(ce,{className:"bg-red-50 border-red-200 mt-2",children:[t.jsx(it,{className:"h-4 w-4 text-red-600"}),t.jsxs(de,{className:"text-red-700",children:[t.jsx("strong",{children:"API Parameter Error:"})," The address parsing is not providing the required parameters correctly."]})]}):x.status===404?t.jsxs(ce,{className:"bg-red-50 border-red-200 mt-2",children:[t.jsx(it,{className:"h-4 w-4 text-red-600"}),t.jsxs(de,{className:"text-red-700",children:[t.jsx("strong",{children:"Endpoint Not Found:"})," The API endpoint may be incorrect or the service may be down."]})]}):null};return t.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"text-center space-y-2",children:[t.jsxs("h1",{className:"text-3xl font-bold flex items-center justify-center gap-2",children:[t.jsx(Ls,{className:"w-8 h-8 text-primary"}),"Attom API Test Tool"]}),t.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Comprehensive testing tool for the Attom Data API integration with detailed error analysis and debugging information."})]}),t.jsxs(Hs,{defaultValue:"single-test",className:"w-full",children:[t.jsxs(qs,{className:"grid w-full grid-cols-4",children:[t.jsx(Se,{value:"single-test",children:"Single Test"}),t.jsx(Se,{value:"comprehensive",children:"Comprehensive"}),t.jsx(Se,{value:"results",children:"Results"}),t.jsx(Se,{value:"analysis",children:"Analysis"})]}),t.jsx(ke,{value:"single-test",className:"space-y-6",children:t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(kt,{className:"w-5 h-5"}),"Single Address Test"]})}),t.jsxs(U,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(X,{htmlFor:"test-address",children:"Test Address"}),t.jsx(Re,{id:"test-address",value:e,onChange:x=>s(x.target.value),placeholder:"Enter a property address...",className:"mt-1"})]}),c&&t.jsxs(F,{className:"bg-muted/50",children:[t.jsx(q,{children:t.jsx(Y,{className:"text-base",children:"Address Parsing Preview"})}),t.jsx(U,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Address1:"})," ",c.address1]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Address2:"})," ",c.address2]}),c.city&&t.jsxs("div",{children:[t.jsx("strong",{children:"City:"})," ",c.city]}),c.state&&t.jsxs("div",{children:[t.jsx("strong",{children:"State:"})," ",c.state]}),c.postalcode&&t.jsxs("div",{children:[t.jsx("strong",{children:"ZIP:"})," ",c.postalcode]})]})})]}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsxs($,{onClick:h,disabled:r||!e.trim(),className:"flex-1 min-w-[200px]",children:[r?t.jsx(Ye,{className:"w-4 h-4 mr-2 animate-spin"}):t.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Test All Endpoints"]}),t.jsxs($,{onClick:()=>j("search-by-address"),disabled:a||!e.trim(),variant:"outline",children:[t.jsx(We,{className:"w-4 h-4 mr-2"}),"Property Search"]}),t.jsxs($,{onClick:()=>j("valuation"),disabled:a||!e.trim(),variant:"outline",children:[t.jsx(ls,{className:"w-4 h-4 mr-2"}),"Valuation"]}),t.jsxs($,{onClick:()=>j("comparables"),disabled:a||!e.trim(),variant:"outline",children:[t.jsx(Hr,{className:"w-4 h-4 mr-2"}),"Comparables"]})]}),t.jsxs("div",{children:[t.jsx(X,{className:"text-sm font-medium",children:"Quick Test Addresses:"}),t.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:u.slice(0,6).map((x,S)=>t.jsx($,{variant:"outline",size:"sm",onClick:()=>s(x),className:"text-xs",children:x.split(",")[0]},S))})]})]})]})}),t.jsx(ke,{value:"comprehensive",className:"space-y-6",children:t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Hr,{className:"w-5 h-5"}),"Comprehensive Testing"]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Test multiple addresses to evaluate API reliability and performance."})]}),t.jsxs(U,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"font-medium mb-2",children:["Test Addresses (",u.length,")"]}),t.jsx("div",{className:"text-sm space-y-1 max-h-40 overflow-y-auto",children:u.map((x,S)=>t.jsx("div",{className:"p-2 bg-muted/50 rounded text-xs",children:x},S))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Test Configuration"}),t.jsxs("div",{className:"text-sm space-y-2",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Endpoints:"})," search-by-address"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Addresses:"})," First 5 from test set"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Delay:"})," 500ms between requests"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Timeout:"})," 30 seconds per request"]})]})]})]}),t.jsxs($,{onClick:v,disabled:r,className:"w-full",children:[r?t.jsx(Ye,{className:"w-4 h-4 mr-2 animate-spin"}):t.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Run Comprehensive Test"]})]})]})}),t.jsx(ke,{value:"results",className:"space-y-6",children:t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(be,{className:"w-5 h-5"}),"Test Results (",o.length,")"]}),t.jsx($,{onClick:()=>l([]),variant:"outline",size:"sm",children:"Clear Results"})]})}),t.jsx(U,{children:t.jsx(ja,{className:"h-96 w-full",children:t.jsx("div",{className:"space-y-4",children:o.length===0?t.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No test results yet. Run some tests to see results here."}):o.map((x,S)=>{var w,k;return t.jsxs("div",{className:"border border-border rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h4",{className:"font-medium",children:x.endpoint}),g(x)]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[t.jsxs("span",{children:[x.duration,"ms"]}),t.jsx($,{onClick:()=>b(x),size:"sm",variant:"ghost",children:t.jsx(ht,{className:"w-3 h-3"})})]})]}),t.jsxs("div",{className:"text-sm space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("span",{children:[t.jsx("strong",{children:"Status:"})," ",x.status]}),t.jsxs("span",{children:[t.jsx("strong",{children:"Duration:"})," ",x.duration,"ms"]}),t.jsxs("span",{children:[t.jsx("strong",{children:"Time:"})," ",new Date(x.timestamp).toLocaleTimeString()]})]}),x.error&&t.jsxs("div",{className:"text-red-600",children:[t.jsx("strong",{children:"Error:"})," ",x.error]}),((w=x.data)==null?void 0:w.error)&&t.jsxs("div",{className:"text-red-600",children:[t.jsx("strong",{children:"API Error:"})," ",x.data.error.message,x.data.error.code&&t.jsxs("span",{className:"ml-2 text-xs",children:["(",x.data.error.code,")"]})]}),x.success&&((k=x.data)==null?void 0:k.data)&&t.jsxs("div",{className:"text-green-600",children:[t.jsx("strong",{children:"Success:"})," Data received",x.data.data.id&&t.jsxs("span",{className:"ml-2 text-xs",children:["(ID: ",x.data.data.id,")"]})]})]}),y(x),t.jsxs("details",{className:"mt-3",children:[t.jsx("summary",{className:"text-xs text-muted-foreground cursor-pointer",children:"Show raw response"}),t.jsx(ja,{className:"h-32 w-full mt-2",children:t.jsx("pre",{className:"text-xs bg-muted p-2 rounded whitespace-pre-wrap",children:JSON.stringify(x.data,null,2)})})]})]},S)})})})})]})}),t.jsxs(ke,{value:"analysis",className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs(F,{children:[t.jsx(q,{children:t.jsx(Y,{className:"text-base",children:"Success Rate"})}),t.jsx(U,{children:o.length>0?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-3xl font-bold text-primary",children:[Math.round(o.filter(x=>x.success).length/o.length*100),"%"]}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.filter(x=>x.success).length," of ",o.length," successful"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{children:"Successful:"}),t.jsx("span",{className:"text-green-600",children:o.filter(x=>x.success).length})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{children:"Failed:"}),t.jsx("span",{className:"text-red-600",children:o.filter(x=>!x.success).length})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{children:"Property Not Found:"}),t.jsx("span",{className:"text-blue-600",children:o.filter(x=>{var S,w;return((w=(S=x.data)==null?void 0:S.error)==null?void 0:w.code)==="PROPERTY_NOT_FOUND"}).length})]})]})]}):t.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No test data available"})})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsx(Y,{className:"text-base",children:"Performance"})}),t.jsx(U,{children:o.length>0?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-3xl font-bold text-primary",children:[Math.round(o.reduce((x,S)=>x+S.duration,0)/o.length),"ms"]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Average Response Time"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{children:"Fastest:"}),t.jsxs("span",{className:"text-green-600",children:[Math.min(...o.map(x=>x.duration)),"ms"]})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{children:"Slowest:"}),t.jsxs("span",{className:"text-red-600",children:[Math.max(...o.map(x=>x.duration)),"ms"]})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{children:"Total Time:"}),t.jsxs("span",{children:[o.reduce((x,S)=>x+S.duration,0),"ms"]})]})]})]}):t.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No performance data available"})})]})]}),o.some(x=>!x.success)&&t.jsxs(F,{children:[t.jsx(q,{children:t.jsx(Y,{className:"text-base",children:"Error Analysis"})}),t.jsx(U,{children:t.jsx("div",{className:"space-y-3",children:Array.from(new Set(o.filter(x=>!x.success).map(x=>{var S,w;return(w=(S=x.data)==null?void 0:S.error)!=null&&w.code?x.data.error.code:x.status===0?"NETWORK_ERROR":x.status===404?"ENDPOINT_NOT_FOUND":x.status===400?"BAD_REQUEST":"UNKNOWN_ERROR"}))).map(x=>{const S=o.filter(w=>{var k,C;return((C=(k=w.data)==null?void 0:k.error)==null?void 0:C.code)===x||x==="NETWORK_ERROR"&&w.status===0||x==="ENDPOINT_NOT_FOUND"&&w.status===404||x==="BAD_REQUEST"&&w.status===400}).length;return t.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted/50 rounded",children:[t.jsx("span",{className:"text-sm font-medium",children:x}),t.jsx(K,{variant:"outline",children:S})]},x)})})})]})]})]})]})}var ou="Collapsible",[$R,N1]=Vs(ou),[FR,$p]=$R(ou),S1=m.forwardRef((e,s)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,d]=Gr({prop:n,defaultProp:a??!1,onChange:o,caller:ou});return t.jsx(FR,{scope:r,disabled:i,contentId:gr(),open:c,onOpenToggle:m.useCallback(()=>d(u=>!u),[d]),children:t.jsx(we.div,{"data-state":zp(c),"data-disabled":i?"":void 0,...l,ref:s})})});S1.displayName=ou;var k1="CollapsibleTrigger",_1=m.forwardRef((e,s)=>{const{__scopeCollapsible:r,...n}=e,a=$p(k1,r);return t.jsx(we.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":zp(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:s,onClick:Ce(e.onClick,a.onOpenToggle)})});_1.displayName=k1;var Fp="CollapsibleContent",A1=m.forwardRef((e,s)=>{const{forceMount:r,...n}=e,a=$p(Fp,e.__scopeCollapsible);return t.jsx(Ws,{present:r||a.open,children:({present:i})=>t.jsx(zR,{...n,ref:s,present:i})})});A1.displayName=Fp;var zR=m.forwardRef((e,s)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=e,o=$p(Fp,r),[l,c]=m.useState(n),d=m.useRef(null),u=Ke(s,d),f=m.useRef(0),p=f.current,h=m.useRef(0),j=h.current,v=o.open||l,b=m.useRef(v),g=m.useRef(void 0);return m.useEffect(()=>{const y=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(y)},[]),Pt(()=>{const y=d.current;if(y){g.current=g.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const x=y.getBoundingClientRect();f.current=x.height,h.current=x.width,b.current||(y.style.transitionDuration=g.current.transitionDuration,y.style.animationName=g.current.animationName),c(n)}},[o.open,n]),t.jsx(we.div,{"data-state":zp(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!v,...i,ref:u,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...e.style},children:v&&a})});function zp(e){return e?"open":"closed"}var UR=S1,BR=_1,VR=A1,kr="Accordion",WR=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Up,HR,qR]=Tp(kr),[lu,J$]=Vs(kr,[qR,N1]),Bp=N1(),C1=Z.forwardRef((e,s)=>{const{type:r,...n}=e,a=n,i=n;return t.jsx(Up.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?t.jsx(JR,{...i,ref:s}):t.jsx(KR,{...a,ref:s})})});C1.displayName=kr;var[P1,YR]=lu(kr),[T1,GR]=lu(kr,{collapsible:!1}),KR=Z.forwardRef((e,s)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=Gr({prop:r,defaultProp:n??"",onChange:a,caller:kr});return t.jsx(P1,{scope:e.__scopeAccordion,value:Z.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:Z.useCallback(()=>i&&c(""),[i,c]),children:t.jsx(T1,{scope:e.__scopeAccordion,collapsible:i,children:t.jsx(E1,{...o,ref:s})})})}),JR=Z.forwardRef((e,s)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=Gr({prop:r,defaultProp:n??[],onChange:a,caller:kr}),c=Z.useCallback(u=>l((f=[])=>[...f,u]),[l]),d=Z.useCallback(u=>l((f=[])=>f.filter(p=>p!==u)),[l]);return t.jsx(P1,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:t.jsx(T1,{scope:e.__scopeAccordion,collapsible:!0,children:t.jsx(E1,{...i,ref:s})})})}),[QR,cu]=lu(kr),E1=Z.forwardRef((e,s)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...o}=e,l=Z.useRef(null),c=Ke(l,s),d=HR(r),f=zl(a)==="ltr",p=Ce(e.onKeyDown,h=>{var P;if(!WR.includes(h.key))return;const j=h.target,v=d().filter(N=>{var T;return!((T=N.ref.current)!=null&&T.disabled)}),b=v.findIndex(N=>N.ref.current===j),g=v.length;if(b===-1)return;h.preventDefault();let y=b;const x=0,S=g-1,w=()=>{y=b+1,y>S&&(y=x)},k=()=>{y=b-1,y<x&&(y=S)};switch(h.key){case"Home":y=x;break;case"End":y=S;break;case"ArrowRight":i==="horizontal"&&(f?w():k());break;case"ArrowDown":i==="vertical"&&w();break;case"ArrowLeft":i==="horizontal"&&(f?k():w());break;case"ArrowUp":i==="vertical"&&k();break}const C=y%g;(P=v[C].ref.current)==null||P.focus()});return t.jsx(QR,{scope:r,disabled:n,direction:a,orientation:i,children:t.jsx(Up.Slot,{scope:r,children:t.jsx(we.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:p})})})}),wd="AccordionItem",[XR,Vp]=lu(wd),I1=Z.forwardRef((e,s)=>{const{__scopeAccordion:r,value:n,...a}=e,i=cu(wd,r),o=YR(wd,r),l=Bp(r),c=gr(),d=n&&o.value.includes(n)||!1,u=i.disabled||e.disabled;return t.jsx(XR,{scope:r,open:d,disabled:u,triggerId:c,children:t.jsx(UR,{"data-orientation":i.orientation,"data-state":$1(d),...l,...a,ref:s,disabled:u,open:d,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});I1.displayName=wd;var O1="AccordionHeader",R1=Z.forwardRef((e,s)=>{const{__scopeAccordion:r,...n}=e,a=cu(kr,r),i=Vp(O1,r);return t.jsx(we.h3,{"data-orientation":a.orientation,"data-state":$1(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:s})});R1.displayName=O1;var zh="AccordionTrigger",M1=Z.forwardRef((e,s)=>{const{__scopeAccordion:r,...n}=e,a=cu(kr,r),i=Vp(zh,r),o=GR(zh,r),l=Bp(r);return t.jsx(Up.ItemSlot,{scope:r,children:t.jsx(BR,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...n,ref:s})})});M1.displayName=zh;var D1="AccordionContent",L1=Z.forwardRef((e,s)=>{const{__scopeAccordion:r,...n}=e,a=cu(kr,r),i=Vp(D1,r),o=Bp(r);return t.jsx(VR,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...n,ref:s,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});L1.displayName=D1;function $1(e){return e?"open":"closed"}var ZR=C1,eM=I1,tM=R1,sM=M1,rM=L1;function F1({...e}){return t.jsx(ZR,{"data-slot":"accordion",...e})}function z1({className:e,...s}){return t.jsx(eM,{"data-slot":"accordion-item",className:ve("border-b last:border-b-0",e),...s})}function U1({className:e,children:s,...r}){return t.jsx(tM,{className:"flex",children:t.jsxs(sM,{"data-slot":"accordion-trigger",className:ve("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",e),...r,children:[s,t.jsx(Ia,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function B1({className:e,children:s,...r}){return t.jsx(rM,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...r,children:t.jsx("div",{className:ve("pt-0 pb-4",e),children:s})})}var du="Checkbox",[nM,Q$]=Vs(du),[aM,Wp]=nM(du);function iM(e){const{__scopeCheckbox:s,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:f}=e,[p,h]=Gr({prop:r,defaultProp:a??!1,onChange:c,caller:du}),[j,v]=m.useState(null),[b,g]=m.useState(null),y=m.useRef(!1),x=j?!!o||!!j.closest("form"):!0,S={checked:p,disabled:i,setChecked:h,control:j,setControl:v,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:y,required:d,defaultChecked:Gn(a)?!1:a,isFormControl:x,bubbleInput:b,setBubbleInput:g};return t.jsx(aM,{scope:s,...S,children:oM(f)?f(S):n})}var V1="CheckboxTrigger",W1=m.forwardRef(({__scopeCheckbox:e,onKeyDown:s,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:h,bubbleInput:j}=Wp(V1,e),v=Ke(a,u),b=m.useRef(c);return m.useEffect(()=>{const g=i==null?void 0:i.form;if(g){const y=()=>f(b.current);return g.addEventListener("reset",y),()=>g.removeEventListener("reset",y)}},[i,f]),t.jsx(we.button,{type:"button",role:"checkbox","aria-checked":Gn(c)?"mixed":c,"aria-required":d,"data-state":J1(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:v,onKeyDown:Ce(s,g=>{g.key==="Enter"&&g.preventDefault()}),onClick:Ce(r,g=>{f(y=>Gn(y)?!0:!y),j&&h&&(p.current=g.isPropagationStopped(),p.current||g.stopPropagation())})})});W1.displayName=V1;var H1=m.forwardRef((e,s)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...f}=e;return t.jsx(iM,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:n,form:u,value:c,internal_do_not_use_render:({isFormControl:p})=>t.jsxs(t.Fragment,{children:[t.jsx(W1,{...f,ref:s,__scopeCheckbox:r}),p&&t.jsx(K1,{__scopeCheckbox:r})]})})});H1.displayName=du;var q1="CheckboxIndicator",Y1=m.forwardRef((e,s)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=Wp(q1,r);return t.jsx(Ws,{present:n||Gn(i.checked)||i.checked===!0,children:t.jsx(we.span,{"data-state":J1(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:s,style:{pointerEvents:"none",...e.style}})})});Y1.displayName=q1;var G1="CheckboxBubbleInput",K1=m.forwardRef(({__scopeCheckbox:e,...s},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:f,bubbleInput:p,setBubbleInput:h}=Wp(G1,e),j=Ke(r,h),v=MN(i),b=Cw(n);m.useEffect(()=>{const y=p;if(!y)return;const x=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(x,"checked").set,k=!a.current;if(v!==i&&w){const C=new Event("click",{bubbles:k});y.indeterminate=Gn(i),w.call(y,Gn(i)?!1:i),y.dispatchEvent(C)}},[p,v,i,a]);const g=m.useRef(Gn(i)?!1:i);return t.jsx(we.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??g.current,required:l,disabled:c,name:d,value:u,form:f,...s,tabIndex:-1,ref:j,style:{...s.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});K1.displayName=G1;function oM(e){return typeof e=="function"}function Gn(e){return e==="indeterminate"}function J1(e){return Gn(e)?"indeterminate":e?"checked":"unchecked"}function Bo({className:e,...s}){return t.jsx(H1,{"data-slot":"checkbox",className:ve("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:t.jsx(Y1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:t.jsx(Zf,{className:"size-3.5"})})})}var lM=e=>{switch(e){case"success":return uM;case"info":return hM;case"warning":return mM;case"error":return fM;default:return null}},cM=Array(12).fill(0),dM=({visible:e,className:s})=>Z.createElement("div",{className:["sonner-loading-wrapper",s].filter(Boolean).join(" "),"data-visible":e},Z.createElement("div",{className:"sonner-spinner"},cM.map((r,n)=>Z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),uM=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),mM=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),hM=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),fM=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),pM=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),xM=()=>{let[e,s]=Z.useState(document.hidden);return Z.useEffect(()=>{let r=()=>{s(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Uh=1,gM=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let s=this.subscribers.indexOf(e);this.subscribers.splice(s,1)}),this.publish=e=>{this.subscribers.forEach(s=>s(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var s;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((s=e.id)==null?void 0:s.length)>0?e.id:Uh++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(s=>{this.subscribers.forEach(r=>r({id:s.id,dismiss:!0}))}),this.subscribers.forEach(s=>s({id:e,dismiss:!0})),e),this.message=(e,s)=>this.create({...s,message:e}),this.error=(e,s)=>this.create({...s,message:e,type:"error"}),this.success=(e,s)=>this.create({...s,type:"success",message:e}),this.info=(e,s)=>this.create({...s,type:"info",message:e}),this.warning=(e,s)=>this.create({...s,type:"warning",message:e}),this.loading=(e,s)=>this.create({...s,type:"loading",message:e}),this.promise=(e,s)=>{if(!s)return;let r;s.loading!==void 0&&(r=this.create({...s,promise:e,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],Z.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(yM(c)&&!c.ok){a=!1;let d=typeof s.error=="function"?await s.error(`HTTP error! status: ${c.status}`):s.error,u=typeof s.description=="function"?await s.description(`HTTP error! status: ${c.status}`):s.description;this.create({id:r,type:"error",message:d,description:u})}else if(s.success!==void 0){a=!1;let d=typeof s.success=="function"?await s.success(c):s.success,u=typeof s.description=="function"?await s.description(c):s.description;this.create({id:r,type:"success",message:d,description:u})}}).catch(async c=>{if(i=["reject",c],s.error!==void 0){a=!1;let d=typeof s.error=="function"?await s.error(c):s.error,u=typeof s.description=="function"?await s.description(c):s.description;this.create({id:r,type:"error",message:d,description:u})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=s.finally)==null||c.call(s)}),l=()=>new Promise((c,d)=>o.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,s)=>{let r=(s==null?void 0:s.id)||Uh++;return this.create({jsx:e(r),id:r,...s}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},js=new gM,vM=(e,s)=>{let r=(s==null?void 0:s.id)||Uh++;return js.addToast({title:e,...s,id:r}),r},yM=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",jM=vM,bM=()=>js.toasts,wM=()=>js.getActiveToasts(),qe=Object.assign(jM,{success:js.success,info:js.info,warning:js.warning,error:js.error,custom:js.custom,message:js.message,promise:js.promise,dismiss:js.dismiss,loading:js.loading},{getHistory:bM,getToasts:wM});function NM(e,{insertAt:s}={}){if(!e||typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",s==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}NM(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function xc(e){return e.label!==void 0}var SM=3,kM="32px",_M="16px",Py=4e3,AM=356,CM=14,PM=20,TM=200;function ar(...e){return e.filter(Boolean).join(" ")}function EM(e){let[s,r]=e.split("-"),n=[];return s&&n.push(s),r&&n.push(r),n}var IM=e=>{var s,r,n,a,i,o,l,c,d,u,f;let{invert:p,toast:h,unstyled:j,interacting:v,setHeights:b,visibleToasts:g,heights:y,index:x,toasts:S,expanded:w,removeToast:k,defaultRichColors:C,closeButton:P,style:N,cancelButtonStyle:T,actionButtonStyle:O,className:I="",descriptionClassName:_="",duration:A,position:R,gap:M,loadingIcon:z,expandByDefault:E,classNames:D,icons:H,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:L}=e,[se,te]=Z.useState(null),[le,ue]=Z.useState(null),[ee,V]=Z.useState(!1),[J,G]=Z.useState(!1),[re,he]=Z.useState(!1),[Ee,Fe]=Z.useState(!1),[me,B]=Z.useState(!1),[Q,ae]=Z.useState(0),[ie,je]=Z.useState(0),fe=Z.useRef(h.duration||A||Py),Ne=Z.useRef(null),Le=Z.useRef(null),He=x===0,Oe=x+1<=g,pe=h.type,Ge=h.dismissible!==!1,bt=h.className||"",qt=h.descriptionClassName||"",es=Z.useMemo(()=>y.findIndex(_e=>_e.toastId===h.id)||0,[y,h.id]),ge=Z.useMemo(()=>{var _e;return(_e=h.closeButton)!=null?_e:P},[h.closeButton,P]),st=Z.useMemo(()=>h.duration||A||Py,[h.duration,A]),pt=Z.useRef(0),wt=Z.useRef(0),ts=Z.useRef(0),xt=Z.useRef(null),[_t,Tt]=R.split("-"),Dt=Z.useMemo(()=>y.reduce((_e,Ue,Je)=>Je>=es?_e:_e+Ue.height,0),[y,es]),ss=xM(),Ar=h.invert||p,Ys=pe==="loading";wt.current=Z.useMemo(()=>es*M+Dt,[es,Dt]),Z.useEffect(()=>{fe.current=st},[st]),Z.useEffect(()=>{V(!0)},[]),Z.useEffect(()=>{let _e=Le.current;if(_e){let Ue=_e.getBoundingClientRect().height;return je(Ue),b(Je=>[{toastId:h.id,height:Ue,position:h.position},...Je]),()=>b(Je=>Je.filter(Et=>Et.toastId!==h.id))}},[b,h.id]),Z.useLayoutEffect(()=>{if(!ee)return;let _e=Le.current,Ue=_e.style.height;_e.style.height="auto";let Je=_e.getBoundingClientRect().height;_e.style.height=Ue,je(Je),b(Et=>Et.find(It=>It.toastId===h.id)?Et.map(It=>It.toastId===h.id?{...It,height:Je}:It):[{toastId:h.id,height:Je,position:h.position},...Et])},[ee,h.title,h.description,b,h.id]);let Yt=Z.useCallback(()=>{G(!0),ae(wt.current),b(_e=>_e.filter(Ue=>Ue.toastId!==h.id)),setTimeout(()=>{k(h)},TM)},[h,k,b,wt]);Z.useEffect(()=>{if(h.promise&&pe==="loading"||h.duration===1/0||h.type==="loading")return;let _e;return w||v||L&&ss?(()=>{if(ts.current<pt.current){let Ue=new Date().getTime()-pt.current;fe.current=fe.current-Ue}ts.current=new Date().getTime()})():fe.current!==1/0&&(pt.current=new Date().getTime(),_e=setTimeout(()=>{var Ue;(Ue=h.onAutoClose)==null||Ue.call(h,h),Yt()},fe.current)),()=>clearTimeout(_e)},[w,v,h,pe,L,ss,Yt]),Z.useEffect(()=>{h.delete&&Yt()},[Yt,h.delete]);function Cr(){var _e,Ue,Je;return H!=null&&H.loading?Z.createElement("div",{className:ar(D==null?void 0:D.loader,(_e=h==null?void 0:h.classNames)==null?void 0:_e.loader,"sonner-loader"),"data-visible":pe==="loading"},H.loading):z?Z.createElement("div",{className:ar(D==null?void 0:D.loader,(Ue=h==null?void 0:h.classNames)==null?void 0:Ue.loader,"sonner-loader"),"data-visible":pe==="loading"},z):Z.createElement(dM,{className:ar(D==null?void 0:D.loader,(Je=h==null?void 0:h.classNames)==null?void 0:Je.loader),visible:pe==="loading"})}return Z.createElement("li",{tabIndex:0,ref:Le,className:ar(I,bt,D==null?void 0:D.toast,(s=h==null?void 0:h.classNames)==null?void 0:s.toast,D==null?void 0:D.default,D==null?void 0:D[pe],(r=h==null?void 0:h.classNames)==null?void 0:r[pe]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:C,"data-styled":!(h.jsx||h.unstyled||j),"data-mounted":ee,"data-promise":!!h.promise,"data-swiped":me,"data-removed":J,"data-visible":Oe,"data-y-position":_t,"data-x-position":Tt,"data-index":x,"data-front":He,"data-swiping":re,"data-dismissible":Ge,"data-type":pe,"data-invert":Ar,"data-swipe-out":Ee,"data-swipe-direction":le,"data-expanded":!!(w||E&&ee),style:{"--index":x,"--toasts-before":x,"--z-index":S.length-x,"--offset":`${J?Q:wt.current}px`,"--initial-height":E?"auto":`${ie}px`,...N,...h.style},onDragEnd:()=>{he(!1),te(null),xt.current=null},onPointerDown:_e=>{Ys||!Ge||(Ne.current=new Date,ae(wt.current),_e.target.setPointerCapture(_e.pointerId),_e.target.tagName!=="BUTTON"&&(he(!0),xt.current={x:_e.clientX,y:_e.clientY}))},onPointerUp:()=>{var _e,Ue,Je,Et;if(Ee||!Ge)return;xt.current=null;let It=Number(((_e=Le.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Gt=Number(((Ue=Le.current)==null?void 0:Ue.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),rs=new Date().getTime()-((Je=Ne.current)==null?void 0:Je.getTime()),Ot=se==="x"?It:Gt,Kt=Math.abs(Ot)/rs;if(Math.abs(Ot)>=PM||Kt>.11){ae(wt.current),(Et=h.onDismiss)==null||Et.call(h,h),ue(se==="x"?It>0?"right":"left":Gt>0?"down":"up"),Yt(),Fe(!0),B(!1);return}he(!1),te(null)},onPointerMove:_e=>{var Ue,Je,Et,It;if(!xt.current||!Ge||((Ue=window.getSelection())==null?void 0:Ue.toString().length)>0)return;let Gt=_e.clientY-xt.current.y,rs=_e.clientX-xt.current.x,Ot=(Je=e.swipeDirections)!=null?Je:EM(R);!se&&(Math.abs(rs)>1||Math.abs(Gt)>1)&&te(Math.abs(rs)>Math.abs(Gt)?"x":"y");let Kt={x:0,y:0};se==="y"?(Ot.includes("top")||Ot.includes("bottom"))&&(Ot.includes("top")&&Gt<0||Ot.includes("bottom")&&Gt>0)&&(Kt.y=Gt):se==="x"&&(Ot.includes("left")||Ot.includes("right"))&&(Ot.includes("left")&&rs<0||Ot.includes("right")&&rs>0)&&(Kt.x=rs),(Math.abs(Kt.x)>0||Math.abs(Kt.y)>0)&&B(!0),(Et=Le.current)==null||Et.style.setProperty("--swipe-amount-x",`${Kt.x}px`),(It=Le.current)==null||It.style.setProperty("--swipe-amount-y",`${Kt.y}px`)}},ge&&!h.jsx?Z.createElement("button",{"aria-label":W,"data-disabled":Ys,"data-close-button":!0,onClick:Ys||!Ge?()=>{}:()=>{var _e;Yt(),(_e=h.onDismiss)==null||_e.call(h,h)},className:ar(D==null?void 0:D.closeButton,(a=h==null?void 0:h.classNames)==null?void 0:a.closeButton)},(i=H==null?void 0:H.close)!=null?i:pM):null,h.jsx||m.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:Z.createElement(Z.Fragment,null,pe||h.icon||h.promise?Z.createElement("div",{"data-icon":"",className:ar(D==null?void 0:D.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Cr():null,h.type!=="loading"?h.icon||(H==null?void 0:H[pe])||lM(pe):null):null,Z.createElement("div",{"data-content":"",className:ar(D==null?void 0:D.content,(l=h==null?void 0:h.classNames)==null?void 0:l.content)},Z.createElement("div",{"data-title":"",className:ar(D==null?void 0:D.title,(c=h==null?void 0:h.classNames)==null?void 0:c.title)},typeof h.title=="function"?h.title():h.title),h.description?Z.createElement("div",{"data-description":"",className:ar(_,qt,D==null?void 0:D.description,(d=h==null?void 0:h.classNames)==null?void 0:d.description)},typeof h.description=="function"?h.description():h.description):null),m.isValidElement(h.cancel)?h.cancel:h.cancel&&xc(h.cancel)?Z.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||T,onClick:_e=>{var Ue,Je;xc(h.cancel)&&Ge&&((Je=(Ue=h.cancel).onClick)==null||Je.call(Ue,_e),Yt())},className:ar(D==null?void 0:D.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,m.isValidElement(h.action)?h.action:h.action&&xc(h.action)?Z.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||O,onClick:_e=>{var Ue,Je;xc(h.action)&&((Je=(Ue=h.action).onClick)==null||Je.call(Ue,_e),!_e.defaultPrevented&&Yt())},className:ar(D==null?void 0:D.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function Ty(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function OM(e,s){let r={};return[e,s].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?_M:kM;function c(d){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${o}-${d}`]=l:r[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(l)}),r}m.forwardRef(function(e,s){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:d,theme:u="light",richColors:f,duration:p,style:h,visibleToasts:j=SM,toastOptions:v,dir:b=Ty(),gap:g=CM,loadingIcon:y,icons:x,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:w}=e,[k,C]=Z.useState([]),P=Z.useMemo(()=>Array.from(new Set([n].concat(k.filter(L=>L.position).map(L=>L.position)))),[k,n]),[N,T]=Z.useState([]),[O,I]=Z.useState(!1),[_,A]=Z.useState(!1),[R,M]=Z.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=Z.useRef(null),E=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=Z.useRef(null),H=Z.useRef(!1),W=Z.useCallback(L=>{C(se=>{var te;return(te=se.find(le=>le.id===L.id))!=null&&te.delete||js.dismiss(L.id),se.filter(({id:le})=>le!==L.id)})},[]);return Z.useEffect(()=>js.subscribe(L=>{if(L.dismiss){C(se=>se.map(te=>te.id===L.id?{...te,delete:!0}:te));return}setTimeout(()=>{bb.flushSync(()=>{C(se=>{let te=se.findIndex(le=>le.id===L.id);return te!==-1?[...se.slice(0,te),{...se[te],...L},...se.slice(te+1)]:[L,...se]})})})}),[]),Z.useEffect(()=>{if(u!=="system"){M(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window>"u")return;let L=window.matchMedia("(prefers-color-scheme: dark)");try{L.addEventListener("change",({matches:se})=>{M(se?"dark":"light")})}catch{L.addListener(({matches:te})=>{try{M(te?"dark":"light")}catch(le){console.error(le)}})}},[u]),Z.useEffect(()=>{k.length<=1&&I(!1)},[k]),Z.useEffect(()=>{let L=se=>{var te,le;a.every(ue=>se[ue]||se.code===ue)&&(I(!0),(te=z.current)==null||te.focus()),se.code==="Escape"&&(document.activeElement===z.current||(le=z.current)!=null&&le.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[a]),Z.useEffect(()=>{if(z.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,H.current=!1)}},[z.current]),Z.createElement("section",{ref:s,"aria-label":`${S} ${E}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((L,se)=>{var te;let[le,ue]=L.split("-");return k.length?Z.createElement("ol",{key:L,dir:b==="auto"?Ty():b,tabIndex:-1,ref:z,className:l,"data-sonner-toaster":!0,"data-theme":R,"data-y-position":le,"data-lifted":O&&k.length>1&&!i,"data-x-position":ue,style:{"--front-toast-height":`${((te=N[0])==null?void 0:te.height)||0}px`,"--width":`${AM}px`,"--gap":`${g}px`,...h,...OM(c,d)},onBlur:ee=>{H.current&&!ee.currentTarget.contains(ee.relatedTarget)&&(H.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||H.current||(H.current=!0,D.current=ee.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{_||I(!1)},onDragEnd:()=>I(!1),onPointerDown:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||A(!0)},onPointerUp:()=>A(!1)},k.filter(ee=>!ee.position&&se===0||ee.position===L).map((ee,V)=>{var J,G;return Z.createElement(IM,{key:ee.id,icons:x,index:V,toast:ee,defaultRichColors:f,duration:(J=v==null?void 0:v.duration)!=null?J:p,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:r,visibleToasts:j,closeButton:(G=v==null?void 0:v.closeButton)!=null?G:o,interacting:_,position:L,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:W,toasts:k.filter(re=>re.position==ee.position),heights:N.filter(re=>re.position==ee.position),setHeights:T,expandByDefault:i,gap:g,loadingIcon:y,expanded:O,pauseWhenPageIsHidden:w,swipeDirections:e.swipeDirections})})):null}))});const RM=()=>[{id:"address",name:"address",type:"string",description:"Full property address including street, city, and state",example:"123 Oak Street, Riverside Heights, CA 90210",category:"address",format:"street_address, city, state zip",validation:"Must include street address, city, and state"},{id:"address1",name:"address1",type:"string",description:"Street address line 1",example:"123 Oak Street",category:"address",format:"street_number street_name",validation:"Required street number and name"},{id:"address2",name:"address2",type:"string",description:"Street address line 2 (unit, apt, suite)",example:"Apt 4B",category:"address",format:"unit_type unit_number"},{id:"city",name:"city",type:"string",description:"City name",example:"Beverly Hills",category:"location"},{id:"state",name:"state",type:"string",description:"State abbreviation (2 characters)",example:"CA",category:"location",format:"XX",validation:"Must be 2-character state code",possibleValues:["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","DC"]},{id:"zipcode",name:"zipcode",type:"string",description:"ZIP code (5 or 9 digits)",example:"90210",category:"location",format:"XXXXX or XXXXX-XXXX",validation:"Must be 5 digits or 5+4 format"},{id:"postalcode",name:"postalcode",type:"string",description:"Postal code",example:"90210",category:"location",format:"XXXXX"},{id:"apn",name:"apn",type:"string",description:"Assessor Parcel Number",example:"4356-789-01",category:"property",format:"varies by county"},{id:"fips",name:"fips",type:"string",description:"Federal Information Processing Standards code",example:"06037",category:"location",format:"XXXXX"},{id:"msa",name:"msa",type:"string",description:"Metropolitan Statistical Area code",example:"31080",category:"location"},{id:"radius",name:"radius",type:"number",description:"Search radius in miles",example:"5",category:"search",validation:"Must be positive number",possibleValues:["1","2","5","10","25","50"]},{id:"propertytype",name:"propertytype",type:"string",description:"Type of property",example:"SFR",category:"property",possibleValues:["SFR","CON","TWH","CPR","MFR","CND","OTH"],validation:"Must be valid property type code"},{id:"bedrooms",name:"bedrooms",type:"number",description:"Number of bedrooms",example:"3",category:"property",validation:"Must be positive integer"},{id:"bathrooms",name:"bathrooms",type:"number",description:"Number of bathrooms",example:"2",category:"property",validation:"Can include half baths (e.g., 2.5)"},{id:"startdate",name:"startdate",type:"string",description:"Start date for date range queries",example:"2023-01-01",category:"filter",format:"YYYY-MM-DD",validation:"Must be valid date in YYYY-MM-DD format"},{id:"enddate",name:"enddate",type:"string",description:"End date for date range queries",example:"2024-01-01",category:"filter",format:"YYYY-MM-DD",validation:"Must be valid date in YYYY-MM-DD format"},{id:"minprice",name:"minprice",type:"number",description:"Minimum property value",example:"500000",category:"filter",validation:"Must be positive number"},{id:"maxprice",name:"maxprice",type:"number",description:"Maximum property value",example:"1000000",category:"filter",validation:"Must be positive number"},{id:"debug",name:"debug",type:"string",description:"Include debug information in API response",example:"True",category:"format",possibleValues:["True","False"],defaultValue:"True"},{id:"format",name:"format",type:"string",description:"Response format",example:"json",category:"format",possibleValues:["json","xml"],defaultValue:"json"},{id:"page",name:"page",type:"number",description:"Page number for paginated results",example:"1",category:"format",validation:"Must be positive integer",defaultValue:"1"},{id:"pagesize",name:"pagesize",type:"number",description:"Number of results per page",example:"10",category:"format",validation:"Must be between 1 and 100",possibleValues:["10","25","50","100"]}],Ey=()=>[{id:"property_basic_profile",name:"Property Basic Profile",endpoint:"/propertyapi/v1.0.0/property/basicprofile",method:"GET",description:"Get basic property information including address, lot size, building area, and ownership details",category:"property-basic",displayOrder:1,isActive:!0,showInPropertyDetails:!0,requiredParams:[{name:"address",type:"string",description:"Full property address including street, city, and state",example:"123 Oak Street, Riverside Heights, CA 90210",format:"street_address, city, state zip",validation:"Must include street address, city, and state"}],optionalParams:[{name:"debug",type:"string",description:"Include debug information in API response",example:"True",defaultValue:"True",possibleValues:["True","False"]}],responseFields:[{name:"property_address",path:"property[0].address",type:"object",description:"Complete property address information",isRequired:!0,displayInPropertyDetails:!0,displayName:"Property Address"},{name:"lot_info",path:"property[0].lot",type:"object",description:"Lot size and dimensions",isRequired:!0,displayInPropertyDetails:!0,displayName:"Lot Information"},{name:"building_info",path:"property[0].building",type:"object",description:"Building details and characteristics",isRequired:!0,displayInPropertyDetails:!0,displayName:"Building Information"},{name:"owner_info",path:"property[0].owner",type:"object",description:"Current property owner information",isRequired:!1,displayInPropertyDetails:!0,displayName:"Owner Information"}],created:new Date().toISOString(),modified:new Date().toISOString()},{id:"property_expanded_profile",name:"Property Expanded Profile",endpoint:"/propertyapi/v1.0.0/property/expandedprofile",method:"GET",description:"Get comprehensive property information including detailed building characteristics, room counts, and features",category:"property-expanded",displayOrder:2,isActive:!0,showInPropertyDetails:!0,requiredParams:[{name:"address",type:"string",description:"Full property address including street, city, and state",example:"123 Oak Street, Riverside Heights, CA 90210",format:"street_address, city, state zip"}],optionalParams:[{name:"debug",type:"string",description:"Include debug information in API response",example:"True",defaultValue:"True",possibleValues:["True","False"]}],responseFields:[{name:"building_details",path:"property[0].building",type:"object",description:"Detailed building information",isRequired:!0,displayInPropertyDetails:!0,displayName:"Building Details"},{name:"room_information",path:"property[0].building.rooms",type:"object",description:"Room counts and details",isRequired:!0,displayInPropertyDetails:!0,displayName:"Room Information"},{name:"property_features",path:"property[0].building.construction",type:"object",description:"Construction and feature details",isRequired:!0,displayInPropertyDetails:!0,displayName:"Property Features"}],created:new Date().toISOString(),modified:new Date().toISOString()},{id:"school_data",name:"School Information",endpoint:"/schoolapi/v1.0.0/school/detail",method:"GET",description:"Get school district and individual school information for a property address",category:"school",displayOrder:3,isActive:!0,showInPropertyDetails:!0,requiredParams:[{name:"address",type:"string",description:"Full property address including street, city, and state",example:"123 Oak Street, Riverside Heights, CA 90210"}],optionalParams:[{name:"debug",type:"string",description:"Include debug information in API response",example:"True",defaultValue:"True",possibleValues:["True","False"]}],responseFields:[{name:"school_district",path:"school[0].district",type:"object",description:"School district information",isRequired:!0,displayInPropertyDetails:!0,displayName:"School District"},{name:"schools",path:"school[0].institution",type:"array",description:"List of schools serving this address",isRequired:!0,displayInPropertyDetails:!0,displayName:"Schools"}],created:new Date().toISOString(),modified:new Date().toISOString()}];function MM(){var ee;const[e,s]=m.useState([]),[r,n]=m.useState(null),[a,i]=m.useState(!1),[o,l]=m.useState("overview"),[c,d]=m.useState({}),[u,f]=m.useState(!1),[p,h]=m.useState(""),[j,v]=m.useState("all"),[b,g]=m.useState(!1),[y,x]=m.useState([]),[S,w]=m.useState(!1),[k,C]=m.useState(!1),[P,N]=m.useState(new Set),[T]=m.useState(RM());m.useState(!1);const O=["all","property-basic","property-expanded","neighborhood","school","risk-assessment","market-trends","environmental","demographics","ownership","valuation"],I=(V,J,G)=>{const re={timestamp:new Date().toISOString(),level:V,message:J,data:G};x(he=>[re,...he.slice(0,49)]),console.log(`[Attom Admin ${V.toUpperCase()}]`,J,G)};m.useEffect(()=>{A()},[]);const _=V=>{const J=`https://${De}.supabase.co/functions/v1/make-server-a24396d5${V}`;return I("info",`Building server URL: ${J}`,{path:V,projectId:De}),J},A=async()=>{var V;i(!0),I("info","Starting configuration load");try{const J=_("/attom-admin/configurations");I("info","Making request to load configurations",{url:J});const G=await fetch(J,{method:"GET",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"}});if(I("info","Response received",{status:G.status,statusText:G.statusText,headers:Object.fromEntries(G.headers.entries())}),G.ok){const re=await G.json();I("info","Configuration data loaded successfully",{endpointsCount:((V=re.endpoints)==null?void 0:V.length)||0,data:re}),s(re.endpoints||[]),(!re.endpoints||re.endpoints.length===0)&&I("warn","No endpoints found in loaded configuration")}else{let re;try{re=await G.json()}catch{re={error:"Failed to parse error response"}}throw I("error","Failed to load configurations from server",{status:G.status,statusText:G.statusText,errorData:re}),new Error(re.error||`HTTP ${G.status}: ${G.statusText}`)}}catch(J){I("error","Configuration load failed",{error:J.message,stack:J.stack}),console.error("Failed to load configurations:",J),qe.error(`Failed to load API configurations: ${J.message}`);const G=Ey();s(G),I("info","Loaded default configuration as fallback",{endpointsCount:G.length})}finally{i(!1)}},R=async V=>{i(!0),I("info","Starting configuration save",{endpointId:V.id,endpointName:V.name});try{if(!V.name||V.name.trim()==="")throw new Error("Endpoint name is required");if(!V.endpoint||V.endpoint.trim()==="")throw new Error("Endpoint URL is required");I("info","Endpoint validation passed",{endpoint:V});const J=_("/attom-admin/endpoints"),G=JSON.stringify(V,null,2);I("info","Making save request",{url:J,method:"POST",bodySize:G.length,endpoint:V});const re=await fetch(J,{method:"POST",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"},body:G});if(I("info","Save response received",{status:re.status,statusText:re.statusText,headers:Object.fromEntries(re.headers.entries())}),re.ok){const he=await re.json();I("info","Configuration saved successfully",{responseData:he}),await A(),qe.success("Configuration saved successfully"),f(!1),n(null)}else{let he;try{he=await re.json()}catch{he={error:"Failed to parse error response"}}throw I("error","Save request failed",{status:re.status,statusText:re.statusText,errorData:he}),new Error(he.error||`HTTP ${re.status}: ${re.statusText}`)}}catch(J){I("error","Configuration save failed",{error:J.message,stack:J.stack,endpoint:V}),console.error("Save error:",J),qe.error(`Failed to save configuration: ${J.message}`)}finally{i(!1)}},M=async V=>{if(confirm("Are you sure you want to delete this configuration?")){i(!0),I("info","Starting configuration delete",{endpointId:V});try{const J=_(`/attom-admin/endpoints/${V}`);I("info","Making delete request",{url:J});const G=await fetch(J,{method:"DELETE",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"}});if(I("info","Delete response received",{status:G.status,statusText:G.statusText}),G.ok){const re=await G.json();I("info","Configuration deleted successfully",{responseData:re}),await A(),qe.success("Configuration deleted successfully"),(r==null?void 0:r.id)===V&&n(null)}else{let re;try{re=await G.json()}catch{re={error:"Failed to parse error response"}}throw I("error","Delete request failed",{status:G.status,statusText:G.statusText,errorData:re}),new Error(re.error||`HTTP ${G.status}: ${G.statusText}`)}}catch(J){I("error","Configuration delete failed",{error:J.message,stack:J.stack}),console.error("Delete error:",J),qe.error(`Failed to delete configuration: ${J.message}`)}finally{i(!1)}}},z=async V=>{i(!0),I("info","Starting endpoint test",{endpointId:V.id,endpointName:V.name});try{const J=E(V),G=_("/attom-admin/test-endpoint"),re=JSON.stringify({endpointId:V.id,testParams:J});I("info","Making test request",{url:G,testParams:J,requestBody:re});const he=await fetch(G,{method:"POST",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"},body:re}),Ee=await he.json();I("info","Test response received",{status:he.status,result:Ee}),d(Fe=>({...Fe,[V.id]:Ee})),he.ok&&Ee.success?(qe.success(`Endpoint "${V.name}" tested successfully`),I("info","Endpoint test successful",{endpointName:V.name})):(qe.error(`Endpoint "${V.name}" test failed: ${Ee.error}`),I("error","Endpoint test failed",{endpointName:V.name,error:Ee.error}))}catch(J){I("error","Endpoint test error",{error:J.message,stack:J.stack}),console.error("Test error:",J),qe.error("Failed to test endpoint")}finally{i(!1)}},E=V=>{const J={};return V.requiredParams.forEach(G=>{switch(G.name.toLowerCase()){case"address":J[G.name]="123 Oak Street, Riverside Heights, CA";break;case"zipcode":case"postalcode":J[G.name]="90210";break;case"city":J[G.name]="Beverly Hills";break;case"state":J[G.name]="CA";break;default:J[G.name]=G.example||G.defaultValue||""}}),J},D=async()=>{g(!0),I("info","Starting default configuration initialization");try{const V=Ey();I("info","Default configuration created",{endpointsCount:V.length});for(const J of V)await R(J);await A(),qe.success("Default configuration initialized successfully"),I("info","Default configuration initialized successfully")}catch(V){I("error","Default configuration initialization failed",{error:V.message,stack:V.stack}),console.error("Initialize error:",V),qe.error(`Failed to initialize default configuration: ${V.message}`)}finally{g(!1)}},H=()=>{x([]),I("info","Debug logs cleared")},W=V=>{const J={...V,id:`endpoint_${Date.now()}`,name:`${V.name} (Copy)`,displayOrder:e.length+1,created:new Date().toISOString(),modified:new Date().toISOString()};n(J),f(!0),l("configuration")},L=V=>{if(P.size===0){qe.error("No endpoints selected");return}const J=e.map(G=>P.has(G.id)?{...G,isActive:V,modified:new Date().toISOString()}:G);Promise.all(J.filter(G=>P.has(G.id)).map(G=>R(G))).then(()=>{qe.success(`${V?"Activated":"Deactivated"} ${P.size} endpoints`),N(new Set)}).catch(G=>{qe.error(`Failed to ${V?"activate":"deactivate"} endpoints: ${G.message}`)})},se=V=>{if(P.size===0){qe.error("No endpoints selected");return}const J=e.map(G=>P.has(G.id)?{...G,showInPropertyDetails:V,modified:new Date().toISOString()}:G);Promise.all(J.filter(G=>P.has(G.id)).map(G=>R(G))).then(()=>{qe.success(`${V?"Enabled":"Disabled"} property display for ${P.size} endpoints`),N(new Set)}).catch(G=>{qe.error(`Failed to update property display: ${G.message}`)})},te=(V,J)=>{const G={name:V.name,type:V.type,description:V.description,example:V.example,defaultValue:V.defaultValue,possibleValues:V.possibleValues,validation:V.validation,format:V.format};r&&(n(J==="required"?{...r,requiredParams:[...r.requiredParams,G]}:{...r,optionalParams:[...r.optionalParams,G]}),qe.success(`Added ${V.name} parameter from template`))},le=e.filter(V=>{const J=V.name.toLowerCase().includes(p.toLowerCase())||V.description.toLowerCase().includes(p.toLowerCase())||V.endpoint.toLowerCase().includes(p.toLowerCase()),G=j==="all"||V.category===j;return J&&G}),ue=()=>({id:`endpoint_${Date.now()}`,name:"",endpoint:"",method:"GET",description:"",category:"property-basic",displayOrder:e.length+1,requiredParams:[],optionalParams:[],responseFields:[],isActive:!0,showInPropertyDetails:!0,created:new Date().toISOString(),modified:new Date().toISOString()});return t.jsx("div",{className:"min-h-screen bg-background p-6",children:t.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[t.jsx(Di,{className:"w-8 h-8 text-primary"}),"Attom API Configuration"]}),t.jsx("p",{className:"text-muted-foreground mt-2",children:"Configure and manage Attom Data API endpoints, parameters, and field mappings with enhanced parameter templates"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs($,{variant:"outline",size:"sm",onClick:()=>w(!S),title:"Toggle debug panel",children:[t.jsx(Mb,{className:"w-4 h-4 mr-2"}),"Debug"]}),t.jsxs($,{variant:"outline",onClick:()=>D(),disabled:b,title:"Reset to default configuration",children:[b&&t.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"}),t.jsx(CC,{className:"w-4 h-4 mr-2"}),"Reset to Defaults"]}),t.jsxs($,{onClick:()=>{n(ue()),f(!0),l("configuration")},children:[t.jsx(on,{className:"w-4 h-4 mr-2"}),"Add Endpoint"]})]})]}),S&&t.jsxs(F,{className:"border-yellow-200 bg-yellow-50",children:[t.jsxs(q,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(jh,{className:"w-5 h-5"}),"Debug Information"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($,{size:"sm",variant:"outline",onClick:H,children:"Clear Logs"}),t.jsx($,{size:"sm",variant:"outline",onClick:()=>w(!1),children:"Close"})]})]}),t.jsx(Ie,{children:"Real-time debugging information for configuration operations"})]}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Project ID:"})," ",De]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Server Base URL:"})," https://",De,".supabase.co/functions/v1/make-server-a24396d5"]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Current Endpoints:"})," ",e.length]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Parameter Templates:"})," ",T.length]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("h4",{className:"font-semibold mb-2",children:"Recent Debug Logs"}),t.jsx("div",{className:"max-h-60 overflow-y-auto border rounded p-2 bg-white",children:y.length===0?t.jsx("p",{className:"text-muted-foreground text-sm",children:"No debug logs yet"}):y.slice(0,10).map((V,J)=>t.jsxs("div",{className:`text-xs mb-1 p-1 rounded ${V.level==="error"?"bg-red-100 text-red-800":V.level==="warn"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:[t.jsx("span",{className:"font-mono",children:V.timestamp.split("T")[1].split(".")[0]}),t.jsxs("span",{className:"ml-2 font-semibold",children:["[",V.level.toUpperCase(),"]"]}),t.jsx("span",{className:"ml-2",children:V.message}),V.data&&t.jsxs("details",{className:"mt-1",children:[t.jsx("summary",{className:"cursor-pointer text-xs",children:"Show details"}),t.jsx("pre",{className:"text-xs mt-1 overflow-x-auto",children:JSON.stringify(V.data,null,2)})]})]},J))})]})]})})]}),e.length===0&&t.jsxs(ce,{children:[t.jsx(it,{className:"h-4 w-4"}),t.jsx(de,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"No endpoints configured. Initialize with default configuration to get started."}),t.jsxs($,{size:"sm",onClick:D,disabled:b,children:[b&&t.jsx(ft,{className:"w-3 h-3 mr-1 animate-spin"}),t.jsx(Ye,{className:"w-3 h-3 mr-1"}),"Initialize Defaults"]})]})})]}),t.jsxs(Hs,{value:o,onValueChange:l,className:"w-full",children:[t.jsxs(qs,{className:"grid w-full grid-cols-5",children:[t.jsx(Se,{value:"overview",children:"Overview"}),t.jsx(Se,{value:"endpoints",children:"Endpoints"}),t.jsx(Se,{value:"parameters",children:"Parameter Library"}),t.jsx(Se,{value:"configuration",children:"Configuration"}),t.jsx(Se,{value:"testing",children:"Testing"})]}),t.jsxs(ke,{value:"overview",className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs(F,{children:[t.jsxs(q,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(Y,{className:"text-sm font-medium",children:"Total Endpoints"}),t.jsx(Ds,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(U,{children:[t.jsx("div",{className:"text-2xl font-bold",children:e.length}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.filter(V=>V.isActive).length," active"]})]})]}),t.jsxs(F,{children:[t.jsxs(q,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(Y,{className:"text-sm font-medium",children:"Property Display"}),t.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(U,{children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.filter(V=>V.showInPropertyDetails).length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Shown in property details"})]})]}),t.jsxs(F,{children:[t.jsxs(q,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(Y,{className:"text-sm font-medium",children:"Test Results"}),t.jsx(Ts,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(U,{children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(V=>V.testResult==="success").length}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.filter(V=>V.testResult==="error").length," failed"]})]})]}),t.jsxs(F,{children:[t.jsxs(q,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(Y,{className:"text-sm font-medium",children:"Parameter Templates"}),t.jsx(Qn,{className:"h-4 w-4 text-muted-foreground"})]}),t.jsxs(U,{children:[t.jsx("div",{className:"text-2xl font-bold text-purple-600",children:T.length}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Ready-to-use templates"})]})]})]}),t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Xf,{className:"w-5 h-5"}),"Enhanced Parameter Configuration Guide"]}),t.jsx(Ie,{children:"How to use parameter templates and enhanced configuration features"})]}),t.jsxs(U,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold mb-2",children:"Parameter Templates"}),t.jsxs("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[t.jsxs("li",{children:[" ",t.jsx("strong",{children:"Pre-built templates:"})," ",T.length," ready-to-use parameter configurations"]}),t.jsxs("li",{children:[" ",t.jsx("strong",{children:"Smart examples:"})," Realistic values and validation rules"]}),t.jsxs("li",{children:[" ",t.jsx("strong",{children:"Category organization:"})," Address, location, property, search filters"]}),t.jsxs("li",{children:[" ",t.jsx("strong",{children:"One-click adding:"})," Add parameters directly from template library"]}),t.jsxs("li",{children:[" ",t.jsx("strong",{children:"Format guidance:"})," Built-in formatting and validation rules"]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold mb-2",children:"Enhanced Features"}),t.jsxs("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[t.jsxs("li",{children:[" ",t.jsx("strong",{children:"Bulk operations:"})," Select and modify multiple endpoints"]}),t.jsxs("li",{children:[" ",t.jsx("strong",{children:"Parameter validation:"})," Built-in validation rules and examples"]}),t.jsxs("li",{children:[" ",t.jsx("strong",{children:"Possible values:"})," Dropdown lists for constrained parameters"]}),t.jsxs("li",{children:[" ",t.jsx("strong",{children:"Default values:"})," Pre-filled values for optional parameters"]}),t.jsxs("li",{children:[" ",t.jsx("strong",{children:"Format specifications:"})," Clear formatting requirements"]})]})]})]}),t.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[t.jsxs("h4",{className:"font-semibold text-sm mb-2 text-blue-900 flex items-center gap-2",children:[t.jsx(Xs,{className:"w-4 h-4"}),"Quick Start Tips"]}),t.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[t.jsx("p",{children:" Use the Parameter Library tab to browse all available templates"}),t.jsx("p",{children:' When configuring endpoints, click "Add from Template" to use pre-built parameters'}),t.jsx("p",{children:" Templates include validation rules, examples, and possible values automatically"}),t.jsx("p",{children:' Common parameters like "address", "state", and "debug" are ready to use'})]})]}),y.length>0&&t.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-lg",children:[t.jsx("h4",{className:"font-semibold text-sm mb-2",children:"System Status"}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(jh,{className:"w-4 h-4"}),t.jsxs("span",{children:["Debug logging active - ",y.length," events captured"]})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx(Ye,{className:"w-4 h-4"}),t.jsxs("span",{children:["Last activity: ",((ee=y[0])==null?void 0:ee.timestamp.split("T")[1].split(".")[0])||"None"]})]})]})]})]})]})]}),t.jsx(ke,{value:"parameters",className:"space-y-6",children:t.jsx(DM,{templates:T,onAddToEndpoint:te,selectedEndpoint:r,setSelectedEndpoint:n,setIsEditMode:f,setActiveTab:l})}),t.jsxs(ke,{value:"endpoints",className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col space-y-4",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsx(Re,{placeholder:"Search endpoints...",value:p,onChange:V=>h(V.target.value)})}),t.jsxs(Ur,{value:j,onValueChange:v,children:[t.jsx(Vr,{className:"w-48",children:t.jsx(Br,{placeholder:"Select category"})}),t.jsx(Wr,{children:O.map(V=>t.jsx(bs,{value:V,children:V==="all"?"All Categories":V.split("-").map(J=>J.charAt(0).toUpperCase()+J.slice(1)).join(" ")},V))})]}),t.jsxs($,{variant:"outline",onClick:()=>C(!k),className:k?"bg-blue-100":"",children:[t.jsx($v,{className:"w-4 h-4 mr-2"}),k?"Exit Bulk Mode":"Bulk Edit"]})]}),k&&t.jsx(F,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"text-sm font-medium",children:[P.size," endpoint",P.size!==1?"s":""," selected"]}),P.size>0&&t.jsx($,{variant:"outline",size:"sm",onClick:()=>N(new Set),children:"Clear Selection"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($,{variant:"outline",size:"sm",onClick:()=>L(!0),disabled:P.size===0,children:"Activate Selected"}),t.jsx($,{variant:"outline",size:"sm",onClick:()=>L(!1),disabled:P.size===0,children:"Deactivate Selected"}),t.jsx($,{variant:"outline",size:"sm",onClick:()=>se(!0),disabled:P.size===0,children:"Show in Property"}),t.jsx($,{variant:"outline",size:"sm",onClick:()=>se(!1),disabled:P.size===0,children:"Hide from Property"})]})]})})]}),t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:le.sort((V,J)=>V.displayOrder-J.displayOrder).map(V=>t.jsxs(F,{className:"cursor-pointer hover:shadow-md transition-shadow",children:[t.jsxs(q,{className:"pb-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[k&&t.jsx(Bo,{checked:P.has(V.id),onCheckedChange:J=>{const G=new Set(P);J?G.add(V.id):G.delete(V.id),N(G)}}),t.jsx(Y,{className:"text-lg",children:V.name})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[V.testResult==="success"&&t.jsx(be,{className:"w-4 h-4 text-green-500"}),V.testResult==="error"&&t.jsx(Ze,{className:"w-4 h-4 text-red-500"}),V.testResult==="warning"&&t.jsx(it,{className:"w-4 h-4 text-yellow-500"}),t.jsx(K,{variant:V.isActive?"default":"secondary",children:V.isActive?"Active":"Inactive"}),V.showInPropertyDetails&&t.jsxs(K,{variant:"outline",children:[t.jsx(Ht,{className:"w-3 h-3 mr-1"}),"Display"]})]})]}),t.jsx(Ie,{children:V.description})]}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(K,{variant:"outline",children:V.method}),t.jsx("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:V.endpoint})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[t.jsxs("span",{children:["Category: ",V.category]}),t.jsxs("span",{children:["Order: ",V.displayOrder]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[t.jsxs("span",{children:[V.requiredParams.length," required params"]}),t.jsxs("span",{children:[V.responseFields.filter(J=>J.displayInPropertyDetails).length," display fields"]})]}),t.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[t.jsxs($,{size:"sm",variant:"outline",onClick:()=>{n(V),f(!0),l("configuration")},children:[t.jsx($v,{className:"w-3 h-3 mr-1"}),"Edit"]}),t.jsxs($,{size:"sm",variant:"outline",onClick:()=>W(V),children:[t.jsx(ht,{className:"w-3 h-3 mr-1"}),"Duplicate"]}),t.jsxs($,{size:"sm",variant:"outline",onClick:()=>z(V),disabled:a,children:[t.jsx(Ts,{className:"w-3 h-3 mr-1"}),"Test"]}),t.jsxs($,{size:"sm",variant:"outline",onClick:()=>M(V.id),disabled:a,children:[t.jsx(Mi,{className:"w-3 h-3 mr-1"}),"Delete"]})]})]})})]},V.id))}),le.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("p",{className:"text-muted-foreground",children:"No endpoints found matching your criteria."}),t.jsxs($,{className:"mt-4",onClick:()=>{n(ue()),f(!0),l("configuration")},children:[t.jsx(on,{className:"w-4 h-4 mr-2"}),"Create First Endpoint"]})]})]}),t.jsx(ke,{value:"configuration",children:t.jsx(LM,{endpoint:r,isEditMode:u,onSave:R,onCancel:()=>{n(null),f(!1)},isLoading:a,parameterTemplates:T,onAddParameterFromTemplate:te})}),t.jsx(ke,{value:"testing",children:t.jsx($M,{endpoints:e,testResults:c,onTestEndpoint:z,isLoading:a})})]})]})})}function DM({templates:e,onAddToEndpoint:s,selectedEndpoint:r,setSelectedEndpoint:n,setIsEditMode:a,setActiveTab:i}){const[o,l]=m.useState(""),[c,d]=m.useState("all"),u=["all","address","location","property","search","filter","format"],f=e.filter(h=>{const j=h.name.toLowerCase().includes(o.toLowerCase())||h.description.toLowerCase().includes(o.toLowerCase()),v=c==="all"||h.category===c;return j&&v}),p=u.slice(1).map(h=>({category:h,templates:e.filter(j=>j.category===h),count:e.filter(j=>j.category===h).length}));return t.jsxs("div",{className:"space-y-6",children:[t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Qn,{className:"w-5 h-5"}),"Parameter Template Library"]}),t.jsx(Ie,{children:"Browse and add pre-configured parameters to your endpoints. Templates include validation, examples, and possible values."})]}),t.jsxs(U,{children:[!r&&t.jsxs(ce,{children:[t.jsx(it,{className:"h-4 w-4"}),t.jsx(de,{children:"Select an endpoint to edit first, then come back here to add parameters from templates."})]}),r&&t.jsxs(ce,{className:"mb-4",children:[t.jsx(be,{className:"h-4 w-4"}),t.jsxs(de,{children:["Adding parameters to: ",t.jsx("strong",{children:r.name}),'. Click "Add as Required" or "Add as Optional" to add parameters.']})]})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsx(Re,{placeholder:"Search parameter templates...",value:o,onChange:h=>l(h.target.value)})}),t.jsxs(Ur,{value:c,onValueChange:d,children:[t.jsx(Vr,{className:"w-48",children:t.jsx(Br,{placeholder:"Select category"})}),t.jsx(Wr,{children:u.map(h=>t.jsx(bs,{value:h,children:h==="all"?"All Categories":h.charAt(0).toUpperCase()+h.slice(1)},h))})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:p.map(({category:h,count:j})=>t.jsx(F,{className:"cursor-pointer hover:shadow-md transition-shadow",children:t.jsx(U,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold capitalize",children:h}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:[j," templates"]})]}),t.jsx(K,{variant:"outline",children:j})]})})},h))}),t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:f.map(h=>t.jsxs(F,{className:"hover:shadow-md transition-shadow",children:[t.jsxs(q,{className:"pb-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(Y,{className:"text-lg flex items-center gap-2",children:[t.jsx(jl,{className:"w-4 h-4"}),h.name]}),t.jsx(K,{variant:"outline",className:"capitalize",children:h.category})]}),t.jsx(Ie,{children:h.description})]}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-2 text-sm",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"font-medium",children:"Type:"}),t.jsx(K,{variant:"secondary",children:h.type})]}),t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsx("span",{className:"font-medium",children:"Example:"}),t.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded max-w-48 overflow-hidden",children:h.example})]}),h.format&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"font-medium",children:"Format:"}),t.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:h.format})]}),h.defaultValue&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"font-medium",children:"Default:"}),t.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:h.defaultValue})]}),h.possibleValues&&h.possibleValues.length>0&&t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsx("span",{className:"font-medium",children:"Values:"}),t.jsxs("div",{className:"flex flex-wrap gap-1 max-w-48",children:[h.possibleValues.slice(0,3).map(j=>t.jsx(K,{variant:"outline",className:"text-xs",children:j},j)),h.possibleValues.length>3&&t.jsxs(K,{variant:"outline",className:"text-xs",children:["+",h.possibleValues.length-3]})]})]}),h.validation&&t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsx("span",{className:"font-medium",children:"Validation:"}),t.jsx("span",{className:"text-xs text-muted-foreground max-w-48 text-right",children:h.validation})]})]}),t.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t",children:[t.jsxs($,{size:"sm",variant:"default",onClick:()=>s(h,"required"),disabled:!r,children:[t.jsx(on,{className:"w-3 h-3 mr-1"}),"Add as Required"]}),t.jsxs($,{size:"sm",variant:"outline",onClick:()=>s(h,"optional"),disabled:!r,children:[t.jsx(on,{className:"w-3 h-3 mr-1"}),"Add as Optional"]})]})]})})]},h.id))}),f.length===0&&t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-muted-foreground",children:"No parameter templates found matching your criteria."})})]})}function LM({endpoint:e,isEditMode:s,onSave:r,onCancel:n,isLoading:a,parameterTemplates:i,onAddParameterFromTemplate:o}){const[l,c]=m.useState(e),[d,u]=m.useState({}),[f,p]=m.useState(null);if(m.useEffect(()=>{c(e),u({})},[e]),!s||!l)return t.jsx(F,{children:t.jsx(U,{className:"py-12 text-center",children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"w-16 h-16 mx-auto bg-muted rounded-full flex items-center justify-center",children:t.jsx(Sr,{className:"w-8 h-8 text-muted-foreground"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Configure an Endpoint"}),t.jsx("p",{className:"text-muted-foreground",children:"Select an endpoint to configure or create a new one."})]})]})})});const h=()=>{const k={};return(!l.name||l.name.trim()==="")&&(k.name="Endpoint name is required"),(!l.endpoint||l.endpoint.trim()==="")&&(k.endpoint="Endpoint URL is required"),(!l.description||l.description.trim()==="")&&(k.description="Description is required"),u(k),Object.keys(k).length===0},j=k=>{const C={name:"",type:"string",description:"",example:""};c(k==="required"?{...l,requiredParams:[...l.requiredParams,C]}:{...l,optionalParams:[...l.optionalParams,C]})},v=()=>{const k={name:"",path:"",type:"string",description:"",isRequired:!1,displayInPropertyDetails:!0,displayName:""};c({...l,responseFields:[...l.responseFields,k]})},b=(k,C,P)=>{if(C==="required"){const N=[...l.requiredParams];N[k]={...N[k],...P},c({...l,requiredParams:N})}else{const N=[...l.optionalParams];N[k]={...N[k],...P},c({...l,optionalParams:N})}},g=(k,C)=>{const P=[...l.responseFields];P[k]={...P[k],...C},c({...l,responseFields:P})},y=(k,C)=>{c(C==="required"?{...l,requiredParams:l.requiredParams.filter((P,N)=>N!==k)}:{...l,optionalParams:l.optionalParams.filter((P,N)=>N!==k)})},x=k=>{c({...l,responseFields:l.responseFields.filter((C,P)=>P!==k)})},S=()=>{l&&h()&&r({...l,modified:new Date().toISOString()})},w=(k,C)=>{const P={name:k.name,type:k.type,description:k.description,example:k.example,defaultValue:k.defaultValue,possibleValues:k.possibleValues,validation:k.validation,format:k.format};c(C==="required"?{...l,requiredParams:[...l.requiredParams,P]}:{...l,optionalParams:[...l.optionalParams,P]}),p(null),qe.success(`Added ${k.name} parameter from template`)};return t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsx(Y,{children:l.id.startsWith("endpoint_")?"Create New Endpoint":"Edit Endpoint Configuration"}),t.jsx(Ie,{children:"Configure the endpoint details, parameters with templates, response fields, and display settings."})]}),t.jsxs(U,{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(X,{htmlFor:"name",children:"Endpoint Name *"}),t.jsx(Re,{id:"name",value:l.name,onChange:k=>c({...l,name:k.target.value}),placeholder:"e.g., Property Basic Profile",className:d.name?"border-red-500":""}),d.name&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.name})]}),t.jsxs("div",{children:[t.jsx(X,{htmlFor:"category",children:"Category"}),t.jsxs(Ur,{value:l.category,onValueChange:k=>c({...l,category:k}),children:[t.jsx(Vr,{children:t.jsx(Br,{})}),t.jsx(Wr,{children:["property-basic","property-expanded","neighborhood","school","risk-assessment","market-trends","environmental","demographics","ownership","valuation"].map(k=>t.jsx(bs,{value:k,children:k.split("-").map(C=>C.charAt(0).toUpperCase()+C.slice(1)).join(" ")},k))})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(X,{htmlFor:"endpoint",children:"API Endpoint *"}),t.jsx(Re,{id:"endpoint",value:l.endpoint,onChange:k=>c({...l,endpoint:k.target.value}),placeholder:"e.g., /propertyapi/v1.0.0/property/basicprofile",className:d.endpoint?"border-red-500":""}),d.endpoint&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.endpoint})]}),t.jsxs("div",{children:[t.jsx(X,{htmlFor:"displayOrder",children:"Display Order"}),t.jsx(Re,{id:"displayOrder",type:"number",value:l.displayOrder,onChange:k=>c({...l,displayOrder:parseInt(k.target.value)||1}),placeholder:"1"})]})]}),t.jsxs("div",{children:[t.jsx(X,{htmlFor:"description",children:"Description *"}),t.jsx(Ui,{id:"description",value:l.description,onChange:k=>c({...l,description:k.target.value}),placeholder:"Describe what this endpoint does and what data it returns...",className:d.description?"border-red-500":""}),d.description&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.description})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Display Settings"}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Bo,{id:"isActive",checked:l.isActive,onCheckedChange:k=>c({...l,isActive:!!k})}),t.jsx(X,{htmlFor:"isActive",children:"Active"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Bo,{id:"showInPropertyDetails",checked:l.showInPropertyDetails,onCheckedChange:k=>c({...l,showInPropertyDetails:!!k})}),t.jsx(X,{htmlFor:"showInPropertyDetails",children:"Show in Property Details"})]})]})]}),t.jsxs(Hs,{defaultValue:"required-params",className:"w-full",children:[t.jsxs(qs,{className:"grid w-full grid-cols-3",children:[t.jsx(Se,{value:"required-params",children:"Required Parameters"}),t.jsx(Se,{value:"optional-params",children:"Optional Parameters"}),t.jsx(Se,{value:"response-fields",children:"Response Fields"})]}),t.jsxs(ke,{value:"required-params",className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Required Parameters"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs($,{type:"button",variant:"outline",size:"sm",onClick:()=>p("required"),children:[t.jsx(Qn,{className:"w-4 h-4 mr-2"}),"Add from Template"]}),t.jsxs($,{type:"button",variant:"outline",size:"sm",onClick:()=>j("required"),children:[t.jsx(on,{className:"w-4 h-4 mr-2"}),"Add Custom"]})]})]}),t.jsx(Iy,{parameters:l.requiredParams,onUpdateParameter:(k,C)=>b(k,"required",C),onRemoveParameter:k=>y(k,"required"),type:"required"}),f==="required"&&t.jsx(Oy,{templates:i,onSelect:k=>w(k,"required"),onClose:()=>p(null)})]}),t.jsxs(ke,{value:"optional-params",className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Optional Parameters"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs($,{type:"button",variant:"outline",size:"sm",onClick:()=>p("optional"),children:[t.jsx(Qn,{className:"w-4 h-4 mr-2"}),"Add from Template"]}),t.jsxs($,{type:"button",variant:"outline",size:"sm",onClick:()=>j("optional"),children:[t.jsx(on,{className:"w-4 h-4 mr-2"}),"Add Custom"]})]})]}),t.jsx(Iy,{parameters:l.optionalParams,onUpdateParameter:(k,C)=>b(k,"optional",C),onRemoveParameter:k=>y(k,"optional"),type:"optional"}),f==="optional"&&t.jsx(Oy,{templates:i,onSelect:k=>w(k,"optional"),onClose:()=>p(null)})]}),t.jsxs(ke,{value:"response-fields",className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Response Fields"}),t.jsxs($,{type:"button",variant:"outline",size:"sm",onClick:v,children:[t.jsx(on,{className:"w-4 h-4 mr-2"}),"Add Field"]})]}),t.jsx("div",{className:"space-y-4",children:l.responseFields.map((k,C)=>t.jsx(F,{className:"p-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(X,{children:"Field Name"}),t.jsx(Re,{value:k.name,onChange:P=>g(C,{name:P.target.value}),placeholder:"field_name"})]}),t.jsxs("div",{children:[t.jsx(X,{children:"Display Name"}),t.jsx(Re,{value:k.displayName||"",onChange:P=>g(C,{displayName:P.target.value}),placeholder:"Field Display Name"})]}),t.jsxs("div",{children:[t.jsx(X,{children:"JSON Path"}),t.jsx(Re,{value:k.path,onChange:P=>g(C,{path:P.target.value}),placeholder:"property[0].building.rooms"})]}),t.jsxs("div",{children:[t.jsx(X,{children:"Type"}),t.jsxs(Ur,{value:k.type,onValueChange:P=>g(C,{type:P}),children:[t.jsx(Vr,{children:t.jsx(Br,{})}),t.jsx(Wr,{children:["string","number","boolean","object","array"].map(P=>t.jsx(bs,{value:P,children:P},P))})]})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(X,{children:"Description"}),t.jsx(Re,{value:k.description,onChange:P=>g(C,{description:P.target.value}),placeholder:"Description of this field"})]}),t.jsxs("div",{className:"md:col-span-2 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Bo,{checked:k.isRequired,onCheckedChange:P=>g(C,{isRequired:!!P})}),t.jsx(X,{children:"Required"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Bo,{checked:k.displayInPropertyDetails,onCheckedChange:P=>g(C,{displayInPropertyDetails:!!P})}),t.jsx(X,{children:"Display in Property Details"})]})]}),t.jsx($,{type:"button",variant:"ghost",size:"sm",onClick:()=>x(C),children:t.jsx(Mi,{className:"w-4 h-4"})})]})]})},C))})]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-4",children:[t.jsx($,{variant:"outline",onClick:n,children:"Cancel"}),t.jsxs($,{onClick:S,disabled:a||!l.name||!l.endpoint,children:[a&&t.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"}),t.jsx(Fb,{className:"w-4 h-4 mr-2"}),"Save Configuration"]})]})]})]})}function Iy({parameters:e,onUpdateParameter:s,onRemoveParameter:r,type:n}){return e.length===0?t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsxs("p",{children:["No ",n," parameters configured."]}),t.jsx("p",{className:"text-sm",children:'Use "Add from Template" to add common parameters or "Add Custom" for custom ones.'})]}):t.jsx("div",{className:"space-y-4",children:e.map((a,i)=>t.jsx(F,{className:"p-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(X,{children:"Parameter Name"}),t.jsx(Re,{value:a.name,onChange:o=>s(i,{name:o.target.value}),placeholder:"parameter_name"})]}),t.jsxs("div",{children:[t.jsx(X,{children:"Type"}),t.jsxs(Ur,{value:a.type,onValueChange:o=>s(i,{type:o}),children:[t.jsx(Vr,{children:t.jsx(Br,{})}),t.jsx(Wr,{children:["string","number","boolean","array"].map(o=>t.jsx(bs,{value:o,children:o},o))})]})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(X,{children:"Description"}),t.jsx(Re,{value:a.description,onChange:o=>s(i,{description:o.target.value}),placeholder:"Description of this parameter"})]}),t.jsxs("div",{children:[t.jsx(X,{children:"Example"}),t.jsx(Re,{value:a.example,onChange:o=>s(i,{example:o.target.value}),placeholder:"Example value"})]}),t.jsxs("div",{children:[t.jsxs(X,{children:["Default Value ",n==="optional"&&"(Optional)"]}),t.jsx(Re,{value:a.defaultValue||"",onChange:o=>s(i,{defaultValue:o.target.value}),placeholder:"Default value"})]}),a.format&&t.jsxs("div",{children:[t.jsx(X,{children:"Format"}),t.jsx(Re,{value:a.format,onChange:o=>s(i,{format:o.target.value}),placeholder:"Format specification"})]}),a.validation&&t.jsxs("div",{children:[t.jsx(X,{children:"Validation"}),t.jsx(Re,{value:a.validation,onChange:o=>s(i,{validation:o.target.value}),placeholder:"Validation rules"})]}),a.possibleValues&&a.possibleValues.length>0&&t.jsxs("div",{className:"md:col-span-2",children:[t.jsx(X,{children:"Possible Values"}),t.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:a.possibleValues.map(o=>t.jsx(K,{variant:"outline",children:o},o))})]}),t.jsx("div",{className:"md:col-span-2 flex justify-end",children:t.jsxs($,{type:"button",variant:"ghost",size:"sm",onClick:()=>r(i),children:[t.jsx(Mi,{className:"w-4 h-4"}),"Remove"]})})]})},i))})}function Oy({templates:e,onSelect:s,onClose:r}){const[n,a]=m.useState(""),[i,o]=m.useState("all"),l=["all","address","location","property","search","filter","format"],c=e.filter(d=>{const u=d.name.toLowerCase().includes(n.toLowerCase())||d.description.toLowerCase().includes(n.toLowerCase()),f=i==="all"||d.category===i;return u&&f});return t.jsxs(F,{className:"border-blue-200 bg-blue-50",children:[t.jsxs(q,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Y,{className:"text-lg",children:"Select Parameter Template"}),t.jsx($,{variant:"outline",size:"sm",onClick:r,children:"Close"})]}),t.jsx(Ie,{children:"Choose a pre-configured parameter template with validation and examples."})]}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsx(Re,{placeholder:"Search templates...",value:n,onChange:d=>a(d.target.value)})}),t.jsxs(Ur,{value:i,onValueChange:o,children:[t.jsx(Vr,{className:"w-48",children:t.jsx(Br,{placeholder:"Select category"})}),t.jsx(Wr,{children:l.map(d=>t.jsx(bs,{value:d,children:d==="all"?"All Categories":d.charAt(0).toUpperCase()+d.slice(1)},d))})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-96 overflow-y-auto",children:c.map(d=>t.jsx(F,{className:"cursor-pointer hover:bg-white transition-colors",children:t.jsx(U,{className:"p-4",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h4",{className:"font-semibold",children:d.name}),t.jsx(K,{variant:"outline",className:"text-xs capitalize",children:d.category})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:d.description}),t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsxs("span",{children:["Type: ",t.jsx(K,{variant:"secondary",children:d.type})]}),t.jsx("code",{className:"bg-muted px-2 py-1 rounded",children:d.example})]}),t.jsx($,{size:"sm",className:"w-full",onClick:()=>s(d),children:"Use This Template"})]})})},d.id))}),c.length===0&&t.jsx("div",{className:"text-center py-8 text-muted-foreground",children:t.jsx("p",{children:"No templates found matching your search criteria."})})]})})]})}function $M({endpoints:e,testResults:s,onTestEndpoint:r,isLoading:n}){return t.jsx("div",{className:"space-y-6",children:t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsx(Y,{children:"Endpoint Testing"}),t.jsx(Ie,{children:"Test your configured endpoints with sample data to ensure they're working correctly."})]}),t.jsx(U,{children:t.jsx("div",{className:"space-y-4",children:e.map(a=>t.jsxs("div",{className:"border rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium",children:a.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:a.endpoint})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[a.testResult==="success"&&t.jsx(be,{className:"w-4 h-4 text-green-500"}),a.testResult==="error"&&t.jsx(Ze,{className:"w-4 h-4 text-red-500"}),a.testResult==="warning"&&t.jsx(it,{className:"w-4 h-4 text-yellow-500"}),t.jsxs($,{size:"sm",onClick:()=>r(a),disabled:n,children:[n&&t.jsx(ft,{className:"w-3 h-3 mr-1 animate-spin"}),t.jsx(Ts,{className:"w-3 h-3 mr-1"}),"Test"]})]})]}),s[a.id]&&t.jsx("div",{className:"mt-4",children:t.jsx(F1,{type:"single",collapsible:!0,children:t.jsxs(z1,{value:"result",children:[t.jsxs(U1,{className:"text-sm",children:["Test Result",s[a.id].success?t.jsx(be,{className:"w-4 h-4 text-green-500 ml-2"}):t.jsx(Ze,{className:"w-4 h-4 text-red-500 ml-2"})]}),t.jsx(B1,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{children:"Status:"}),t.jsx(K,{variant:s[a.id].success?"default":"destructive",children:s[a.id].status})]}),t.jsxs("div",{className:"text-sm",children:[t.jsx("span",{className:"font-medium",children:"URL:"}),t.jsx("code",{className:"ml-2 text-xs bg-muted px-2 py-1 rounded",children:s[a.id].url})]}),s[a.id].error&&t.jsxs("div",{className:"text-sm text-red-600",children:[t.jsx("span",{className:"font-medium",children:"Error:"})," ",s[a.id].error]}),t.jsxs("details",{className:"text-sm",children:[t.jsx("summary",{className:"cursor-pointer font-medium",children:"Response Data"}),t.jsx("pre",{className:"mt-2 text-xs bg-muted p-2 rounded overflow-auto max-h-40",children:JSON.stringify(s[a.id].data,null,2)})]})]})})]})})})]},a.id))})})]})})}function FM(){const[e,s]=m.useState(!1),[r,n]=m.useState(null),a=o=>`https://${De}.supabase.co/functions/v1/make-server-a24396d5${o}`,i=async()=>{s(!0),n(null);try{const o=a("/attom-admin/fix-endpoints"),l=await fetch(o,{method:"POST",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"}});if(!l.ok)throw new Error(`Fix endpoints failed: ${l.status}`);const c=await l.json();console.log("Fix endpoints result:",c);const d=a("/attom-admin/test-endpoint"),u=await fetch(d,{method:"POST",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"},body:JSON.stringify({endpointId:"property_basic_profile",testParams:{address:"11 village st, deep river, ct"}})});if(!u.ok)throw new Error(`Test endpoint failed: ${u.status}`);const f=await u.json();console.log("Test endpoint result:",f),n({success:!0,fixData:c,testData:f,message:f.success?"Property-basic endpoint fixed and working correctly!":`Endpoint fixed but still returning ${f.status}: ${f.error}`}),f.success?qe.success("Property-basic endpoint has been fixed and is now working!"):qe.warning("Endpoint URLs were fixed, but there may still be API issues")}catch(o){console.error("Quick fix error:",o),n({success:!1,error:o.message,message:`Quick fix failed: ${o.message}`}),qe.error("Quick fix failed - check the diagnostic tool for more details")}finally{s(!1)}};return t.jsxs(F,{className:"border-2 border-primary/20",children:[t.jsxs(q,{children:[t.jsxs(Y,{className:"flex items-center gap-2 text-primary",children:[t.jsx(Di,{className:"w-5 h-5"}),"Quick Fix: Property-Basic 404 Error"]}),t.jsx(Ie,{children:'Automatically fix the common endpoint URL issue causing "The path could not be found [/property/basicprofile]" error.'})]}),t.jsxs(U,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx($,{onClick:i,disabled:e,className:"flex items-center gap-2",children:e?t.jsxs(t.Fragment,{children:[t.jsx(ft,{className:"w-4 h-4 animate-spin"}),"Applying Fix..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Di,{className:"w-4 h-4"}),"Fix Property-Basic Endpoint"]})}),r&&t.jsxs("div",{className:"flex items-center gap-2",children:[r.success?t.jsx(be,{className:"w-5 h-5 text-green-600"}):t.jsx(Ze,{className:"w-5 h-5 text-red-600"}),t.jsx("span",{className:`text-sm font-medium ${r.success?"text-green-600":"text-red-600"}`,children:r.success?"Fixed!":"Failed"})]})]}),r&&t.jsx(ce,{children:t.jsx(de,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"font-medium",children:r.message}),r.fixData&&t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Fixed ",r.fixData.fixedEndpoints||0," endpoint configuration(s)."]}),r.testData&&t.jsxs("div",{className:"text-xs bg-muted/50 rounded p-2 mt-2",children:[t.jsx("p",{children:t.jsx("strong",{children:"Test Result:"})}),t.jsxs("p",{children:["Status: ",r.testData.status]}),t.jsxs("p",{children:["API URL: ",r.testData.url]}),r.testData.error&&t.jsxs("p",{children:["Error: ",r.testData.error]})]})]})})}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.jsx("p",{children:t.jsx("strong",{children:"What this does:"})}),t.jsxs("ul",{className:"list-disc pl-4 space-y-1",children:[t.jsxs("li",{children:["Corrects endpoint URL from ",t.jsx("code",{children:"/property/basicprofile"})," to ",t.jsx("code",{children:"/propertyapi/v1.0.0/property/basicprofile"})]}),t.jsx("li",{children:"Updates the configuration automatically"}),t.jsx("li",{children:"Tests the corrected endpoint with a sample address"}),t.jsx("li",{children:"Verifies the fix is working properly"})]})]})]})]})}function zM(){var I,_;const[e,s]=m.useState([]),[r,n]=m.useState(!1),[a,i]=m.useState(null),[o,l]=m.useState(null),[c,d]=m.useState(null),u=(A,R,M,z)=>{const E={test:A,status:R,message:M,details:z,timestamp:new Date().toISOString()};return s(D=>[...D,E]),E},f=A=>`https://${De}.supabase.co/functions/v1/make-server-a24396d5${A}`,p=async()=>{try{const A=f("/health"),R=await fetch(A,{method:"GET",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"}});if(R.ok){const M=await R.json();return i(M),u("Server Health Check","success","Server is healthy and responding",{url:A,status:R.status,data:M}),!0}else{const M=await R.text();return u("Server Health Check","error",`Server health check failed: ${R.status}`,{url:A,status:R.status,error:M}),!1}}catch(A){return u("Server Health Check","error",`Failed to connect to server: ${A.message}`,{error:A.message}),!1}},h=async()=>{var A;try{const R=f("/attom-admin/configurations"),M=await fetch(R,{method:"GET",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"}});if(M.ok){const z=await M.json();return l(z),u("Attom Admin Endpoint","success",`Successfully loaded ${((A=z.endpoints)==null?void 0:A.length)||0} endpoint configurations`,{url:R,status:M.status,data:z}),z}else{const z=await M.text();return u("Attom Admin Endpoint","error",`Failed to load admin configurations: ${M.status}`,{url:R,status:M.status,error:z}),null}}catch(R){return u("Attom Admin Endpoint","error",`Error accessing admin endpoint: ${R.message}`,{error:R.message}),null}},j=async A=>{if(!(A!=null&&A.endpoints))return u("Property Basic Config","error","No endpoints found in configuration",{configData:A}),!1;const R=A.endpoints.find(M=>M.id==="property_basic_profile"||M.category==="property-basic");if(R){d(R);let M=[],z=!1;R.endpoint==="/property/basicprofile"&&(M.push("Endpoint URL missing API version - should be /propertyapi/v1.0.0/property/basicprofile"),z=!0),!R.endpoint.startsWith("/propertyapi/v1.0.0/")&&R.endpoint.includes("property")&&(M.push("Endpoint URL may be missing proper API version prefix"),z=!0),R.isActive||M.push("Endpoint is not active"),R.showInPropertyDetails||M.push("Endpoint is not configured to show in property details");const E=z||M.length>0?"warning":"success",D=z?"Property basic profile endpoint has configuration issues that need fixing":M.length>0?"Property basic profile endpoint configured with minor issues":`Property basic profile endpoint configured correctly: ${R.name}`;return u("Property Basic Config",E,D,{endpoint:R,isActive:R.isActive,showInPropertyDetails:R.showInPropertyDetails,displayOrder:R.displayOrder,configIssues:M,needsFix:z,recommendedEndpoint:z?"/propertyapi/v1.0.0/property/basicprofile":null}),!0}else return u("Property Basic Config","error","Property basic profile endpoint not found in configuration",{availableEndpoints:A.endpoints.map(M=>({id:M.id,name:M.name,endpoint:M.endpoint}))}),!1},v=async()=>{var A,R;if(!c)return u("Property Basic Test","error","Cannot test endpoint - configuration not found",{}),!1;try{const M=f("/attom-admin/test-endpoint"),z={address:"11 village st, deep river, ct"};u("Property Basic Test","pending","Testing property basic endpoint with sample address...",{testParams:z,endpointId:c.id});const E=await fetch(M,{method:"POST",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"},body:JSON.stringify({endpointId:c.id,testParams:z})});if(E.ok){const D=await E.json(),H={testParams:z,result:D,apiUrl:D.url,responseStatus:D.status,responseSize:D.responseSize,contentType:D.contentType,responseHeaders:D.responseHeaders,endpointConfig:c};if(D.success)return u("Property Basic Test","success",`Property basic endpoint test successful - API returned ${D.status} ${D.statusText}`,H),!0;{let W="Test failed",L="";return D.status===401?(W="Authentication failed - check ATTOM_API_KEY",L="Verify that ATTOM_API_KEY environment variable is set correctly"):D.status===403?(W="Access forbidden - API key may lack permissions",L="Verify API key has access to Property Basic Profile endpoint"):D.status===404?(R=(A=D.data)==null?void 0:A.responseText)!=null&&R.includes("path could not be found")?(W="Endpoint path is incorrect - likely missing API version",L='Run "Fix Endpoint URLs" to automatically correct the endpoint path'):(W="Endpoint not found - check endpoint URL",L="Verify the endpoint URL is correct for Attom API"):D.status===429?(W="Rate limit exceeded - too many requests",L="Wait a moment before testing again"):D.status>=500?(W="Server error on Attom API side",L="This is a temporary issue with the Attom API servers"):D.contentType&&!D.contentType.includes("json")&&(W=`API returned ${D.contentType} instead of JSON`,L="Check that the API base URL and endpoint path are correct"),H.recommendation=L,u("Property Basic Test","error",`${W}: ${D.error||"Unknown error"}`,H),!1}}else{let D;try{const H=await E.json();D=H.error||H.details||"Unknown server error"}catch{D=await E.text()}return u("Property Basic Test","error",`Server error testing endpoint: ${E.status} ${E.statusText}`,{url:M,status:E.status,statusText:E.statusText,error:D,testParams:z,serverHeaders:Object.fromEntries(E.headers.entries())}),!1}}catch(M){return u("Property Basic Test","error",`Network error testing property basic endpoint: ${M.message}`,{error:M.message,stack:M.stack,testParams,endpointConfig:c}),!1}},b=async()=>{try{const A=f("/attom-admin/test-endpoint"),R={address:"11 village st, deep river, ct"},M=await fetch(A,{method:"POST",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"},body:JSON.stringify({endpointId:"property_basic_profile",testParams:R})});if(M.ok){const z=await M.json();return z.status===401?(u("Attom API Configuration","error","ATTOM_API_KEY is missing or invalid",{apiResponse:z,recommendation:"Check that ATTOM_API_KEY environment variable is set correctly"}),!1):z.status===403?(u("Attom API Configuration","warning","ATTOM_API_KEY may lack required permissions",{apiResponse:z,recommendation:"Verify API key has access to Property Basic Profile endpoint"}),!1):z.contentType&&z.contentType.includes("text/html")?(u("Attom API Configuration","error","ATTOM_API_BASE_URL may be incorrect - receiving HTML instead of JSON",{apiResponse:z,recommendation:"Check that ATTOM_API_BASE_URL is set to https://search.onboard-apis.com"}),!1):z.success||z.status>=200&&z.status<300?(u("Attom API Configuration","success","Attom API key and base URL are correctly configured",{apiResponse:z,baseUrl:"Configuration appears valid"}),!0):(u("Attom API Configuration","warning",`Attom API returned status ${z.status} - API may be configured but endpoint has issues`,{apiResponse:z,recommendation:"API credentials appear valid but endpoint may need attention"}),!0)}else return u("Attom API Configuration","error",`Server error testing API configuration: ${M.status}`,{serverResponse:M.status,recommendation:"Check server logs for environment variable issues"}),!1}catch(A){return u("Attom API Configuration","error",`Error testing Attom API configuration: ${A.message}`,{error:A.message,recommendation:"Check network connectivity and server status"}),!1}},g=async()=>{const A={};A.SUPABASE_URL="Available",A.SUPABASE_ANON_KEY="Available",A.SUPABASE_SERVICE_ROLE_KEY="Assumed Available",A.ATTOM_API_KEY="Check API Configuration Test",A.ATTOM_API_BASE_URL="Check API Configuration Test";const R=!!Te;return u("Environment Variables","success","Basic environment variables are configured. Check API Configuration test for Attom API variables.",{variables:A,projectId:De,hasAnonKey:!!Te,note:"Server-side variables cannot be directly checked from client"}),R},y=async()=>{try{const A=f("/attom-admin/reset-default"),R=await fetch(A,{method:"POST",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"}});if(R.ok){const M=await R.json();return u("Default Config Init","success",`Default configuration reset successful - ${M.endpoints} endpoints`,{result:M}),!0}else{const M=await R.text();return u("Default Config Init","error",`Failed to reset default configuration: ${R.status}`,{url:A,status:R.status,error:M}),!1}}catch(A){return u("Default Config Init","error",`Error resetting default configuration: ${A.message}`,{error:A.message}),!1}},x=async()=>{try{const A=f("/attom-admin/fix-endpoints"),R=await fetch(A,{method:"POST",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"}});if(R.ok){const M=await R.json();return M.fixedEndpoints>0?(u("Endpoint URL Validation","warning",`Fixed ${M.fixedEndpoints} endpoint URL issues - configuration updated`,{result:M,recommendation:"Endpoint URLs have been automatically corrected to include proper API versions"}),"fixed"):(u("Endpoint URL Validation","success","All endpoint URLs are correctly formatted",{result:M}),!0)}else{const M=await R.text();return u("Endpoint URL Validation","error",`Failed to validate endpoint URLs: ${R.status}`,{url:A,status:R.status,error:M}),!1}}catch(A){return u("Endpoint URL Validation","error",`Error validating endpoint URLs: ${A.message}`,{error:A.message}),!1}},S=async()=>{try{const A=f("/attom-admin/property-display-config"),R=await fetch(A,{method:"GET",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"}});if(R.ok){const M=await R.json(),z=M.displayConfig||[],E=z.find(D=>D.id==="property_basic_profile"||D.category==="property-basic");return u("Property Display Config",E?"success":"warning",E?"Property basic profile is configured for display":"Property basic profile not found in display configuration",{displayEndpoints:z.length,propertyBasicInDisplay:!!E,result:M}),!!E}else{const M=await R.text();return u("Property Display Config","error",`Failed to load property display configuration: ${R.status}`,{url:A,status:R.status,error:M}),!1}}catch(A){return u("Property Display Config","error",`Error checking property display configuration: ${A.message}`,{error:A.message}),!1}},w=async()=>{var A;n(!0),s([]);try{u("Diagnostic Started","pending","Starting comprehensive diagnostic of Attom Admin Panel and property-basic endpoint...",{timestamp:new Date().toISOString()});const R=await p(),M=await h();let z=!1;M&&(z=await j(M)),await g(),await b();const E=await x();if(z&&await v(),await S(),(A=M==null?void 0:M.endpoints)!=null&&A.length){if(E==="fixed"){const W=await h();W&&await j(W)}}else{await y();const W=await h();W&&await j(W)}const D=e.filter(W=>W.status==="success").length,H=e.filter(W=>W.status==="error").length;u("Diagnostic Complete",H===0?"success":"warning",`Diagnostic completed: ${D} passed, ${H} failed`,{totalTests:e.length,successCount:D,errorCount:H,timestamp:new Date().toISOString()}),qe.success(`Diagnostic complete - ${D} tests passed, ${H} failed`)}catch(R){u("Diagnostic Runner","error",`Diagnostic run failed: ${R.message}`,{error:R.message,stack:R.stack}),qe.error("Diagnostic run failed")}finally{n(!1)}},k=A=>{switch(A){case"success":return t.jsx(be,{className:"w-4 h-4 text-green-600"});case"error":return t.jsx(Ze,{className:"w-4 h-4 text-red-600"});case"warning":return t.jsx(ze,{className:"w-4 h-4 text-yellow-600"});default:return t.jsx(Ye,{className:"w-4 h-4 text-blue-600"})}},C=A=>{switch(A){case"success":return"text-green-600";case"error":return"text-red-600";case"warning":return"text-yellow-600";default:return"text-blue-600"}},P=A=>{navigator.clipboard.writeText(A),qe.success("Copied to clipboard")},N=e.filter(A=>A.status==="success").length,T=e.filter(A=>A.status==="error").length,O=e.filter(A=>A.status==="warning").length;return t.jsx("div",{className:"min-h-screen bg-background p-6",children:t.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[t.jsx(FM,{}),t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsxs(Y,{className:"flex items-center gap-3",children:[t.jsx(Mb,{className:"w-6 h-6 text-primary"}),"Attom API Admin Panel Diagnostic"]}),t.jsx(Ie,{children:"Comprehensive diagnostic tool for troubleshooting property-basic endpoint configuration and admin panel functionality."})]}),t.jsx(U,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx($,{onClick:w,disabled:r,className:"flex items-center gap-2",children:r?t.jsxs(t.Fragment,{children:[t.jsx(Ye,{className:"w-4 h-4 animate-spin"}),"Running Diagnostics..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Xs,{className:"w-4 h-4"}),"Run Full Diagnostic"]})}),t.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),t.jsxs("span",{children:[N," Passed"]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),t.jsxs("span",{children:[T," Failed"]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),t.jsxs("span",{children:[O," Warnings"]})]})]})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs($,{variant:"outline",size:"sm",onClick:()=>window.open("?attom-admin=true","_blank"),children:[t.jsx(yr,{className:"w-4 h-4 mr-2"}),"Open Admin Panel"]})})]})})]}),(a||o)&&t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(wh,{className:"w-5 h-5"}),"System Status Overview"]})}),t.jsx(U,{children:t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[t.jsx("div",{className:"text-lg font-semibold text-green-600",children:a.status==="healthy"?"Healthy":"Issues"}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Server Status"})]}),t.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[t.jsx("div",{className:"text-lg font-semibold text-blue-600",children:Object.keys(a.services||{}).length}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Services"})]})]}),o&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[t.jsx("div",{className:"text-lg font-semibold text-purple-600",children:((I=o.endpoints)==null?void 0:I.length)||0}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Endpoints"})]}),t.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[t.jsx("div",{className:"text-lg font-semibold text-orange-600",children:((_=o.endpoints)==null?void 0:_.filter(A=>A.isActive).length)||0}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Active"})]})]})]})})]}),c&&t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Sr,{className:"w-5 h-5"}),"Property Basic Profile Configuration"]})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Name:"}),t.jsx(K,{variant:"outline",children:c.name})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Method:"}),t.jsx(K,{variant:"secondary",children:c.method})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Active:"}),t.jsx(K,{variant:c.isActive?"default":"destructive",children:c.isActive?"Yes":"No"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Display:"}),t.jsx(K,{variant:c.showInPropertyDetails?"default":"secondary",children:c.showInPropertyDetails?"Yes":"No"})]})]}),t.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",children:"Endpoint URL:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("code",{className:"text-sm bg-background px-2 py-1 rounded",children:c.endpoint}),t.jsx($,{size:"sm",variant:"ghost",onClick:()=>P(c.endpoint),children:t.jsx(ht,{className:"w-3 h-3"})})]})]})})]})})]}),t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Ts,{className:"w-5 h-5"}),"Diagnostic Results"]}),t.jsx(Ie,{children:"Detailed results from all diagnostic tests"})]}),t.jsx(U,{children:e.length===0?t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsx(Qt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:'No diagnostics run yet. Click "Run Full Diagnostic" to begin.'})]}):t.jsx(F1,{type:"single",collapsible:!0,className:"w-full",children:e.map((A,R)=>t.jsxs(z1,{value:`item-${R}`,children:[t.jsx(U1,{className:"hover:no-underline",children:t.jsxs("div",{className:"flex items-center gap-3 w-full",children:[k(A.status),t.jsxs("div",{className:"flex-1 text-left",children:[t.jsx("div",{className:"font-medium",children:A.test}),t.jsx("div",{className:`text-sm ${C(A.status)}`,children:A.message})]}),t.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(A.timestamp).toLocaleTimeString()})]})}),t.jsx(B1,{children:t.jsxs("div",{className:"space-y-3 pt-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",children:"Test Details:"}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx(K,{variant:A.status==="success"?"default":A.status==="error"?"destructive":A.status==="warning"?"secondary":"outline",children:A.status.toUpperCase()})})]}),A.details&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("span",{className:"text-sm font-medium",children:"Additional Information:"}),t.jsx("div",{className:"bg-muted/50 rounded-lg p-3",children:t.jsx("pre",{className:"text-xs whitespace-pre-wrap overflow-x-auto",children:JSON.stringify(A.details,null,2)})}),t.jsx("div",{className:"flex justify-end",children:t.jsxs($,{size:"sm",variant:"ghost",onClick:()=>P(JSON.stringify(A.details,null,2)),children:[t.jsx(ht,{className:"w-3 h-3 mr-2"}),"Copy Details"]})})]})]})})]},R))})})]}),t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Xs,{className:"w-5 h-5"}),"Quick Actions"]}),t.jsx(Ie,{children:"Common troubleshooting actions for property-basic endpoint issues"})]}),t.jsx(U,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs($,{variant:"outline",onClick:y,className:"justify-start",children:[t.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Reset Default Configuration"]}),t.jsxs($,{variant:"outline",onClick:async()=>{if(await x()==="fixed"){const R=await h();R&&(await j(R),await v())}},className:"justify-start",children:[t.jsx(Xs,{className:"w-4 h-4 mr-2"}),"Fix Endpoint URLs & Re-test"]}),t.jsxs($,{variant:"outline",onClick:()=>window.open("?attom-admin=true","_blank"),className:"justify-start",children:[t.jsx(yr,{className:"w-4 h-4 mr-2"}),"Open Admin Panel"]}),t.jsxs($,{variant:"outline",onClick:()=>P(JSON.stringify({projectId:De,adminEndpoint:f("/attom-admin/configurations")},null,2)),className:"justify-start",children:[t.jsx(ht,{className:"w-4 h-4 mr-2"}),"Copy Configuration Info"]}),t.jsxs($,{variant:"outline",onClick:()=>window.open("?attom-test=true","_blank"),className:"justify-start",children:[t.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Open API Test Tool"]})]})})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Ds,{className:"w-5 h-5"}),"Environment Information"]})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Project ID:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:De}),t.jsx($,{size:"sm",variant:"ghost",onClick:()=>P(De),children:t.jsx(ht,{className:"w-3 h-3"})})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Server Base URL:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:f("")}),t.jsx($,{size:"sm",variant:"ghost",onClick:()=>P(f("")),children:t.jsx(ht,{className:"w-3 h-3"})})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Admin Panel URL:"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:[window.location.origin,"?attom-admin=true"]}),t.jsx($,{size:"sm",variant:"ghost",onClick:()=>P(`${window.location.origin}?attom-admin=true`),children:t.jsx(ht,{className:"w-3 h-3"})})]})]})]})})]})]})})}const UM=[{title:"Authentication Failed (401/403)",color:"red",items:["Verify your API key is correct and complete","Check if your API key has expired","Ensure your account has necessary permissions","Contact ATTOM Data support if needed"]},{title:"Network/Timeout Errors",color:"yellow",items:["Check your internet connection","Verify the ATTOM API service status","Try again after a few minutes","Check if any firewall is blocking requests"]},{title:"Environment Configuration",color:"blue",items:["Ensure ATTOM_API_KEY is set in your deployment","Check for any extra spaces or special characters","Verify the environment variable is properly loaded","Restart your server after making changes"]}],pm={VALIDATING:"Testing API key authentication...",NOT_TESTED:"API key validation has not been performed.",DEFAULT:"Validation completed."},Ry={ACTIVE_WITH_DATA:"active_with_data",ACTIVE_NO_DATA:"active_no_data",ACTIVE:"active"},BM=async()=>{try{console.log("Validating ATTOM API key...");const s=await(await fetch(`https://${De}.supabase.co/functions/v1/make-server-a24396d5/attom-admin/validate-api-key`,{method:"GET",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"}})).json();return console.log("API key validation response:",s),s}catch(e){return console.error("Error validating API key:",e),{success:!1,error:"Failed to validate API key",details:e instanceof Error?e.message:"Unknown error occurred",recommendations:["Check your internet connection","Verify the server is running","Try again in a few moments"]}}},VM=(e,s)=>e?pm.VALIDATING:s?s.message||s.error||pm.DEFAULT:pm.NOT_TESTED,WM=(e,s)=>{var r;if(e)return{variant:"secondary",text:"Validating..."};if(!s)return{variant:"outline",text:"Not Tested"};if(s.success){const n=((r=s.validation)==null?void 0:r.apiStatus)||"active";return n===Ry.ACTIVE_WITH_DATA?{variant:"default",text:"Active (With Data)",className:"bg-green-600 hover:bg-green-700"}:n===Ry.ACTIVE_NO_DATA?{variant:"default",text:"Active (No Sample Data)",className:"bg-blue-600 hover:bg-blue-700"}:{variant:"default",text:"Valid",className:"bg-green-600 hover:bg-green-700"}}return s.httpStatus===401||s.httpStatus===403?{variant:"destructive",text:"Authentication Failed"}:{variant:"destructive",text:"Invalid"}},HM=e=>e?e.success?{className:"border-green-200 bg-green-50"}:{className:"border-red-200 bg-red-50"}:{className:"border-blue-200 bg-blue-50"};function qM({validationResult:e}){return e!=null&&e.validation?t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-muted/30 rounded-lg",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"text-sm font-medium",children:"Configuration"}),t.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[t.jsxs("div",{children:["API Key Set: ",e.validation.apiKeySet?" Yes":" No"]}),t.jsxs("div",{children:["Key Length: ",e.validation.apiKeyLength," characters"]}),t.jsxs("div",{children:["Base URL: ",e.validation.baseUrl]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"text-sm font-medium",children:"Test Results"}),t.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[t.jsxs("div",{children:["HTTP Status: ",e.validation.httpStatus]}),t.jsxs("div",{children:["Authentication: ",e.validation.authenticationSuccessful?" Success":" Failed"]}),t.jsxs("div",{children:["API Status: ",e.validation.apiStatus]})]})]})]}):null}function YM({validationResult:e}){return!(e!=null&&e.recommendations)||e.recommendations.length===0?null:t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsx(Y,{className:"text-lg",children:"Recommendations"}),t.jsx(Ie,{children:e.success?"Your API key is working correctly":"Steps to resolve the issue"})]}),t.jsx(U,{children:t.jsx("ul",{className:"space-y-2",children:e.recommendations.map((s,r)=>t.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[t.jsx("div",{className:`w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0 ${e.success?"bg-green-500":"bg-blue-500"}`}),t.jsx("span",{children:s})]},r))})})]})}function GM(){const e=s=>{switch(s){case"red":return"border-red-200";case"yellow":return"border-yellow-200";case"blue":return"border-blue-200";default:return"border-gray-200"}};return t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsx(Y,{className:"text-lg",children:"Common Issues & Solutions"}),t.jsx(Ie,{children:"Troubleshooting guide for ATTOM API key problems"})]}),t.jsx(U,{className:"space-y-4",children:t.jsx("div",{className:"space-y-3",children:UM.map((s,r)=>t.jsxs("div",{className:`border-l-4 ${e(s.color)} pl-4`,children:[t.jsx("h4",{className:"font-medium text-sm",children:s.title}),t.jsx("ul",{className:"mt-1 space-y-1 text-xs text-muted-foreground",children:s.items.map((n,a)=>t.jsxs("li",{children:[" ",n]},a))})]},r))})})]})}function KM(){const[e,s]=m.useState(null),[r,n]=m.useState(!1),[a,i]=m.useState(!1);m.useEffect(()=>{a||(o(),i(!0))},[a]);const o=async()=>{n(!0),s(null);try{const f=await BM();s(f)}finally{n(!1)}},l=()=>r?t.jsx(ft,{className:"w-5 h-5 animate-spin text-blue-500"}):e?e.success?t.jsx(be,{className:"w-5 h-5 text-green-500"}):t.jsx(Ze,{className:"w-5 h-5 text-red-500"}):t.jsx(cs,{className:"w-5 h-5 text-gray-400"}),c=WM(r,e),d=VM(r,e),u=HM(e);return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(us,{className:"w-6 h-6 text-primary"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold",children:"ATTOM API Key Validation"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Verify that your ATTOM API key is correctly configured and functional"})]})]}),t.jsxs(F,{className:"border-2",children:[t.jsx(q,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[l(),t.jsxs("div",{children:[t.jsx(Y,{children:"API Key Status"}),t.jsx(Ie,{children:"Current validation status of your ATTOM API credentials"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(K,{variant:c.variant,className:c.className,children:c.text}),t.jsxs($,{onClick:o,disabled:r,variant:"outline",size:"sm",children:[r?t.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"}):t.jsx(Ye,{className:"w-4 h-4 mr-2"}),r?"Testing...":"Test Again"]})]})]})}),t.jsxs(U,{className:"space-y-4",children:[t.jsx(ce,{className:u.className,children:t.jsx(de,{className:"text-sm",children:d})}),t.jsx(qM,{validationResult:e}),e&&!e.success&&e.details&&t.jsxs(ce,{children:[t.jsx(ze,{className:"w-4 h-4"}),t.jsxs(de,{children:[t.jsx("div",{className:"text-sm font-medium mb-1",children:"Error Details:"}),t.jsx("div",{className:"text-xs text-muted-foreground",children:e.details})]})]})]})]}),t.jsx(YM,{validationResult:e}),t.jsx(GM,{}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsxs($,{onClick:o,disabled:r,className:"flex-1 sm:flex-none",children:[r?t.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"}):t.jsx(us,{className:"w-4 h-4 mr-2"}),r?"Validating...":"Validate API Key"]}),t.jsx($,{variant:"outline",onClick:()=>window.open("https://api.attomdata.com/docs","_blank"),className:"flex-1 sm:flex-none",children:"View API Docs"}),t.jsx($,{variant:"outline",onClick:()=>window.location.href="?attom-admin=true",className:"flex-1 sm:flex-none",children:"Open Admin Panel"})]})]})}const JM=[{address:"586 Franklin Ave, Brooklyn, NY 11238",description:"Example from ATTOM documentation - Known format",type:"Documentation Example"},{address:"1600 Pennsylvania Avenue NW, Washington, DC 20500",description:"White House - High-profile property likely in database",type:"Government"},{address:"350 5th Ave, New York, NY 10118",description:"Empire State Building - Landmark property",type:"Landmark"},{address:"1 Apple Park Way, Cupertino, CA 95014",description:"Apple Park - Corporate headquarters",type:"Corporate"},{address:"221B Baker Street, New York, NY 10001",description:"Modified fictional address for testing error handling",type:"Test Case"},{address:"123 Main Street, Beverly Hills, CA 90210",description:"Common street name in well-known ZIP code",type:"Generic"}];function QM(){const[e,s]=m.useState("586 Franklin Ave, Brooklyn, NY 11238"),[r,n]=m.useState(!1),[a,i]=m.useState([]),[o,l]=m.useState(""),c=[{label:"ATTOM Standard Format",format:"attom-standard",description:"address1=STREET&address2=CITY STATE ZIP (ATTOM preferred)",example:"address1=586 FRANKLIN AVE&address2=brooklyn NY 11238"},{label:"Legacy Component Format",format:"legacy-components",description:"address1, locality, countrySubd, postalCode (old format)",example:"address1=586 Franklin Ave&locality=Brooklyn&countrySubd=NY&postalCode=11238"},{label:"Abbreviated Street Types",format:"abbreviated",description:"Convert StreetSt, AvenueAve for address1",example:"address1=586 FRANKLIN AVE&address2=brooklyn NY 11238"},{label:"Full Street Types",format:"full-street",description:"Convert StStreet, AveAvenue for address1",example:"address1=586 FRANKLIN AVENUE&address2=brooklyn NY 11238"},{label:"Uppercase Format",format:"uppercase",description:"Convert all text to uppercase (some APIs prefer this)",example:"address1=586 FRANKLIN AVE&address2=BROOKLYN NY 11238"},{label:"URL Encoded Format",format:"url-encoded",description:"URL encode special characters and spaces",example:"address1=586+FRANKLIN+AVE&address2=brooklyn+NY+11238"}],d=[{id:"sale-detail",name:"Sale Detail",endpoint:"/sale/detail",description:"Sales history and transaction details (from documentation example)",priority:"high",isDocumented:!0},{id:"property-detail",name:"Property Detail",endpoint:"/property/detail",description:"Comprehensive property information and characteristics",priority:"high",isDocumented:!0},{id:"property-basic",name:"Property Basic Profile",endpoint:"/property/basicprofile",description:"Basic property information and current owner details",priority:"high",isDocumented:!0},{id:"property-expanded",name:"Property Expanded Profile",endpoint:"/property/expandedprofile",description:"Detailed property characteristics, history, and assessments",priority:"medium",isDocumented:!0},{id:"avm-details",name:"AVM Details",endpoint:"/avm/details",description:"Automated Valuation Model data and price estimates",priority:"low",isDocumented:!0}],u=(w,k)=>{const C=w.split(",").map(T=>T.trim());if(C.length<2)return{address1:w,address2:""};let P=C[0],N=C.slice(1).join(" ");switch(k){case"attom-standard":case"url-encoded":return{address1:P,address2:N};case"legacy-components":if(C.length>=3){const T=C[1],O=C[2].match(/^([A-Z]{2})\s*(\d{5}(?:-\d{4})?)$/);if(O){const[,I,_]=O;return{address1:P,locality:T,countrySubd:I,postalCode:_}}}return{address1:P,address2:N};case"abbreviated":return P=P.replace(/\bStreet\b/gi,"St").replace(/\bAvenue\b/gi,"Ave").replace(/\bBoulevard\b/gi,"Blvd").replace(/\bRoad\b/gi,"Rd").replace(/\bDrive\b/gi,"Dr").replace(/\bLane\b/gi,"Ln").replace(/\bCourt\b/gi,"Ct").replace(/\bPlace\b/gi,"Pl"),{address1:P,address2:N};case"full-street":return P=P.replace(/\bSt\b/gi,"Street").replace(/\bAve\b/gi,"Avenue").replace(/\bBlvd\b/gi,"Boulevard").replace(/\bRd\b/gi,"Road").replace(/\bDr\b/gi,"Drive").replace(/\bLn\b/gi,"Lane").replace(/\bCt\b/gi,"Court").replace(/\bPl\b/gi,"Place"),{address1:P,address2:N};case"uppercase":return{address1:P.toUpperCase(),address2:N.toUpperCase()};default:return{address1:P,address2:N}}},f=(w,k)=>k.includes("SuccessWithoutResult")||w===400&&k.includes("no data found")?{type:"NO_DATA",title:"Property Not Found in Database",severity:"warning",suggestions:["This property address is not in the ATTOM database",'Try the documented example: "586 Franklin Ave, Brooklyn, NY 11238"',"Verify the address is spelled correctly and exists","Some properties (rural, new construction, or unique addresses) may not be covered","This is normal behavior - not all properties are in commercial databases"]}:w===401?{type:"AUTH",title:"Authentication Failed",severity:"error",suggestions:["API key authentication failed - check ATTOM_API_KEY environment variable","Ensure your API key is active and not expired","Verify your ATTOM Data account has sufficient credits",'API key must be sent as a query parameter "apikey" (not header)',"Use the API Key Validator tool to test authentication"]}:w===404?{type:"ENDPOINT_ERROR",title:"API Endpoint Not Found",severity:"error",suggestions:["The API endpoint path may be incorrect","Verify the endpoint exists in the ATTOM API documentation","Check that your subscription includes access to this endpoint","Some endpoints may require different parameter formats","Try a different search strategy or endpoint"]}:w===403?{type:"PERMISSION",title:"Access Forbidden",severity:"error",suggestions:["Your API key lacks permissions for this specific endpoint","Check your ATTOM Data subscription plan and included data types","Some endpoints require premium or enterprise subscriptions","Contact ATTOM Data support to upgrade your access level"]}:w===400&&!k.includes("SuccessWithoutResult")?{type:"BAD_REQUEST",title:"Invalid Request Parameters",severity:"error",suggestions:["Check that address1 and address2 parameters are correctly formatted",'Address1 should contain street address only (e.g., "586 Franklin Ave")','Address2 should contain "city state zip" (e.g., "brooklyn NY 11238")',"Remove special characters or extra spacing from addresses",'Try the URL-encoded format with "+" for spaces']}:w===429?{type:"RATE_LIMIT",title:"Rate Limit Exceeded",severity:"warning",suggestions:["You have exceeded the API rate limit for your subscription","Wait a few minutes before making more requests","Consider upgrading your ATTOM Data plan for higher limits","Implement request throttling in production applications"]}:w===500||w>=500?{type:"SERVER_ERROR",title:"ATTOM API Server Error",severity:"error",suggestions:["The ATTOM API is experiencing server issues","Try again in a few minutes","Check ATTOM Data status page for service interruptions","Contact ATTOM support if the issue persists"]}:{type:"UNKNOWN",title:"Unknown API Error",severity:"error",suggestions:["An unexpected error occurred with the ATTOM API","Check the detailed error message and status code below","Try the documented example address format","Verify all required parameters are included","Contact support if the issue persists"]},p=async(w,k)=>{const C=Date.now(),P=u(e,k.format);try{const N=await fetch(`https://${De}.supabase.co/functions/v1/make-server-a24396d5/attom-comprehensive/search-by-address`,{method:"POST",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"},body:JSON.stringify({address:e,strategy:w.id,addressParams:P,addressFormat:k.format,debug:!0})}),T=Date.now()-C,O=await N.json();let I=[];if(!N.ok||!O.success){const _=f(O.status||N.status,O.error||"Unknown error");return I=_.suggestions,{strategy:`${w.name} (${k.label})`,endpoint:w.endpoint,success:!1,status:O.status||N.status,message:`${_.title}: ${O.error||"Unknown error"}`,error:O.error,url:O.url,duration:T,addressUsed:e,parameters:P,recommendations:I}}return{strategy:`${w.name} (${k.label})`,endpoint:w.endpoint,success:!0,status:200,message:"Search successful - property data found",data:O.data,duration:T,addressUsed:e,parameters:P,recommendations:["Property found successfully","This address format works with this endpoint","Consider using this parameter format for consistent results"]}}catch(N){const T=Date.now()-C;return{strategy:`${w.name} (${k.label})`,endpoint:w.endpoint,success:!1,status:0,message:`Network error: ${N.message}`,error:N.message,duration:T,addressUsed:e,parameters:P,recommendations:["Check your internet connection","Verify the server is running","Try again in a few moments"]}}},h=async()=>{if(!e.trim()){qe.error("Please enter an address to test");return}n(!0),i([]),l(e);const w=[],k=d.find(I=>I.id==="sale-detail"),C=c.find(I=>I.format==="attom-standard");if(k&&C){const I=await p(k,C);w.push(I),i([...w])}const P=d.filter(I=>I.priority==="high"&&I.id!=="sale-detail");for(const I of P)if(C){const _=await p(I,C);w.push(_),i([...w])}if(w.filter(I=>I.success).length===0){const I=d.find(_=>_.id==="property-basic");if(I)for(let _=1;_<Math.min(c.length,4);_++){const A=await p(I,c[_]);w.push(A),i([...w])}}n(!1);const T=w.filter(I=>I.success).length,O=w.length;T>0?qe.success(`Search completed: ${T}/${O} strategies successful`):qe.error("Search completed: No successful results found. Try the documented example address.")},j=w=>{s(w),qe.success('Address updated - click "Run Comprehensive Search" to test')},v=w=>w.success?t.jsx(be,{className:"w-4 h-4 text-green-600"}):w.status===400||w.status===404?t.jsx(ze,{className:"w-4 h-4 text-yellow-600"}):t.jsx(Ze,{className:"w-4 h-4 text-red-600"}),b=w=>w.success?"text-green-600":w.status===400||w.status===404?"text-yellow-600":"text-red-600",g=w=>w===400?"border-yellow-200 bg-yellow-50":w===401||w===403?"border-red-200 bg-red-50":w===404?"border-orange-200 bg-orange-50":"border-gray-200 bg-gray-50",y=w=>w&&Object.entries(w).filter(([C,P])=>P!=null&&P!=="").map(([C,P])=>`${C}=${encodeURIComponent(String(P))}`).join("&")||"No parameters",x=a.filter(w=>w.success).length,S=a.filter(w=>!w.success).length;return t.jsx("div",{className:"min-h-screen bg-background",children:t.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ls,{className:"w-6 h-6 text-primary"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold",children:"ATTOM API Search Diagnostic"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Diagnose and troubleshoot ATTOM API search failures with correct parameter formatting"})]})]}),t.jsxs(F,{className:"border-l-4 border-l-blue-500",children:[t.jsxs(q,{children:[t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Ts,{className:"w-5 h-5 text-blue-500"}),"ATTOM API Parameter Format"]}),t.jsx(Ie,{children:"Official ATTOM Data API request format with required parameters"})]}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[t.jsx("p",{className:"text-sm font-medium mb-2",children:"Complete ATTOM API URL format:"}),t.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded block break-all",children:"https://api.gateway.attomdata.com/propertyapi/v1.0.0/sale/detail?address1=586+FRANKLIN+AVE&address2=brooklyn+NY+11238&apikey=YOUR_KEY&accept=application/json&debug=True"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium text-sm",children:"Required Parameters:"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"address1:"})," Street address only",t.jsx("br",{}),t.jsx("span",{className:"text-muted-foreground",children:'Example: "586 FRANKLIN AVE"'})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"address2:"})," City, State, ZIP",t.jsx("br",{}),t.jsx("span",{className:"text-muted-foreground",children:'Example: "brooklyn NY 11238"'})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium text-sm",children:"System Parameters:"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"apikey:"})," Your ATTOM API key",t.jsx("br",{}),t.jsx("span",{className:"text-muted-foreground",children:"Sent as query parameter"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"accept:"})," application/json",t.jsx("br",{}),t.jsx("span",{className:"text-muted-foreground",children:"Response format"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"debug:"})," True",t.jsx("br",{}),t.jsx("span",{className:"text-muted-foreground",children:"Include all fields (even null)"})]})]})]})]}),t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:t.jsxs("p",{className:"text-sm text-yellow-800",children:[t.jsx("strong",{children:"Important:"}),' ATTOM API requires the API key as a query parameter, not a header. The "accept" parameter is also required for proper JSON responses.']})})]})})]}),a.length>0&&t.jsxs(F,{className:"border-l-4 border-l-primary",children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Qn,{className:"w-5 h-5 text-yellow-500"}),"Quick Analysis"]})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-3",children:[x>0?t.jsxs(ce,{className:"border-green-200 bg-green-50",children:[t.jsx(be,{className:"w-4 h-4 text-green-600"}),t.jsxs(de,{className:"text-green-800",children:[t.jsx("strong",{children:"Success!"})," ",x," search ",x===1?"strategy":"strategies"," found data using the correct ATTOM parameter format."]})]}):t.jsxs(ce,{className:"border-yellow-200 bg-yellow-50",children:[t.jsx(ze,{className:"w-4 h-4 text-yellow-600"}),t.jsxs(de,{className:"text-yellow-800",children:[t.jsx("strong",{children:"Address Issue:"}),' Try the documented example "586 Franklin Ave, Brooklyn, NY 11238" which uses the correct ATTOM parameter format.']})]}),S>0&&t.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.jsx("strong",{children:"Issues Found:"}),t.jsxs("ul",{className:"mt-1 space-y-1",children:[a.filter(w=>!w.success&&w.status===400).length>0&&t.jsx("li",{children:' "SuccessWithoutResult" - Property not in database (try documented example)'}),a.filter(w=>!w.success&&w.status===404).length>0&&t.jsx("li",{children:' "No rule matched" - Wrong parameter format (use address1 & address2)'}),a.filter(w=>!w.success&&w.status===401).length>0&&t.jsx("li",{children:" Authentication failed - Check API key configuration"})]})]})]})})]}),t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Ub,{className:"w-5 h-5"}),"Search Configuration"]}),t.jsx(Ie,{children:"Test addresses using the correct ATTOM API parameter format"})]}),t.jsxs(U,{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(X,{htmlFor:"test-address",children:"Test Address"}),t.jsx(Re,{id:"test-address",value:e,onChange:w=>s(w.target.value),placeholder:"586 Franklin Ave, Brooklyn, NY 11238",disabled:r}),t.jsx("p",{className:"text-xs text-muted-foreground",children:'Format: "Street Address, City, State ZIP" - will be converted to address1 & address2 parameters'})]}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsxs($,{onClick:h,disabled:r||!e.trim(),className:"flex-1 sm:flex-none",children:[r?t.jsx(Ye,{className:"w-4 h-4 mr-2 animate-spin"}):t.jsx(Ls,{className:"w-4 h-4 mr-2"}),r?"Testing ATTOM Formats...":"Test ATTOM API Formats"]}),t.jsxs($,{variant:"outline",onClick:()=>window.location.href="?api-key-validator=true",className:"flex-1 sm:flex-none",children:[t.jsx(cs,{className:"w-4 h-4 mr-2"}),"API Key Validator"]}),t.jsxs($,{variant:"outline",onClick:()=>window.location.href="?attom-admin=true",className:"flex-1 sm:flex-none",children:[t.jsx(Di,{className:"w-4 h-4 mr-2"}),"Admin Panel"]})]})]})]}),t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(We,{className:"w-5 h-5"}),"Recommended Test Addresses"]}),t.jsx(Ie,{children:"Addresses that work with ATTOM API, including the documented example"})]}),t.jsx(U,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:JM.map((w,k)=>t.jsx("div",{className:"border rounded-lg p-4 hover:bg-muted/50 transition-colors",children:t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(K,{variant:"outline",className:"text-xs",children:w.type}),w.type==="Documentation Example"&&t.jsx(K,{variant:"default",className:"text-xs bg-blue-500",children:"Recommended"})]}),t.jsx("p",{className:"font-medium text-sm mb-1",children:w.address}),t.jsx("p",{className:"text-xs text-muted-foreground",children:w.description})]}),t.jsx($,{size:"sm",variant:"outline",onClick:()=>j(w.address),className:"shrink-0",children:"Use"})]})},k))})})]}),(r||a.length>0)&&t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Ds,{className:"w-5 h-5"}),"Search Results",o&&t.jsx(K,{variant:"outline",className:"ml-2",children:o})]}),t.jsx(Ie,{children:"Testing multiple ATTOM API endpoints with different parameter formats"})]}),t.jsxs(U,{children:[t.jsxs("div",{className:"flex items-center gap-4 text-sm mb-4",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),t.jsxs("span",{children:[x," Successful"]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),t.jsxs("span",{children:[S," Failed"]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),t.jsxs("span",{children:[a.length," Total Tests"]})]})]}),r&&t.jsxs(ce,{className:"mb-4",children:[t.jsx(Ye,{className:"w-4 h-4 animate-spin"}),t.jsx(de,{children:"Testing ATTOM API parameter formats... This may take a few moments."})]}),t.jsx("div",{className:"space-y-3",children:a.map((w,k)=>t.jsxs("div",{className:`border rounded-lg p-4 ${g(w.status)}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[v(w),t.jsx("span",{className:"font-medium",children:w.strategy}),t.jsxs(K,{variant:"outline",children:[w.duration,"ms"]})]}),t.jsx(K,{variant:w.success?"default":"destructive",children:w.status})]}),t.jsx("p",{className:`text-sm ${b(w)} mb-2`,children:w.message}),w.parameters&&t.jsxs("div",{className:"mb-2",children:[t.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Parameters used:"}),t.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:y(w.parameters)})]}),w.recommendations&&w.recommendations.length>0&&t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Recommendations:"}),t.jsx("ul",{className:"text-xs text-muted-foreground space-y-0.5",children:w.recommendations.map((C,P)=>t.jsxs("li",{className:"flex items-start gap-1",children:[t.jsx("span",{className:"text-primary",children:""}),t.jsx("span",{children:C})]},P))})]})]},k))})]})]}),t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(kt,{className:"w-5 h-5"}),"ATTOM Parameter Format Testing"]}),t.jsx(Ie,{children:"Different parameter formats that will be tested with ATTOM API"})]}),t.jsx(U,{children:t.jsx("div",{className:"grid grid-cols-1 gap-4",children:c.map((w,k)=>t.jsxs("div",{className:"border rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("h4",{className:"font-medium text-sm",children:w.label}),w.format==="attom-standard"&&t.jsx(K,{variant:"default",className:"text-xs bg-green-500",children:"Recommended"})]}),t.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:w.description}),t.jsx("div",{className:"bg-muted/50 rounded p-2",children:t.jsx("code",{className:"text-xs",children:w.example})})]},k))})})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Xs,{className:"w-5 h-5"}),"Quick Actions"]})}),t.jsx(U,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs($,{variant:"outline",onClick:()=>window.location.href="?attom-admin=true",className:"justify-start",children:[t.jsx(Sr,{className:"w-4 h-4 mr-2"}),"Admin Panel"]}),t.jsxs($,{variant:"outline",onClick:()=>window.location.href="?api-key-validator=true",className:"justify-start",children:[t.jsx(cs,{className:"w-4 h-4 mr-2"}),"API Key Validator"]}),t.jsxs($,{variant:"outline",onClick:()=>window.location.href=window.location.pathname,className:"justify-start",children:[t.jsx(yr,{className:"w-4 h-4 mr-2"}),"Return to App"]})]})})]})]})})}const xm=[{issue:"API Key sent as header instead of query parameter",fix:"Updated both attom.ts and attom-comprehensive.ts to send apikey as query parameter per ATTOM API requirements",status:"completed",category:"server",impact:"high"},{issue:'Missing "accept" parameter in API requests',fix:"Added accept=application/json parameter to all ATTOM API calls as required by documentation",status:"completed",category:"server",impact:"high"},{issue:'Incorrect error handling for "SuccessWithoutResult"',fix:"Updated error detection to properly handle SuccessWithoutResult as valid response with no data",status:"completed",category:"server",impact:"medium"},{issue:"Enhanced ATTOM API error messages and status codes",fix:"Improved error parsing to provide specific messages for 401, 404, 400, 429, and 500+ errors",status:"completed",category:"server",impact:"medium"},{issue:"Search diagnostic tool using wrong endpoint paths",fix:"Updated AttomSearchDiagnostic to use correct endpoint paths without /propertyapi/v1.0.0 prefix",status:"completed",category:"client",impact:"medium"},{issue:"Incomplete parameter format documentation",fix:"Added comprehensive ATTOM API format guide showing correct URL structure with all required parameters",status:"completed",category:"documentation",impact:"low"},{issue:"Missing API key validation in server responses",fix:"Enhanced server logging and error responses to help diagnose API key authentication issues",status:"completed",category:"server",impact:"medium"}],XM=[{test:"API Key Authentication",description:"Verify ATTOM_API_KEY is sent correctly as query parameter",tool:"?api-key-validator=true"},{test:"Search Parameter Format",description:"Test address1 & address2 parameter format with documented example",tool:"?attom-search-diagnostic=true"},{test:"Endpoint Configuration",description:"Check all endpoint URLs match ATTOM API documentation",tool:"?attom-admin-diagnostic=true"}];function ZM(){const[e,s]=m.useState(null),r=()=>{const c="https://api.gateway.attomdata.com/propertyapi/v1.0.0/sale/detail?address1=586+FRANKLIN+AVE&address2=brooklyn+NY+11238&apikey=YOUR_KEY&accept=application/json&debug=True";navigator.clipboard.writeText(c),s("URL copied to clipboard"),qe.success("Example URL copied to clipboard"),setTimeout(()=>s(null),3e3)},n=c=>{switch(c){case"completed":return t.jsx(be,{className:"w-4 h-4 text-green-600"});case"in-progress":return t.jsx(ze,{className:"w-4 h-4 text-yellow-600"});case"verification-needed":return t.jsx(ze,{className:"w-4 h-4 text-blue-600"});default:return t.jsx(Ze,{className:"w-4 h-4 text-red-600"})}},a=c=>{switch(c){case"server":return t.jsx(Ds,{className:"w-4 h-4"});case"client":return t.jsx(bl,{className:"w-4 h-4"});case"configuration":return t.jsx(Sr,{className:"w-4 h-4"});case"documentation":return t.jsx(Qt,{className:"w-4 h-4"});default:return t.jsx(jl,{className:"w-4 h-4"})}},i=c=>{switch(c){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},o=xm.filter(c=>c.status==="completed").length,l=xm.length;return t.jsx("div",{className:"min-h-screen bg-background",children:t.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Di,{className:"w-6 h-6 text-green-600"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold",children:"ATTOM API Integration Fixes"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Summary of issues fixed to resolve ATTOM API authentication and parameter errors"})]})]}),t.jsxs(F,{className:"border-l-4 border-l-green-500",children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(be,{className:"w-5 h-5 text-green-600"}),"Fix Summary"]})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs(ce,{className:"border-green-200 bg-green-50",children:[t.jsx(be,{className:"w-4 h-4 text-green-600"}),t.jsxs(de,{className:"text-green-800",children:[t.jsx("strong",{children:"Complete!"})," ",o,"/",l," issues fixed. The ATTOM API integration now follows the official documentation requirements."]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:o}),t.jsx("div",{className:"text-muted-foreground",children:"Fixes Applied"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"2"}),t.jsx("div",{className:"text-muted-foreground",children:"Server Files Updated"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"1"}),t.jsx("div",{className:"text-muted-foreground",children:"Diagnostic Tool Enhanced"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"3"}),t.jsx("div",{className:"text-muted-foreground",children:"Verification Tests"})]})]})]})})]}),t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(cs,{className:"w-5 h-5 text-blue-600"}),"Critical Fixes Applied"]}),t.jsx(Ie,{children:"These changes resolve the core authentication and parameter format issues"})]}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsxs("h4",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[t.jsx(cs,{className:"w-4 h-4 text-blue-600"}),"API Key Authentication Fix"]}),t.jsxs("div",{className:"text-sm space-y-2",children:[t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Ze,{className:"w-4 h-4 text-red-500 mt-0.5 shrink-0"}),t.jsxs("span",{className:"text-red-700",children:[t.jsx("strong",{children:"Before:"})," API key sent in Authorization header"]})]}),t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(be,{className:"w-4 h-4 text-green-500 mt-0.5 shrink-0"}),t.jsxs("span",{className:"text-green-700",children:[t.jsx("strong",{children:"After:"}),' API key sent as "apikey" query parameter']})]})]})]}),t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[t.jsxs("h4",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[t.jsx(Ts,{className:"w-4 h-4 text-green-600"}),"Parameter Format Fix"]}),t.jsxs("div",{className:"text-sm space-y-2",children:[t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Ze,{className:"w-4 h-4 text-red-500 mt-0.5 shrink-0"}),t.jsxs("span",{className:"text-red-700",children:[t.jsx("strong",{children:"Before:"}),' Missing "accept" parameter, incorrect error handling']})]}),t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(be,{className:"w-4 h-4 text-green-500 mt-0.5 shrink-0"}),t.jsxs("span",{className:"text-green-700",children:[t.jsx("strong",{children:"After:"})," All required parameters included, proper error detection"]})]})]})]})]})})]}),t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(bl,{className:"w-5 h-5 text-blue-600"}),"Corrected ATTOM API Format"]}),t.jsx(Ie,{children:"The fixed implementation now matches ATTOM documentation exactly"})]}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm font-medium",children:"Complete ATTOM API Request URL:"}),t.jsxs($,{size:"sm",variant:"outline",onClick:r,children:[t.jsx(ht,{className:"w-3 h-3 mr-1"}),"Copy"]})]}),t.jsx("code",{className:"text-xs bg-background px-3 py-2 rounded border block break-all",children:"https://api.gateway.attomdata.com/propertyapi/v1.0.0/sale/detail?address1=586+FRANKLIN+AVE&address2=brooklyn+NY+11238&apikey=YOUR_KEY&accept=application/json&debug=True"}),e&&t.jsx("p",{className:"text-xs text-green-600 mt-1",children:e})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-sm mb-2",children:"Required Parameters:"}),t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsxs("div",{children:[t.jsx("code",{className:"text-xs bg-muted px-1 rounded",children:"address1"})," = Street address only"]}),t.jsxs("div",{children:[t.jsx("code",{className:"text-xs bg-muted px-1 rounded",children:"address2"})," = City, State, ZIP"]}),t.jsxs("div",{children:[t.jsx("code",{className:"text-xs bg-muted px-1 rounded",children:"apikey"})," = Your ATTOM API key"]}),t.jsxs("div",{children:[t.jsx("code",{className:"text-xs bg-muted px-1 rounded",children:"accept"})," = application/json"]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-sm mb-2",children:"Optional Parameters:"}),t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsxs("div",{children:[t.jsx("code",{className:"text-xs bg-muted px-1 rounded",children:"debug"})," = True (include null fields)"]}),t.jsxs("div",{children:[t.jsx("code",{className:"text-xs bg-muted px-1 rounded",children:"callback"})," = JSONP callback name"]})]})]})]})]})})]}),t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Qt,{className:"w-5 h-5"}),"Detailed Fix List"]}),t.jsx(Ie,{children:"All issues identified and resolved in the ATTOM API integration"})]}),t.jsx(U,{children:t.jsx("div",{className:"space-y-3",children:xm.map((c,d)=>t.jsx("div",{className:"border rounded-lg p-4",children:t.jsx("div",{className:"flex items-start justify-between gap-4",children:t.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n(c.status),a(c.category)]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-sm mb-1",children:c.issue}),t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:c.fix}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(K,{variant:"outline",className:"text-xs capitalize",children:c.category}),t.jsxs(K,{className:`text-xs border ${i(c.impact)}`,children:[c.impact," impact"]}),t.jsx(K,{variant:"outline",className:"text-xs capitalize",children:c.status.replace("-"," ")})]})]})]})})},d))})})]}),t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Ts,{className:"w-5 h-5 text-orange-600"}),"Verification & Testing"]}),t.jsx(Ie,{children:"Use these tools to verify the fixes are working correctly"})]}),t.jsxs(U,{children:[t.jsx("div",{className:"space-y-3",children:XM.map((c,d)=>t.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-sm",children:c.test}),t.jsx("p",{className:"text-sm text-muted-foreground",children:c.description})]}),t.jsxs($,{size:"sm",variant:"outline",onClick:()=>window.location.href=c.tool,className:"shrink-0",children:[t.jsx(yr,{className:"w-3 h-3 mr-1"}),"Test"]})]},d))}),t.jsx(zt,{className:"my-4"}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsxs("h4",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[t.jsx(Qn,{className:"w-4 h-4 text-blue-600"}),"Testing Recommendations"]}),t.jsxs("ul",{className:"text-sm space-y-1 text-blue-800",children:[t.jsx("li",{children:' Start with the documented example address: "586 Franklin Ave, Brooklyn, NY 11238"'}),t.jsx("li",{children:" Verify your API key is active using the API Key Validator"}),t.jsx("li",{children:" Use the Search Diagnostic tool to test different address formats"}),t.jsx("li",{children:" Check server logs for detailed error messages if issues persist"})]})]})]})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Qn,{className:"w-5 h-5 text-green-600"}),"What's Fixed & Next Steps"]})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-sm mb-2 text-green-600",children:" Now Working:"}),t.jsxs("ul",{className:"text-sm space-y-1 text-green-700",children:[t.jsx("li",{children:" API key authentication via query parameter"}),t.jsx("li",{children:" Correct parameter format (address1 & address2)"}),t.jsx("li",{children:' Proper error handling for "SuccessWithoutResult"'}),t.jsx("li",{children:" Enhanced error messages and debugging"}),t.jsx("li",{children:" All required ATTOM API parameters included"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-sm mb-2 text-blue-600",children:" Test With:"}),t.jsxs("ul",{className:"text-sm space-y-1 text-blue-700",children:[t.jsx("li",{children:" Documented example address from ATTOM"}),t.jsx("li",{children:" Well-known landmark addresses"}),t.jsx("li",{children:" Your specific property addresses"}),t.jsx("li",{children:" Different endpoint types (sale, property, AVM)"})]})]})]}),t.jsxs(ce,{className:"border-green-200 bg-green-50",children:[t.jsx(be,{className:"w-4 h-4 text-green-600"}),t.jsxs(de,{className:"text-green-800",children:[t.jsx("strong",{children:"Ready to Use:"})," The ATTOM API integration has been fixed and should now work correctly with proper authentication and parameter formatting. Test with the diagnostic tools to verify functionality."]})]})]})})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsx(Y,{children:"Quick Actions"})}),t.jsx(U,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[t.jsxs($,{variant:"outline",onClick:()=>window.location.href="?attom-search-diagnostic=true",className:"justify-start",children:[t.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Test Search"]}),t.jsxs($,{variant:"outline",onClick:()=>window.location.href="?api-key-validator=true",className:"justify-start",children:[t.jsx(cs,{className:"w-4 h-4 mr-2"}),"Validate API Key"]}),t.jsxs($,{variant:"outline",onClick:()=>window.location.href=window.location.pathname,className:"justify-start",children:[t.jsx(yr,{className:"w-4 h-4 mr-2"}),"Return to App"]})]})})]})]})})}const gm=[{name:"Property Basic",endpoint:"/property/basic",description:"Basic property information including address, APN, and basic characteristics",category:"Basic",requiredSubscription:"Basic Plan or higher",testParams:{address1:"11 Village Street",address2:"Deep River, CT 06412"},sampleAddress:"11 Village Street, Deep River, CT 06412"},{name:"Property Detail",endpoint:"/property/detail",description:"Detailed property information including assessments, building details, and more",category:"Enhanced",requiredSubscription:"Enhanced Plan or higher",testParams:{address1:"11 Village Street",address2:"Deep River, CT 06412"},sampleAddress:"11 Village Street, Deep River, CT 06412"},{name:"Property Expanded Profile",endpoint:"/property/expandedprofile",description:"Comprehensive property profile with detailed assessments and history",category:"Premium",requiredSubscription:"Premium Plan or higher",testParams:{address1:"11 Village Street",address2:"Deep River, CT 06412"},sampleAddress:"11 Village Street, Deep River, CT 06412"},{name:"AVM (Automated Valuation Model)",endpoint:"/avm",description:"Current estimated property value using ATTOM's valuation model",category:"Premium",requiredSubscription:"Premium Plan or higher",testParams:{address1:"11 Village Street",address2:"Deep River, CT 06412"},sampleAddress:"11 Village Street, Deep River, CT 06412"},{name:"Sales History",endpoint:"/saleshistory/detail",description:"Historical sales transactions for the property",category:"Enhanced",requiredSubscription:"Enhanced Plan or higher",testParams:{address1:"11 Village Street",address2:"Deep River, CT 06412"},sampleAddress:"11 Village Street, Deep River, CT 06412"},{name:"Tax Assessment",endpoint:"/assessment/detail",description:"Detailed tax assessment information and history",category:"Enhanced",requiredSubscription:"Enhanced Plan or higher",testParams:{address1:"11 Village Street",address2:"Deep River, CT 06412"},sampleAddress:"11 Village Street, Deep River, CT 06412"},{name:"Comparable Sales",endpoint:"/sales/comps",description:"Comparable sales in the area (comps)",category:"Premium",requiredSubscription:"Premium Plan or higher",testParams:{address1:"11 Village Street",address2:"Deep River, CT 06412",radius:"0.5"},sampleAddress:"11 Village Street, Deep River, CT 06412"},{name:"Market Trends",endpoint:"/market/trends",description:"Local market trends and statistics",category:"Enterprise",requiredSubscription:"Enterprise Plan",testParams:{address1:"11 Village Street",address2:"Deep River, CT 06412"},sampleAddress:"11 Village Street, Deep River, CT 06412"}],My={Basic:{color:"bg-blue-100 text-blue-800",description:"Entry-level access to basic property information",features:["Basic property details","Address validation","Property characteristics"]},Enhanced:{color:"bg-green-100 text-green-800",description:"Enhanced property data with assessments and sales history",features:["All Basic features","Tax assessments","Sales history","Building details"]},Premium:{color:"bg-purple-100 text-purple-800",description:"Premium features including valuations and comparables",features:["All Enhanced features","AVM valuations","Comparable sales","Market analytics"]},Enterprise:{color:"bg-orange-100 text-orange-800",description:"Full enterprise access with market trends and analytics",features:["All Premium features","Market trends","Advanced analytics","Custom endpoints"]}};function eD(){const[e,s]=m.useState([]),[r,n]=m.useState(!1),[a,i]=m.useState(null),[o,l]=m.useState("unknown"),c=async x=>{const S=Date.now();try{console.log(`Testing endpoint: ${x.name}`);const w=await fetch(`https://${De}.supabase.co/functions/v1/make-server-a24396d5/attom${x.endpoint}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Te}`},body:JSON.stringify(x.testParams)}),k=Date.now()-S,C=await w.json();console.log(`Endpoint ${x.name} response:`,{status:w.status,data:C});let P=!1,N="UNKNOWN",T="";if(w.ok)P=!0,N="DATA",C.success?C.data&&Object.keys(C.data).length>0?T="Endpoint accessible - Data returned successfully":T="Endpoint accessible - No data found for test address (this is normal)":T="Endpoint accessible - Server processed request but no data available";else switch(P=!1,w.status){case 401:N="AUTH",T="Authentication failed - Invalid or missing API key";break;case 403:N="ACCESS",T=`Access denied - Your subscription does not include this endpoint. Requires: ${x.requiredSubscription}`;break;case 404:N="CONFIG",T="Endpoint not found - May be incorrectly configured or unavailable";break;case 400:N="CONFIG",T="Bad request - Parameter format issue or endpoint configuration problem";break;case 429:N="ACCESS",T="Rate limit exceeded - Too many requests";break;case 500:N="UNKNOWN",T="Server error - ATTOM API internal issue";break;default:N="UNKNOWN",T=`Unexpected error (${w.status}): ${C.message||"Unknown error"}`}return{endpoint:x.name,success:w.ok,status:w.status,message:T,hasAccess:P,errorType:N,responseTime:k,timestamp:new Date().toISOString()}}catch(w){const k=Date.now()-S;return console.error(`Error testing endpoint ${x.name}:`,w),{endpoint:x.name,success:!1,status:0,message:`Network error: ${w.message}`,hasAccess:!1,errorType:"UNKNOWN",responseTime:k,timestamp:new Date().toISOString()}}},d=async x=>{i(x.name);const S=await c(x);s(w=>[...w.filter(k=>k.endpoint!==S.endpoint),S]),i(null)},u=async()=>{n(!0),s([]);for(const S of gm){i(S.name);const w=await c(S);s(k=>[...k,w]),await new Promise(k=>setTimeout(k,500))}i(null),n(!1);const x=e.filter(S=>S.errorType==="AUTH").length;x===e.length?l("invalid"):l(x===0?"valid":"unknown")},f=x=>{if(x.hasAccess)return t.jsx(be,{className:"w-5 h-5 text-green-600"});switch(x.errorType){case"AUTH":return t.jsx(Ze,{className:"w-5 h-5 text-red-600"});case"ACCESS":return t.jsx(Rc,{className:"w-5 h-5 text-orange-600"});case"CONFIG":return t.jsx(ze,{className:"w-5 h-5 text-yellow-600"});default:return t.jsx(Ze,{className:"w-5 h-5 text-red-600"})}},p=x=>{if(x.hasAccess)return"border-green-200 bg-green-50";switch(x.errorType){case"AUTH":return"border-red-200 bg-red-50";case"ACCESS":return"border-orange-200 bg-orange-50";case"CONFIG":return"border-yellow-200 bg-yellow-50";default:return"border-red-200 bg-red-50"}},h=()=>{const x=e.filter(P=>P.hasAccess),S=e.filter(P=>P.errorType==="AUTH"),w=e.filter(P=>P.errorType==="ACCESS"),k=e.filter(P=>P.errorType==="CONFIG"),C=e.filter(P=>P.errorType==="UNKNOWN");return{accessible:x,authIssues:S,accessDenied:w,configIssues:k,unknownIssues:C}},{accessible:j,authIssues:v,accessDenied:b,configIssues:g,unknownIssues:y}=h();return t.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"text-center space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx(cs,{className:"w-8 h-8 text-primary"}),t.jsx("h1",{className:"text-3xl font-bold",children:"ATTOM API Endpoint Access Diagnostic"})]}),t.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Test your ATTOM API key's access to different endpoints and identify subscription limitations. This tool helps distinguish between authentication failures (invalid API key) and authorization failures (valid API key but insufficient subscription level)."})]}),t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(mC,{className:"w-5 h-5"}),"Quick Actions"]}),t.jsx(Ie,{children:"Test all endpoints or review subscription requirements"})]}),t.jsxs(U,{className:"space-y-4",children:[t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsxs($,{onClick:u,disabled:r,className:"flex items-center gap-2",children:[r?t.jsx(ft,{className:"w-4 h-4 animate-spin"}):t.jsx(be,{className:"w-4 h-4"}),"Test All Endpoints"]}),t.jsx($,{variant:"outline",asChild:!0,children:t.jsxs("a",{href:"https://api.developer.attomdata.com/docs",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",children:[t.jsx(yr,{className:"w-4 h-4"}),"ATTOM API Documentation"]})}),t.jsx($,{variant:"outline",asChild:!0,children:t.jsxs("a",{href:"https://api.developer.attomdata.com/pricing",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",children:[t.jsx(yr,{className:"w-4 h-4"}),"View Subscription Plans"]})})]}),a&&t.jsxs(ce,{children:[t.jsx(ft,{className:"w-4 h-4 animate-spin"}),t.jsxs(de,{children:["Testing endpoint: ",t.jsx("strong",{children:a})]})]})]})]}),t.jsxs(Hs,{defaultValue:"endpoints",className:"space-y-6",children:[t.jsxs(qs,{className:"grid grid-cols-3 w-full max-w-md mx-auto",children:[t.jsx(Se,{value:"endpoints",children:"Endpoint Tests"}),t.jsx(Se,{value:"results",children:"Results Summary"}),t.jsx(Se,{value:"subscriptions",children:"Subscription Info"})]}),t.jsx(ke,{value:"endpoints",className:"space-y-4",children:t.jsx("div",{className:"grid gap-4",children:gm.map(x=>{const S=e.find(k=>k.endpoint===x.name),w=a===x.name;return t.jsxs(F,{className:S?p(S):"",children:[t.jsx(q,{children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Y,{className:"text-lg",children:x.name}),t.jsx(K,{className:My[x.category].color,children:x.category}),S&&f(S)]}),t.jsx(Ie,{children:x.description}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.jsx("strong",{children:"Required:"})," ",x.requiredSubscription]}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.jsx("strong",{children:"Test Address:"})," ",x.sampleAddress]})]}),t.jsx($,{onClick:()=>d(x),disabled:w||r,variant:"outline",size:"sm",children:w?t.jsx(ft,{className:"w-4 h-4 animate-spin"}):"Test"})]})}),S&&t.jsx(U,{className:"pt-0",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{className:"font-medium",children:"Status:"}),t.jsxs("span",{className:S.hasAccess?"text-green-600":"text-red-600",children:["HTTP ",S.status," - ",S.hasAccess?"Accessible":"Not Accessible"]})]}),t.jsxs("div",{className:"text-sm",children:[t.jsx("span",{className:"font-medium",children:"Result:"})," ",S.message]}),t.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[t.jsxs("span",{children:["Response Time: ",S.responseTime,"ms"]}),t.jsx("span",{children:new Date(S.timestamp).toLocaleTimeString()})]})]})})]},x.name)})})}),t.jsx(ke,{value:"results",className:"space-y-6",children:e.length===0?t.jsx(F,{children:t.jsxs(U,{className:"pt-6 text-center",children:[t.jsx(Ct,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),t.jsx("p",{className:"text-muted-foreground",children:"No test results yet. Run endpoint tests to see results here."})]})}):t.jsxs("div",{className:"grid gap-6",children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx(F,{className:"border-green-200 bg-green-50",children:t.jsxs(U,{className:"pt-6 text-center",children:[t.jsx(be,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),t.jsx("div",{className:"text-2xl font-bold text-green-600",children:j.length}),t.jsx("div",{className:"text-sm text-green-700",children:"Accessible"})]})}),t.jsx(F,{className:"border-orange-200 bg-orange-50",children:t.jsxs(U,{className:"pt-6 text-center",children:[t.jsx(Rc,{className:"w-8 h-8 text-orange-600 mx-auto mb-2"}),t.jsx("div",{className:"text-2xl font-bold text-orange-600",children:b.length}),t.jsx("div",{className:"text-sm text-orange-700",children:"Access Denied"})]})}),t.jsx(F,{className:"border-red-200 bg-red-50",children:t.jsxs(U,{className:"pt-6 text-center",children:[t.jsx(Ze,{className:"w-8 h-8 text-red-600 mx-auto mb-2"}),t.jsx("div",{className:"text-2xl font-bold text-red-600",children:v.length}),t.jsx("div",{className:"text-sm text-red-700",children:"Auth Failed"})]})}),t.jsx(F,{className:"border-yellow-200 bg-yellow-50",children:t.jsxs(U,{className:"pt-6 text-center",children:[t.jsx(ze,{className:"w-8 h-8 text-yellow-600 mx-auto mb-2"}),t.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:g.length+y.length}),t.jsx("div",{className:"text-sm text-yellow-700",children:"Other Issues"})]})})]}),v.length>0&&t.jsxs(ce,{className:"border-red-200 bg-red-50",children:[t.jsx(Ze,{className:"w-4 h-4 text-red-600"}),t.jsxs(de,{children:[t.jsx("strong",{children:"Authentication Issues:"})," ",v.length," endpoint(s) failed with authentication errors. This suggests your API key is invalid, missing, or expired. Check your ATTOM_API_KEY environment variable."]})]}),b.length>0&&t.jsxs(ce,{className:"border-orange-200 bg-orange-50",children:[t.jsx(Rc,{className:"w-4 h-4 text-orange-600"}),t.jsxs(de,{children:[t.jsx("strong",{children:"Subscription Limitations:"})," ",b.length," endpoint(s) are not accessible with your current subscription. Consider upgrading your ATTOM Data plan to access these features."]})]}),j.length>0&&t.jsxs(ce,{className:"border-green-200 bg-green-50",children:[t.jsx(be,{className:"w-4 h-4 text-green-600"}),t.jsxs(de,{children:[t.jsx("strong",{children:"Working Endpoints:"})," ",j.length," endpoint(s) are accessible and working correctly. Your API key is valid for these features."]})]})]})}),t.jsx(ke,{value:"subscriptions",className:"space-y-4",children:t.jsx("div",{className:"grid gap-4",children:Object.entries(My).map(([x,S])=>t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(K,{className:S.color,children:x}),t.jsxs(Y,{children:[x," Plan"]})]}),t.jsx(Ie,{children:S.description})]}),t.jsxs(U,{children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"font-medium",children:"Included Features:"}),t.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground",children:S.features.map((w,k)=>t.jsx("li",{children:w},k))})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("div",{className:"font-medium mb-2",children:"Endpoints Available:"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:gm.filter(w=>w.category===x||x==="Enhanced"&&w.category==="Basic"||x==="Premium"&&["Basic","Enhanced"].includes(w.category)||x==="Enterprise").map(w=>t.jsx(K,{variant:"outline",className:"text-xs",children:w.name},w.name))})]})]})]},x))})})]})]})}const tD=[{name:"ATTOM Documentation Example",address1:"586 Franklin Ave",address2:"Brooklyn, NY 11238",description:"Official example from ATTOM API documentation"},{name:"Deep River, CT Test",address1:"11 Village Street",address2:"Deep River, CT 06412",description:"Our current test address"},{name:"Greenwich, CT Example",address1:"5 Whitney Drive",address2:"Greenwich, CT 06831",description:"Connecticut address for testing"},{name:"Simple Format Test",address1:"123 Main Street",address2:"Anytown, CA 90210",description:"Basic address format test"}];function sD(){var w,k,C,P,N,T,O,I;const[e,s]=m.useState("586 Franklin Ave"),[r,n]=m.useState("Brooklyn, NY 11238"),[a,i]=m.useState(!1),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[u,f]=m.useState([]),[p,h]=m.useState(null),j=async(_,A)=>{const R=Date.now();try{console.log("Testing current ATTOM implementation:",{address1:_,address2:A});const M=await fetch(`https://${De}.supabase.co/functions/v1/make-server-a24396d5/attom/property/basic`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Te}`},body:JSON.stringify({address1:_,address2:A})}),z=Date.now()-R,E=await M.json();return{endpoint:"/attom/property/basic",method:"current",success:M.ok,responseTime:z,status:M.status,data:M.ok?E:void 0,error:M.ok?void 0:E.error||`HTTP ${M.status}`,timestamp:new Date().toISOString()}}catch(M){const z=Date.now()-R;return console.error("Current implementation test error:",M),{endpoint:"/attom/property/basic",method:"current",success:!1,responseTime:z,status:0,error:`Network error: ${M.message}`,timestamp:new Date().toISOString()}}},v=async(_,A)=>{const R=Date.now();try{console.log("Testing official ATTOM implementation:",{address1:_,address2:A});const M=await fetch(`https://${De}.supabase.co/functions/v1/make-server-a24396d5/attom-official/property/search`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Te}`},body:JSON.stringify({address1:_,address2:A})}),z=Date.now()-R,E=await M.json();return{endpoint:"/attom-official/property/search",method:"official",success:M.ok,responseTime:z,status:M.status,data:M.ok?E:void 0,error:M.ok?void 0:E.error||`HTTP ${M.status}`,timestamp:new Date().toISOString()}}catch(M){const z=Date.now()-R;return console.error("Official implementation test error:",M),{endpoint:"/attom-official/property/search",method:"official",success:!1,responseTime:z,status:0,error:`Network error: ${M.message}`,timestamp:new Date().toISOString()}}},b=async _=>{if(_==="current"){i(!0);const A=await j(e,r);f(R=>[...R.filter(M=>!(M.method==="current"&&M.endpoint.includes("property"))),A]),i(!1)}else{l(!0);const A=await v(e,r);f(R=>[...R.filter(M=>!(M.method==="official"&&M.endpoint.includes("property"))),A]),l(!1)}},g=async()=>{var E,D;d(!0),f([]),h(null),console.log("Running comprehensive comparison...");const _=await j(e,r),A=await v(e,r);f([_,A]);const R=[];let M="";_.success!==A.success?A.success&&!_.success?(R.push("Official implementation succeeded while current implementation failed"),M="Switch to official implementation patterns for better reliability"):_.success&&!A.success&&(R.push("Current implementation succeeded while official implementation failed"),M="Current implementation may be working, but verify against official patterns"):!_.success&&!A.success?(R.push("Both implementations failed - check API key and address format"),M="Fix API key or address format issues before comparing implementations"):(R.push("Both implementations succeeded"),M="Compare response data quality and performance to choose best approach");const z=Math.abs(_.responseTime-A.responseTime);if(z>500){const H=_.responseTime<A.responseTime?"current":"official";R.push(`${H} implementation is significantly faster (${z}ms difference)`)}if(_.status!==A.status&&R.push(`Different HTTP status codes: Current=${_.status}, Official=${A.status}`),_.error&&A.error&&_.error!==A.error&&R.push("Different error messages returned"),_.success&&A.success&&_.data&&A.data){const H=!!((E=_.data.data)!=null&&E.property||_.data.property),W=!!((D=A.data.data)!=null&&D.property||A.data.property);H!==W&&R.push("Different data availability between implementations")}h({current:_,official:A,differences:R,recommendation:M}),d(!1)},y=_=>{s(_.address1),n(_.address2)},x=_=>_.success?t.jsx(be,{className:"w-5 h-5 text-green-600"}):t.jsx(Ze,{className:"w-5 h-5 text-red-600"}),S=_=>_.success?"border-green-200 bg-green-50":"border-red-200 bg-red-50";return t.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"text-center space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx(lc,{className:"w-8 h-8 text-primary"}),t.jsx("h1",{className:"text-3xl font-bold",children:"ATTOM API Implementation Comparison"})]}),t.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Compare our current ATTOM API implementation with the official patterns from ATTOM's sample code. This helps identify authentication issues, request format problems, and implementation improvements."})]}),t.jsxs(Hs,{defaultValue:"testing",className:"space-y-6",children:[t.jsxs(qs,{className:"grid grid-cols-3 w-full max-w-md mx-auto",children:[t.jsx(Se,{value:"testing",children:"Testing"}),t.jsx(Se,{value:"comparison",children:"Comparison"}),t.jsx(Se,{value:"samples",children:"Sample Addresses"})]}),t.jsxs(ke,{value:"testing",className:"space-y-6",children:[t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Ts,{className:"w-5 h-5"}),"Test Configuration"]}),t.jsx(Ie,{children:"Enter an address to test both implementations"})]}),t.jsxs(U,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(X,{htmlFor:"address1",children:"Address Line 1"}),t.jsx(Re,{id:"address1",value:e,onChange:_=>s(_.target.value),placeholder:"e.g., 586 Franklin Ave"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(X,{htmlFor:"address2",children:"Address Line 2"}),t.jsx(Re,{id:"address2",value:r,onChange:_=>n(_.target.value),placeholder:"e.g., Brooklyn, NY 11238"})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsxs($,{onClick:()=>b("current"),disabled:a||c,variant:"outline",children:[a?t.jsx(ft,{className:"w-4 h-4 animate-spin mr-2"}):t.jsx(jl,{className:"w-4 h-4 mr-2"}),"Test Current Implementation"]}),t.jsxs($,{onClick:()=>b("official"),disabled:o||c,variant:"outline",children:[o?t.jsx(ft,{className:"w-4 h-4 animate-spin mr-2"}):t.jsx(bl,{className:"w-4 h-4 mr-2"}),"Test Official Implementation"]}),t.jsxs($,{onClick:g,disabled:c||a||o,children:[c?t.jsx(ft,{className:"w-4 h-4 animate-spin mr-2"}):t.jsx(lc,{className:"w-4 h-4 mr-2"}),"Run Full Comparison"]})]})]})]}),u.length>0&&t.jsx("div",{className:"grid gap-4",children:u.map((_,A)=>t.jsxs(F,{className:S(_),children:[t.jsxs(q,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[x(_),t.jsx(Y,{className:"text-lg",children:_.method==="current"?"Current Implementation":"Official Implementation"}),t.jsxs(K,{variant:_.success?"default":"destructive",children:["HTTP ",_.status]})]}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[_.responseTime,"ms"]})]}),t.jsx(Ie,{children:_.endpoint})]}),t.jsxs(U,{className:"space-y-4",children:[_.error&&t.jsxs(ce,{className:"border-red-200 bg-red-50",children:[t.jsx(Ze,{className:"w-4 h-4"}),t.jsxs(de,{children:[t.jsx("strong",{children:"Error:"})," ",_.error]})]}),_.success&&_.data&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(X,{children:"Response Data:"}),t.jsx(Ui,{value:JSON.stringify(_.data,null,2),readOnly:!0,className:"font-mono text-xs",rows:8})]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:["Test completed at ",new Date(_.timestamp).toLocaleTimeString()]})]})]},`${_.method}-${A}`))})]}),t.jsx(ke,{value:"comparison",className:"space-y-6",children:p?t.jsx("div",{className:"space-y-6",children:t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(lc,{className:"w-5 h-5"}),"Implementation Comparison Results"]}),t.jsx(Ie,{children:"Analysis of differences between current and official implementations"})]}),t.jsxs(U,{className:"space-y-4",children:[t.jsxs(ce,{children:[t.jsx(ze,{className:"w-4 h-4"}),t.jsxs(de,{children:[t.jsx("strong",{children:"Recommendation:"})," ",p.recommendation]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(X,{children:"Key Differences:"}),t.jsx("div",{className:"space-y-2",children:p.differences.map((_,A)=>t.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-primary mt-2 flex-shrink-0"}),t.jsx("span",{children:_})]},A))})]}),t.jsx(zt,{}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(jl,{className:"w-4 h-4"}),t.jsx("h3",{className:"font-medium",children:"Current Implementation"})]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{children:["Success: ",(w=p.current)!=null&&w.success?" Yes":" No"]}),t.jsxs("div",{children:["Status: ",(k=p.current)==null?void 0:k.status]}),t.jsxs("div",{children:["Response Time: ",(C=p.current)==null?void 0:C.responseTime,"ms"]}),((P=p.current)==null?void 0:P.error)&&t.jsxs("div",{className:"text-red-600",children:["Error: ",p.current.error]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(bl,{className:"w-4 h-4"}),t.jsx("h3",{className:"font-medium",children:"Official Implementation"})]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{children:["Success: ",(N=p.official)!=null&&N.success?" Yes":" No"]}),t.jsxs("div",{children:["Status: ",(T=p.official)==null?void 0:T.status]}),t.jsxs("div",{children:["Response Time: ",(O=p.official)==null?void 0:O.responseTime,"ms"]}),((I=p.official)==null?void 0:I.error)&&t.jsxs("div",{className:"text-red-600",children:["Error: ",p.official.error]})]})]})]})]})]})}):t.jsx(F,{children:t.jsxs(U,{className:"pt-6 text-center",children:[t.jsx(lc,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),t.jsx("p",{className:"text-muted-foreground",children:"No comparison data yet. Run a full comparison test to see results here."})]})})}),t.jsx(ke,{value:"samples",className:"space-y-4",children:t.jsx("div",{className:"grid gap-4",children:tD.map((_,A)=>t.jsxs(F,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>y(_),children:[t.jsxs(q,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Y,{className:"text-lg",children:_.name}),t.jsx($,{size:"sm",variant:"outline",children:"Use This Address"})]}),t.jsx(Ie,{children:_.description})]}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Address 1:"})," ",_.address1]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Address 2:"})," ",_.address2]})]})})]},A))})})]})]})}const rD=[{name:"Basic",price:"$99/month",features:["Basic Property Data","Property Search","Basic Property Details","10,000 API calls/month"],endpoints:["/property/basicprofile","/property/address"]},{name:"Enhanced",price:"$199/month",features:["All Basic features","Enhanced Property Data","Tax Assessment Data","Property History","25,000 API calls/month"],endpoints:["/property/detail","/property/expandedprofile","/property/sale"]},{name:"Premium",price:"$399/month",features:["All Enhanced features","AVM (Automated Valuation)","Comparable Sales","Market Analytics","50,000 API calls/month"],endpoints:["/avm","/property/comparison","/market/snapshot"]},{name:"Enterprise",price:"Custom",features:["All Premium features","Bulk Data Access","Custom Integrations","Dedicated Support","Unlimited API calls"],endpoints:["/property/bulk","/market/trends","/analytics/comprehensive"]}];function nD(){const[e,s]=m.useState(""),[r,n]=m.useState(!1);m.useState(!1);const[a,i]=m.useState(null),[o,l]=m.useState(null),[c,d]=m.useState(!1),u=v=>{const b=v.length,g=/[!@#$%^&*(),.?":{}|<>]/.test(v),y=/\d/.test(v),x=/[a-zA-Z]/.test(v);let S="invalid",w="Unknown";return b>=20&&b<=50&&y&&x?(S="valid",b>=40?w="Enterprise":b>=35?w="Premium":b>=30?w="Enhanced":w="Basic"):b<20?S="short":b>50&&(S="long"),{isValid:S==="valid",format:S,hasSpecialChars:g,length:b,estimated_tier:w}},f=v=>{if(s(v),v.length>0){const b=u(v);i(b)}else i(null)},p=async()=>{if(e){d(!0),l(null);try{const b=await(await fetch(`https://${De}.supabase.co/functions/v1/make-server-a24396d5/attom-key-updater/test-new-key`,{method:"POST",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"},body:JSON.stringify({apiKey:e})})).json();l(b)}catch(v){l({success:!1,error:`Network error: ${v.message}`})}finally{d(!1)}}},h=v=>{navigator.clipboard.writeText(v)},j=v=>{switch(v){case"valid":return"default";case"short":return"destructive";case"long":return"secondary";default:return"destructive"}};return t.jsxs("div",{className:"max-w-5xl mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"text-center space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx(cs,{className:"w-8 h-8 text-primary"}),t.jsx("h1",{className:"text-3xl font-bold",children:"ATTOM API Key Setup"})]}),t.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Get a new ATTOM Data API key to fix authentication issues and access comprehensive property data."})]}),t.jsxs(Hs,{defaultValue:"get-key",className:"space-y-6",children:[t.jsxs(qs,{className:"grid grid-cols-4 w-full max-w-2xl mx-auto",children:[t.jsx(Se,{value:"get-key",children:"Get API Key"}),t.jsx(Se,{value:"enter-key",children:"Enter Key"}),t.jsx(Se,{value:"subscriptions",children:"Subscriptions"}),t.jsx(Se,{value:"troubleshoot",children:"Troubleshoot"})]}),t.jsx(ke,{value:"get-key",className:"space-y-6",children:t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(bl,{className:"w-5 h-5"}),"Get Your ATTOM Data API Key"]}),t.jsx(Ie,{children:"Follow these steps to get a new API key from ATTOM Data"})]}),t.jsxs(U,{className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-4",children:[t.jsxs("div",{className:"flex items-start gap-4 p-4 border rounded-lg",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-bold",children:"1"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h3",{className:"font-medium",children:"Visit ATTOM Developer Portal"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Go to the official ATTOM Data developer portal to create an account or sign in."}),t.jsx($,{variant:"outline",size:"sm",asChild:!0,children:t.jsxs("a",{href:"https://api.developer.attomdata.com/",target:"_blank",rel:"noopener noreferrer",children:[t.jsx(yr,{className:"w-4 h-4 mr-2"}),"Open ATTOM Developer Portal"]})})]})]}),t.jsxs("div",{className:"flex items-start gap-4 p-4 border rounded-lg",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-bold",children:"2"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h3",{className:"font-medium",children:"Create Account or Sign In"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Register for a new account or log in with your existing credentials."}),t.jsxs("ul",{className:"text-sm text-muted-foreground list-disc list-inside space-y-1",children:[t.jsx("li",{children:"Use a business email address if possible"}),t.jsx("li",{children:"Provide accurate company information"}),t.jsx("li",{children:"Verify your email address"})]})]})]}),t.jsxs("div",{className:"flex items-start gap-4 p-4 border rounded-lg",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-bold",children:"3"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h3",{className:"font-medium",children:"Choose Your Subscription"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Select the subscription tier that meets your needs. Most real estate applications need at least Enhanced."}),t.jsx(K,{variant:"secondary",children:"Recommended: Enhanced ($199/month) for property details and tax data"})]})]}),t.jsxs("div",{className:"flex items-start gap-4 p-4 border rounded-lg",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-bold",children:"4"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h3",{className:"font-medium",children:"Generate API Key"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:'Navigate to "API Keys" or "Dashboard" and generate a new API key.'}),t.jsxs("ul",{className:"text-sm text-muted-foreground list-disc list-inside space-y-1",children:[t.jsx("li",{children:"Copy the API key immediately (it may not be shown again)"}),t.jsx("li",{children:"Store it securely"}),t.jsx("li",{children:"Never share it publicly"})]})]})]}),t.jsxs("div",{className:"flex items-start gap-4 p-4 border rounded-lg",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-bold",children:"5"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h3",{className:"font-medium",children:"Add Key to Handoff"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:'Once you have your API key, enter it in the "Enter Key" tab to test and configure it.'}),t.jsxs($,{variant:"outline",size:"sm",onClick:()=>{const v=document.querySelector('[value="enter-key"]');v==null||v.click()},children:[t.jsx(Il,{className:"w-4 h-4 mr-2"}),"Go to Enter Key Tab"]})]})]})]}),t.jsxs(ce,{children:[t.jsx(us,{className:"w-4 h-4"}),t.jsxs(de,{children:[t.jsx("strong",{children:"Implementation Note:"})," We follow ATTOM's official authentication format using headers (accept: application/json, apikey: your-key) as specified in their JavaScript documentation, not query parameters."]})]}),t.jsxs(ce,{children:[t.jsx(us,{className:"w-4 h-4"}),t.jsxs(de,{children:[t.jsx("strong",{children:"Security Note:"})," ATTOM API keys provide access to valuable property data. Keep your key secure and never commit it to version control or share it publicly."]})]})]})]})}),t.jsx(ke,{value:"enter-key",className:"space-y-6",children:t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(cs,{className:"w-5 h-5"}),"Enter Your ATTOM API Key"]}),t.jsx(Ie,{children:"Paste your API key here to validate and test it"})]}),t.jsx(U,{className:"space-y-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(X,{htmlFor:"api-key",children:"ATTOM API Key"}),t.jsxs("div",{className:"relative",children:[t.jsx(Re,{id:"api-key",type:r?"text":"password",value:e,onChange:v=>f(v.target.value),placeholder:"Enter your ATTOM Data API key...",className:"pr-20"}),t.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center gap-1 pr-3",children:[t.jsx($,{type:"button",variant:"ghost",size:"sm",onClick:()=>n(!r),className:"h-7 w-7 p-0",children:r?t.jsx(Oa,{className:"w-4 h-4"}):t.jsx(Ht,{className:"w-4 h-4"})}),e&&t.jsx($,{type:"button",variant:"ghost",size:"sm",onClick:()=>h(e),className:"h-7 w-7 p-0",children:t.jsx(ht,{className:"w-4 h-4"})})]})]})]}),a&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h4",{className:"text-sm font-medium",children:"Key Validation:"}),t.jsx(K,{variant:j(a.format),children:a.format==="valid"?"Valid Format":a.format==="short"?"Too Short":a.format==="long"?"Too Long":"Invalid Format"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[a.isValid?t.jsx(be,{className:"w-4 h-4 text-green-600"}):t.jsx(Ze,{className:"w-4 h-4 text-red-600"}),t.jsx("span",{children:"Format"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-muted-foreground",children:"Length:"}),t.jsx("span",{children:a.length})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-muted-foreground",children:"Tier:"}),t.jsx("span",{children:a.estimated_tier})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[a.hasSpecialChars?t.jsx(ze,{className:"w-4 h-4 text-yellow-500"}):t.jsx(be,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{children:"Characters"})]})]}),a.hasSpecialChars&&t.jsxs(ce,{children:[t.jsx(ze,{className:"w-4 h-4"}),t.jsx(de,{children:"Your API key contains special characters. While this might be normal, ensure you've copied it correctly without any extra spaces or characters."})]})]}),t.jsx("div",{className:"flex gap-3",children:t.jsxs($,{onClick:p,disabled:!e||!(a!=null&&a.isValid)||c,className:"flex-1",children:[c?t.jsx(ft,{className:"w-4 h-4 animate-spin mr-2"}):t.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Test API Key"]})}),o&&t.jsx(F,{className:o.success?"border-green-200 bg-green-50":"border-red-200 bg-red-50",children:t.jsx(U,{className:"pt-6",children:t.jsxs("div",{className:"flex items-start gap-3",children:[o.success?t.jsx(be,{className:"w-5 h-5 text-green-600 mt-0.5"}):t.jsx(Ze,{className:"w-5 h-5 text-red-600 mt-0.5"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"font-medium",children:o.success?"API Key Test Successful!":"API Key Test Failed"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:o.success?"Your API key is working correctly and can access ATTOM Data.":o.error||"The API key test failed. Please check your key and try again."}),o.success&&t.jsxs(ce,{children:[t.jsx(be,{className:"w-4 h-4"}),t.jsxs(de,{children:[t.jsx("strong",{children:"Next Step:"})," Contact your system administrator to update the ATTOM_API_KEY environment variable with this working API key."]})]})]})]})})})]})})]})}),t.jsx(ke,{value:"subscriptions",className:"space-y-6",children:t.jsx("div",{className:"grid gap-6",children:rD.map((v,b)=>t.jsxs(F,{className:v.name==="Enhanced"?"border-primary bg-primary/5":"",children:[t.jsx(q,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Y,{children:v.name}),v.name==="Enhanced"&&t.jsx(K,{children:"Recommended"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(VA,{className:"w-4 h-4"}),t.jsx("span",{className:"font-bold",children:v.price})]})]})}),t.jsx(U,{className:"space-y-4",children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"Features"}),t.jsx("ul",{className:"text-sm text-muted-foreground space-y-1",children:v.features.map((g,y)=>t.jsxs("li",{className:"flex items-center gap-2",children:[t.jsx(be,{className:"w-3 h-3 text-green-600"}),g]},y))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium mb-2",children:"API Endpoints"}),t.jsx("ul",{className:"text-sm text-muted-foreground space-y-1",children:v.endpoints.map((g,y)=>t.jsx("li",{className:"font-mono text-xs bg-muted px-2 py-1 rounded",children:g},y))})]})]})})]},v.name))})}),t.jsx(ke,{value:"troubleshoot",className:"space-y-6",children:t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(ze,{className:"w-5 h-5"}),"Common Issues & Solutions"]})}),t.jsxs(U,{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"border rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-red-600 mb-2",children:"401 Unauthorized Error"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"This usually means your API key is invalid, expired, or incorrectly formatted."}),t.jsxs("ul",{className:"text-sm text-muted-foreground list-disc list-inside space-y-1",children:[t.jsx("li",{children:"Check if your API key is correct and fully copied"}),t.jsx("li",{children:"Verify your ATTOM Data account is active"}),t.jsx("li",{children:"Ensure your subscription hasn't expired"}),t.jsx("li",{children:"Generate a new API key if the current one is old"}),t.jsxs("li",{children:[t.jsx("strong",{children:"Note:"})," We use ATTOM's official header-based authentication (apikey in headers)"]})]})]}),t.jsxs("div",{className:"border rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-yellow-600 mb-2",children:"403 Forbidden Error"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Your API key is valid but your subscription doesn't include access to the requested endpoint."}),t.jsxs("ul",{className:"text-sm text-muted-foreground list-disc list-inside space-y-1",children:[t.jsx("li",{children:"Check which subscription tier you have"}),t.jsx("li",{children:"Upgrade to access premium endpoints"}),t.jsx("li",{children:"Contact ATTOM support for endpoint clarification"})]})]}),t.jsxs("div",{className:"border rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-blue-600 mb-2",children:"SuccessWithoutResult"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"The API call succeeded but no data was found for the requested property."}),t.jsxs("ul",{className:"text-sm text-muted-foreground list-disc list-inside space-y-1",children:[t.jsx("li",{children:"Try a different address format"}),t.jsx("li",{children:"Verify the property exists in ATTOM's database"}),t.jsx("li",{children:"Use a well-known address for testing"})]})]}),t.jsxs("div",{className:"border rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-purple-600 mb-2",children:"No Rule Matched"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"The address format wasn't recognized by ATTOM's address parsing system."}),t.jsxs("ul",{className:"text-sm text-muted-foreground list-disc list-inside space-y-1",children:[t.jsx("li",{children:'Use standard address formats: "123 Main St, City, State ZIP"'}),t.jsx("li",{children:"Avoid abbreviations when possible"}),t.jsx("li",{children:"Include city, state, and ZIP code"}),t.jsx("li",{children:"Test with the format guide in our address tools"})]})]})]}),t.jsx(zt,{}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium",children:"Quick Test Addresses"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Use these addresses to test your API key:"}),t.jsxs("div",{className:"grid gap-2",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[t.jsx("span",{className:"font-mono text-sm",children:"586 Franklin Ave, Brooklyn, NY 11238"}),t.jsx($,{size:"sm",variant:"outline",onClick:()=>h("586 Franklin Ave, Brooklyn, NY 11238"),children:t.jsx(ht,{className:"w-3 h-3"})})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[t.jsx("span",{className:"font-mono text-sm",children:"11 Village Street, Deep River, CT 06412"}),t.jsx($,{size:"sm",variant:"outline",onClick:()=>h("11 Village Street, Deep River, CT 06412"),children:t.jsx(ht,{className:"w-3 h-3"})})]})]})]})]})]})})]})]})}const Dy=[{id:"property.address.street",name:"Street Address",category:"Address",icon:kt},{id:"property.address.city",name:"City",category:"Address",icon:kt},{id:"property.address.state",name:"State",category:"Address",icon:kt},{id:"property.address.zipCode",name:"ZIP Code",category:"Address",icon:kt},{id:"property.basic.yearBuilt",name:"Year Built",category:"Basic Info",icon:We},{id:"property.basic.propertyType",name:"Property Type",category:"Basic Info",icon:We},{id:"property.basic.bedrooms",name:"Bedrooms",category:"Basic Info",icon:We},{id:"property.basic.bathrooms",name:"Bathrooms",category:"Basic Info",icon:We},{id:"property.basic.squareFootage",name:"Square Footage",category:"Basic Info",icon:We},{id:"property.financial.listPrice",name:"List Price",category:"Financial",icon:ls},{id:"property.financial.assessedValue",name:"Assessed Value",category:"Financial",icon:ls},{id:"property.financial.marketValue",name:"Market Value",category:"Financial",icon:ls},{id:"property.owner.name",name:"Owner Name",category:"Owner Info",icon:hn},{id:"property.owner.company",name:"Owner Company",category:"Owner Info",icon:hn},{id:"property.dates.lastSaleDate",name:"Last Sale Date",category:"Dates",icon:Ea},{id:"property.dates.recordingDate",name:"Recording Date",category:"Dates",icon:Ea}],Ly=[{id:"basicprofile",name:"Basic Profile",path:"/propertyapi/v1.0.0/property/basicprofile",description:"Basic property information"},{id:"detail",name:"Property Detail",path:"/propertyapi/v1.0.0/property/detail",description:"Detailed property information"},{id:"saledetail",name:"Sale Detail",path:"/propertyapi/v1.0.0/sale/detail",description:"Sale history and transaction details"},{id:"expandedprofile",name:"Expanded Profile",path:"/propertyapi/v1.0.0/property/expandedprofile",description:"Comprehensive property data"}];function aD(){ms();const[e,s]=m.useState("mapping"),[r,n]=m.useState([]),[a,i]=m.useState([]),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[u,f]=m.useState(""),[p,h]=m.useState(""),[j,v]=m.useState("586 Franklin Ave, Brooklyn, NY"),[b,g]=m.useState(null),[y,x]=m.useState(null),S=m.useCallback(async()=>{try{l(!0);const A=await fetch(`https://${De}.supabase.co/functions/v1/make-server-a24396d5/property-field-mappings`,{headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"}});if(A.ok){const R=await A.json();n(R.mappings||[])}}catch(A){console.error("Error loading mappings:",A)}finally{l(!1)}},[]),w=m.useCallback(async()=>{try{if(d(!0),!(await fetch(`https://${De}.supabase.co/functions/v1/make-server-a24396d5/property-field-mappings`,{method:"POST",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"},body:JSON.stringify({mappings:r})})).ok)throw new Error("Failed to save mappings");x(null)}catch(A){console.error("Error saving mappings:",A),x("Failed to save mappings. Please try again.")}finally{d(!1)}},[r]),k=m.useCallback(async()=>{try{l(!0);const A=[];for(const R of Ly)try{const M=await fetch(`https://${De}.supabase.co/functions/v1/make-server-a24396d5/attom/endpoint-schema`,{method:"POST",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"},body:JSON.stringify({endpoint:R.id,sampleAddress:j})});if(M.ok){const z=await M.json();A.push({id:R.id,name:R.name,path:R.path,sampleData:z.sampleData,fields:C(z.sampleData,R.id)})}}catch(M){console.warn(`Failed to load schema for ${R.name}:`,M)}i(A)}catch(A){console.error("Error loading endpoint schemas:",A)}finally{l(!1)}},[j]),C=(A,R,M="")=>{const z=[],E=(D,H)=>{D!=null&&(Array.isArray(D)?D.length>0&&E(D[0],`${H}[0]`):typeof D=="object"&&Object.keys(D).forEach(W=>{const L=H?`${H}.${W}`:W;typeof D[W]=="object"&&D[W]!==null&&!Array.isArray(D[W])?E(D[W],L):z.push({path:L,type:Array.isArray(D[W])?"array":typeof D[W],description:P(W,L),sampleValue:D[W]})}))};return A&&A.property&&Array.isArray(A.property)&&A.property.length>0&&E(A.property[0],"property[0]"),z},P=(A,R)=>({address:"Property address information",yearBuilt:"Year the property was built",proptype:"Property type classification",livingAreaSqFt:"Living area in square feet",bedsCount:"Number of bedrooms",bathsTotal:"Total number of bathrooms",listPrice:"Current listing price",assessedValue:"Assessed value for tax purposes",marketValue:"Estimated market value",ownerName:"Property owner name",saleDate:"Date of last sale",recordingDate:"Date transaction was recorded"})[A]||`${A} from ${R}`,N=m.useCallback(()=>{var R;if(!u||!p){x("Please select both source endpoint and target field");return}const A={id:`mapping_${Date.now()}`,sourceEndpoint:u,sourcePath:"",targetField:p,displayName:((R=Dy.find(M=>M.id===p))==null?void 0:R.name)||p,dataType:"string",isEnabled:!0};n(M=>[...M,A]),f(""),h(""),x(null)},[u,p]),T=m.useCallback(A=>{n(R=>R.filter(M=>M.id!==A))},[]),O=m.useCallback((A,R)=>{n(M=>M.map(z=>z.id===A?{...z,...R}:z))},[]),I=m.useCallback(async()=>{if(j)try{l(!0);const A=await fetch(`https://${De}.supabase.co/functions/v1/make-server-a24396d5/property-field-mappings/test`,{method:"POST",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"},body:JSON.stringify({address:j,mappings:r})});if(A.ok){const R=await A.json();g(R)}}catch(A){console.error("Error testing mappings:",A)}finally{l(!1)}},[j,r]);m.useEffect(()=>{S(),k()},[S,k]);const _=Dy.reduce((A,R)=>(A[R.category]||(A[R.category]=[]),A[R.category].push(R),A),{});return t.jsx("div",{className:"min-h-screen bg-background p-4",children:t.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"flex items-center gap-2",children:[t.jsx(Ku,{className:"w-6 h-6 text-primary"}),"Property Field Mapping Configuration"]}),t.jsx("p",{className:"text-muted-foreground",children:"Configure how ATTOM API endpoint data maps to property overview fields"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($,{onClick:k,variant:"outline",size:"sm",disabled:o,children:t.jsx(Ye,{className:`h-4 w-4 ${o?"animate-spin":""}`})}),t.jsxs($,{onClick:w,disabled:c||r.length===0,children:[t.jsx(Fb,{className:"h-4 w-4 mr-2"}),c?"Saving...":"Save Mappings"]})]})]}),y&&t.jsxs(ce,{variant:"destructive",children:[t.jsx(Li,{className:"h-4 w-4"}),t.jsx(de,{children:y})]}),t.jsxs(Hs,{value:e,onValueChange:s,className:"w-full",children:[t.jsxs(qs,{className:"grid w-full grid-cols-3",children:[t.jsxs(Se,{value:"mapping",className:"flex items-center gap-2",children:[t.jsx(Sr,{className:"w-4 h-4"}),"Field Mapping"]}),t.jsxs(Se,{value:"preview",className:"flex items-center gap-2",children:[t.jsx(Ht,{className:"w-4 w-4"}),"Live Preview"]}),t.jsxs(Se,{value:"endpoints",className:"flex items-center gap-2",children:[t.jsx(Ds,{className:"w-4 h-4"}),"API Endpoints"]})]}),t.jsxs(ke,{value:"mapping",className:"space-y-6",children:[t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(on,{className:"w-5 h-5 text-primary"}),"Add New Field Mapping"]})}),t.jsxs(U,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(X,{children:"Source Endpoint"}),t.jsxs(Ur,{value:u,onValueChange:f,children:[t.jsx(Vr,{children:t.jsx(Br,{placeholder:"Select ATTOM API endpoint"})}),t.jsx(Wr,{children:Ly.map(A=>t.jsxs(bs,{value:A.id,children:[A.name," - ",A.description]},A.id))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(X,{children:"Target Field"}),t.jsxs(Ur,{value:p,onValueChange:h,children:[t.jsx(Vr,{children:t.jsx(Br,{placeholder:"Select target field"})}),t.jsx(Wr,{children:Object.entries(_).map(([A,R])=>t.jsxs("div",{children:[t.jsx("div",{className:"px-2 py-1 text-sm font-semibold text-muted-foreground",children:A}),R.map(M=>t.jsx(bs,{value:M.id,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(M.icon,{className:"w-4 h-4"}),M.name]})},M.id))]},A))})]})]})]}),t.jsxs($,{onClick:N,className:"w-full",children:[t.jsx(on,{className:"w-4 h-4 mr-2"}),"Add Mapping"]})]})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ku,{className:"w-5 h-5 text-primary"}),"Field Mappings"]}),t.jsxs(K,{variant:"outline",children:[r.length," mappings"]})]})}),t.jsx(U,{children:r.length===0?t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsx(Ku,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"No field mappings configured yet."}),t.jsx("p",{className:"text-sm",children:"Add your first mapping above to get started."})]}):t.jsx("div",{className:"space-y-4",children:r.map(A=>t.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h4",{className:"font-medium",children:A.displayName}),t.jsx(Il,{className:"w-4 h-4 text-muted-foreground"}),t.jsx(K,{variant:"outline",children:A.sourceEndpoint})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($,{size:"sm",variant:"ghost",onClick:()=>O(A.id,{isEnabled:!A.isEnabled}),children:A.isEnabled?t.jsx(Zf,{className:"w-4 h-4"}):t.jsx(Li,{className:"w-4 h-4"})}),t.jsx($,{size:"sm",variant:"ghost",onClick:()=>T(A.id),children:t.jsx(Mi,{className:"w-4 h-4"})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{children:"Source Path"}),t.jsx(Re,{placeholder:"e.g., property[0].address.oneLine",value:A.sourcePath,onChange:R=>O(A.id,{sourcePath:R.target.value})})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{children:"Data Type"}),t.jsxs(Ur,{value:A.dataType,onValueChange:R=>O(A.id,{dataType:R}),children:[t.jsx(Vr,{children:t.jsx(Br,{})}),t.jsxs(Wr,{children:[t.jsx(bs,{value:"string",children:"String"}),t.jsx(bs,{value:"number",children:"Number"}),t.jsx(bs,{value:"boolean",children:"Boolean"}),t.jsx(bs,{value:"date",children:"Date"}),t.jsx(bs,{value:"array",children:"Array"})]})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx(X,{children:"Transform Function (Optional)"}),t.jsx(Re,{placeholder:"e.g., value => value.toUpperCase()",value:A.transformFunction||"",onChange:R=>O(A.id,{transformFunction:R.target.value})})]})]})]},A.id))})})]})]}),t.jsx(ke,{value:"preview",className:"space-y-6",children:t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Ht,{className:"w-5 h-5 text-primary"}),"Live Preview"]})}),t.jsxs(U,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx(X,{children:"Test Address"}),t.jsx(Re,{value:j,onChange:A=>v(A.target.value),placeholder:"Enter property address for testing"})]}),t.jsxs($,{onClick:I,disabled:o||!j,children:[o?t.jsx(Ye,{className:"w-4 h-4 animate-spin"}):t.jsx(Ht,{className:"w-4 h-4"}),"Test Mappings"]})]}),b&&t.jsxs("div",{className:"border rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium mb-4",children:"Mapped Property Data Preview"}),t.jsx(RN,{propertyAddress:j,customMappings:r})]})]})]})}),t.jsx(ke,{value:"endpoints",className:"space-y-6",children:t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:a.map(A=>t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Ds,{className:"w-5 h-5 text-primary"}),A.name]})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(X,{children:"Endpoint Path"}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx("code",{className:"flex-1 p-2 bg-muted rounded text-sm",children:A.path}),t.jsx($,{size:"sm",variant:"ghost",onClick:()=>navigator.clipboard.writeText(A.path),children:t.jsx(ht,{className:"w-4 h-4"})})]})]}),t.jsxs("div",{children:[t.jsx(X,{children:"Available Fields"}),t.jsx(ja,{className:"h-48 mt-2 border rounded",children:t.jsx("div",{className:"p-2 space-y-1",children:A.fields.map((R,M)=>t.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-muted rounded text-sm",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-mono",children:R.path}),t.jsx("div",{className:"text-xs text-muted-foreground",children:R.description})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(K,{variant:"outline",className:"text-xs",children:R.type}),t.jsx($,{size:"sm",variant:"ghost",onClick:()=>navigator.clipboard.writeText(R.path),children:t.jsx(ht,{className:"w-3 h-3"})})]})]},M))})})]})]})})]},A.id))})})]})]})})}function iD(){const[e,s]=m.useState([{name:"ATTOM API",key:"ATTOM_API_KEY",isConfigured:!1,isValid:null,error:null,lastTested:null,maskedKey:""},{name:"Google Places API",key:"GOOGLE_PLACES_API_KEY",isConfigured:!1,isValid:null,error:null,lastTested:null,maskedKey:""}]),[r,n]=m.useState(!1),[a,i]=m.useState(null),[o,l]=m.useState({});m.useState(""),m.useEffect(()=>{c()},[]);const c=async()=>{n(!0);try{const j=await fetch(`https://${De}.supabase.co/functions/v1/make-server-a24396d5/api-key-status`,{method:"GET",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"}});if(j.ok){const v=await j.json();s(b=>b.map(g=>{var y,x,S;return{...g,isConfigured:((y=v[g.key])==null?void 0:y.configured)||!1,maskedKey:((x=v[g.key])==null?void 0:x.masked)||"",error:((S=v[g.key])==null?void 0:S.error)||null}}))}else qe.error("Failed to check API key status")}catch(j){console.error("Error checking API key status:",j),qe.error("Error checking API key status")}finally{n(!1)}},d=async j=>{i(j);try{let v="",b={};j==="ATTOM_API_KEY"?(v="test-attom-api",b={address:"123 Main St, Los Angeles, CA 90210"}):j==="GOOGLE_PLACES_API_KEY"&&(v="test-places-api",b={query:"Los Angeles, CA"});const g=await fetch(`https://${De}.supabase.co/functions/v1/make-server-a24396d5/${v}`,{method:"POST",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"},body:JSON.stringify(b)}),y=await g.json(),x=g.ok&&y.success;s(S=>S.map(w=>w.key===j?{...w,isValid:x,error:x?null:y.error||"Test failed",lastTested:new Date}:w)),x?qe.success(`${j} test successful!`):qe.error(`${j} test failed: ${y.error||"Unknown error"}`)}catch(v){console.error(`Error testing ${j}:`,v),s(b=>b.map(g=>g.key===j?{...g,isValid:!1,error:"Network error during test",lastTested:new Date}:g)),qe.error(`Error testing ${j}`)}finally{i(null)}},u=j=>{navigator.clipboard.writeText(j),qe.success("Copied to clipboard")},f=j=>{l(v=>({...v,[j]:!v[j]}))},p=j=>j.isConfigured?j.isValid===!0?t.jsx(hr,{className:"w-5 h-5 text-green-500"}):j.isValid===!1?t.jsx(Ze,{className:"w-5 h-5 text-red-500"}):t.jsx(ze,{className:"w-5 h-5 text-yellow-500"}):t.jsx(Ze,{className:"w-5 h-5 text-red-500"}),h=j=>j.isConfigured?j.isValid===!0?t.jsx(K,{variant:"default",className:"bg-green-100 text-green-800",children:"Valid"}):j.isValid===!1?t.jsx(K,{variant:"destructive",children:"Invalid"}):t.jsx(K,{variant:"secondary",children:"Untested"}):t.jsx(K,{variant:"destructive",children:"Not Configured"});return t.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"API Key Manager"}),t.jsx("p",{className:"text-muted-foreground",children:"Configure and validate your API keys"})]}),t.jsxs($,{onClick:c,disabled:r,variant:"outline",children:[t.jsx(Ye,{className:`w-4 h-4 mr-2 ${r?"animate-spin":""}`}),"Refresh Status"]})]}),t.jsxs(Hs,{defaultValue:"status",className:"space-y-6",children:[t.jsxs(qs,{className:"grid w-full grid-cols-3",children:[t.jsxs(Se,{value:"status",children:[t.jsx(Sr,{className:"w-4 h-4 mr-2"}),"Status & Testing"]}),t.jsxs(Se,{value:"setup",children:[t.jsx(Di,{className:"w-4 h-4 mr-2"}),"Setup Guide"]}),t.jsxs(Se,{value:"troubleshoot",children:[t.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Troubleshoot"]})]}),t.jsx(ke,{value:"status",className:"space-y-4",children:t.jsx("div",{className:"grid gap-4",children:e.map(j=>t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[p(j),t.jsx("span",{children:j.name}),h(j)]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs($,{onClick:()=>d(j.key),disabled:!j.isConfigured||a===j.key,size:"sm",variant:"outline",children:[a===j.key?t.jsx(Ye,{className:"w-4 h-4 animate-spin"}):t.jsx(Ts,{className:"w-4 h-4"}),"Test"]})})]})}),t.jsx(U,{className:"space-y-4",children:j.isConfigured?t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-medium",children:"API Key:"}),t.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:o[j.key]?j.maskedKey:""}),t.jsx($,{onClick:()=>f(j.key),size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:o[j.key]?t.jsx(Oa,{className:"w-3 h-3"}):t.jsx(Ht,{className:"w-3 h-3"})}),t.jsx($,{onClick:()=>u(j.maskedKey),size:"sm",variant:"ghost",className:"h-6 w-6 p-0",children:t.jsx(ht,{className:"w-3 h-3"})})]}),j.lastTested&&t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Last tested: ",j.lastTested.toLocaleString()]}),j.error&&t.jsxs(ce,{children:[t.jsx(ze,{className:"h-4 w-4"}),t.jsx(de,{children:j.error})]})]}):t.jsxs(ce,{children:[t.jsx(cs,{className:"h-4 w-4"}),t.jsxs(de,{children:["API key not configured. Please add ",j.key," to your Supabase environment variables."]})]})})]},j.key))})}),t.jsx(ke,{value:"setup",className:"space-y-4",children:t.jsxs(F,{children:[t.jsx(q,{children:t.jsx(Y,{children:"API Key Setup Instructions"})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs(F,{children:[t.jsx(q,{children:t.jsx(Y,{className:"text-lg",children:"ATTOM API"})}),t.jsxs(U,{className:"space-y-3",children:[t.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm",children:[t.jsxs("li",{children:["Visit ",t.jsxs("a",{href:"https://developer.attomdata.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline inline-flex items-center gap-1",children:["ATTOM Developer Portal ",t.jsx(yr,{className:"w-3 h-3"})]})]}),t.jsx("li",{children:"Sign up or log in to your account"}),t.jsx("li",{children:"Choose a subscription plan (free trial available)"}),t.jsx("li",{children:'Navigate to "API Keys" section'}),t.jsx("li",{children:"Generate a new API key"}),t.jsx("li",{children:"Copy the API key"})]}),t.jsxs(ce,{children:[t.jsx(ze,{className:"h-4 w-4"}),t.jsx(de,{children:"Free trial includes limited requests. Production use requires a paid subscription."})]})]})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsx(Y,{className:"text-lg",children:"Google Places API"})}),t.jsxs(U,{className:"space-y-3",children:[t.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm",children:[t.jsxs("li",{children:["Visit ",t.jsxs("a",{href:"https://console.cloud.google.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline inline-flex items-center gap-1",children:["Google Cloud Console ",t.jsx(yr,{className:"w-3 h-3"})]})]}),t.jsx("li",{children:"Create new project or select existing"}),t.jsx("li",{children:'Enable "Places API (New)" in API Library'}),t.jsx("li",{children:"Go to Credentials and create API key"}),t.jsx("li",{children:"Set up billing (required)"}),t.jsx("li",{children:"Restrict API key to Places API"}),t.jsx("li",{children:"Copy the API key"})]}),t.jsxs(ce,{children:[t.jsx(ze,{className:"h-4 w-4"}),t.jsx(de,{children:"Billing setup is required even for free tier usage."})]})]})]})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsx(Y,{className:"text-lg",children:"Adding to Supabase"})}),t.jsxs(U,{className:"space-y-3",children:[t.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm",children:[t.jsx("li",{children:"Go to your Supabase project dashboard"}),t.jsx("li",{children:"Navigate to Settings  Environment Variables"}),t.jsx("li",{children:"Add the following variables:"})]}),t.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("code",{className:"text-sm",children:"ATTOM_API_KEY=your-attom-api-key-here"}),t.jsx($,{onClick:()=>u("ATTOM_API_KEY"),size:"sm",variant:"ghost",children:t.jsx(ht,{className:"w-3 h-3"})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("code",{className:"text-sm",children:"GOOGLE_PLACES_API_KEY=your-google-places-api-key-here"}),t.jsx($,{onClick:()=>u("GOOGLE_PLACES_API_KEY"),size:"sm",variant:"ghost",children:t.jsx(ht,{className:"w-3 h-3"})})]})]}),t.jsxs("ol",{start:4,className:"list-decimal list-inside space-y-2 text-sm",children:[t.jsx("li",{children:"Save the environment variables"}),t.jsx("li",{children:"Restart your edge functions if needed"}),t.jsx("li",{children:"Test the API keys using the Status & Testing tab"})]})]})]})]})})]})}),t.jsx(ke,{value:"troubleshoot",className:"space-y-4",children:t.jsxs(F,{children:[t.jsx(q,{children:t.jsx(Y,{children:"Common Issues & Solutions"})}),t.jsxs(U,{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-semibold",children:"ATTOM API Issues"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(ce,{children:[t.jsx(Ze,{className:"h-4 w-4"}),t.jsxs(de,{children:[t.jsx("strong",{children:"401 Unauthorized:"})," API key is invalid, expired, or not properly configured. Check your ATTOM developer account and ensure the API key is active."]})]}),t.jsxs(ce,{children:[t.jsx(ze,{className:"h-4 w-4"}),t.jsxs(de,{children:[t.jsx("strong",{children:"Quota Exceeded:"})," You've reached your API usage limits. Upgrade your plan or wait for the quota to reset."]})]}),t.jsxs(ce,{children:[t.jsx(ze,{className:"h-4 w-4"}),t.jsxs(de,{children:[t.jsx("strong",{children:"Subscription Required:"})," Some endpoints require a paid subscription. Free trial has limited access."]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-semibold",children:"Google Places API Issues"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(ce,{children:[t.jsx(Ze,{className:"h-4 w-4"}),t.jsxs(de,{children:[t.jsx("strong",{children:"REQUEST_DENIED:"})," API key is invalid or Places API is not enabled. Check your Google Cloud Console settings."]})]}),t.jsxs(ce,{children:[t.jsx(ze,{className:"h-4 w-4"}),t.jsxs(de,{children:[t.jsx("strong",{children:"Billing Required:"})," Google Places API requires billing setup even for free tier usage. Set up billing in Google Cloud Console."]})]}),t.jsxs(ce,{children:[t.jsx(ze,{className:"h-4 w-4"}),t.jsxs(de,{children:[t.jsx("strong",{children:"API Restrictions:"})," Ensure your API key is not restricted to specific IPs or domains that would block server requests."]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-semibold",children:"General Troubleshooting"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(ce,{children:[t.jsx(ze,{className:"h-4 w-4"}),t.jsxs(de,{children:[t.jsx("strong",{children:"Environment Variables:"})," Ensure API keys are properly set in Supabase environment variables with correct names."]})]}),t.jsxs(ce,{children:[t.jsx(ze,{className:"h-4 w-4"}),t.jsxs(de,{children:[t.jsx("strong",{children:"Edge Function Restart:"})," After updating environment variables, restart your edge functions or redeploy."]})]}),t.jsxs(ce,{children:[t.jsx(ze,{className:"h-4 w-4"}),t.jsxs(de,{children:[t.jsx("strong",{children:"Network Issues:"})," Check if your server can make outbound HTTPS requests to external APIs."]})]})]})]})]})]})})]})]})}function oD({authData:e,setAuthData:s,onRunTests:r,onClearTests:n,isRunning:a}){return t.jsxs(F,{children:[t.jsxs(q,{children:[t.jsx(Y,{children:"Supabase Authentication Test Suite"}),t.jsx(Ie,{children:"Test the complete authentication flow including user registration, login, and data storage."})]}),t.jsxs(U,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx(X,{htmlFor:"email",children:"Test Email"}),t.jsx(Re,{id:"email",type:"email",value:e.email,onChange:i=>s(o=>({...o,email:i.target.value})),disabled:a})]}),t.jsxs("div",{children:[t.jsx(X,{htmlFor:"password",children:"Test Password"}),t.jsx(Re,{id:"password",type:"password",value:e.password,onChange:i=>s(o=>({...o,password:i.target.value})),disabled:a})]}),t.jsxs("div",{children:[t.jsx(X,{htmlFor:"fullName",children:"Full Name"}),t.jsx(Re,{id:"fullName",value:e.fullName,onChange:i=>s(o=>({...o,fullName:i.target.value})),disabled:a})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx($,{onClick:r,disabled:a,children:a?t.jsxs(t.Fragment,{children:[t.jsx(ft,{className:"mr-2 h-4 w-4 animate-spin"}),"Running Tests..."]}):"Run Full Test Suite"}),t.jsx($,{variant:"outline",onClick:n,disabled:a,children:"Clear Results"})]})]})]})}function lD({testResults:e}){const s=o=>{switch(o){case"pending":return t.jsx(ft,{className:"h-4 w-4 animate-spin text-blue-500"});case"success":return t.jsx(be,{className:"h-4 w-4 text-green-500"});case"error":return t.jsx(Ze,{className:"h-4 w-4 text-red-500"})}},r=o=>{switch(o){case"pending":return"bg-blue-50 border-blue-200";case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200"}},n=e.filter(o=>o.status==="success").length,a=e.filter(o=>o.status==="error").length,i=e.filter(o=>o.status==="pending").length;return e.length===0?null:t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"space-y-2",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(K,{variant:"outline",className:"text-green-700 border-green-300",children:[" ",n," Passed"]}),t.jsxs(K,{variant:"outline",className:"text-red-700 border-red-300",children:[" ",a," Failed"]}),i>0&&t.jsxs(K,{variant:"outline",className:"text-blue-700 border-blue-300",children:[" ",i," Running"]})]})}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsx(Y,{children:"Test Results"})}),t.jsx(U,{className:"space-y-3",children:e.map((o,l)=>t.jsxs("div",{className:`p-3 rounded-lg border ${r(o.status)}`,children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s(o.status),t.jsxs("span",{className:"font-medium capitalize",children:[o.test.replace("-"," ")," Test"]})]}),t.jsx("p",{className:"text-sm text-gray-700 mb-2",children:o.message}),o.data&&t.jsxs("details",{className:"text-xs",children:[t.jsx("summary",{className:"cursor-pointer text-blue-600 hover:text-blue-800",children:"View Details"}),t.jsx("pre",{className:"mt-2 p-2 bg-gray-100 rounded overflow-auto max-h-32",children:JSON.stringify(o.data,null,2)})]})]},l))})]})]})}function cD({sessionData:e}){var s;return e?t.jsxs(F,{children:[t.jsx(q,{children:t.jsx(Y,{children:"Current Session"})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{children:[t.jsx(X,{children:"User Profile:"}),t.jsx("pre",{className:"mt-1 p-2 bg-gray-100 rounded text-xs overflow-auto",children:JSON.stringify(e.profile,null,2)})]}),e.session&&t.jsxs("div",{children:[t.jsx(X,{children:"Session Info:"}),t.jsx("pre",{className:"mt-1 p-2 bg-gray-100 rounded text-xs overflow-auto max-h-32",children:JSON.stringify({access_token:e.session.access_token?"Present":"Missing",refresh_token:e.session.refresh_token?"Present":"Missing",expires_at:e.session.expires_at,user_id:(s=e.session.user)==null?void 0:s.id},null,2)})]})]})})]}):null}const ka={SESSION_STORAGE_KEY:"handoff_auth_session",AUTH_MODE_KEY:"handoff_auth_mode",GUEST_PROFILE_KEY:"handoff_guest_profile",GUEST_SETUP_KEY:"handoff_guest_setupData",DEMO_PROFILE_KEY:"handoff_demo_profile",DEMO_SETUP_KEY:"handoff_demo_setupData",OFFLINE_PROFILE_KEY:"handoff_offline_profile",OFFLINE_SETUP_KEY:"handoff_offline_setupData",QUESTIONNAIRE_COMPLETE_KEY:"handoff-questionnaire-complete",QUESTIONNAIRE_RESPONSES_KEY:"handoff-questionnaire-responses",INITIAL_SETUP_COMPLETE_KEY:"handoff-initial-setup-complete",SCREENING_DATA_KEY:"handoff-screening-data",INITIAL_SETUP_DATA_KEY:"handoff-initial-setup-data"},dD={REQUEST_TIMEOUT:15e3,SESSION_MAX_AGE:24*60*60*1e3},Hp={MIN_PASSWORD_LENGTH:6,MIN_NAME_LENGTH:2,EMAIL_REGEX:/^[^\s@]+@[^\s@]+\.[^\s@]+$/},Mo={INVALID_EMAIL:"Please enter a valid email address.",INVALID_PASSWORD:"Password must be at least 6 characters long.",INVALID_NAME:"Please enter your full name (at least 2 characters).",MISSING_CREDENTIALS:"Please provide both email and name.",MISSING_PASSWORD:"Please provide a password.",NETWORK_UNAVAILABLE:` Authentication service temporarily unavailable

You can:
 Continue as Guest to explore the app
 Visit ?diagnostic=true to troubleshoot connection issues
 Try again in a few moments

Choose your preferred option below:`};async function $y(e){let s="";try{if(s=await e.text(),console.log("Raw response text (first 300 chars):",s.substring(0,300)),!s.trim())return console.warn("Empty response received, returning empty object"),{};const r=s.trim();let n=r,a=-1,i=-1;const o=r.indexOf("{"),l=r.indexOf("[");if(o>=0&&(l<0||o<l)){a=o;let c=0;for(let d=o;d<r.length;d++)if(r[d]==="{"&&c++,r[d]==="}"&&c--,c===0){i=d;break}}else if(l>=0){a=l;let c=0;for(let d=l;d<r.length;d++)if(r[d]==="["&&c++,r[d]==="]"&&c--,c===0){i=d;break}}if(a>=0&&i>=0)n=r.substring(a,i+1),a>0&&console.warn(`Extracted JSON from position ${a} to ${i}, discarded prefix:`,r.substring(0,a));else if(!r.startsWith("{")&&!r.startsWith("["))throw console.error("No valid JSON found in response:",r.substring(0,100)),new Error(`Server returned non-JSON response: ${r.substring(0,50)}...`);return console.log("Parsing JSON text (first 200 chars):",n.substring(0,200)),JSON.parse(n)}catch(r){throw console.error("JSON parsing error:",{error:r instanceof Error?r.message:r,responseText:s.substring(0,500),responseStatus:e.status,responseStatusText:e.statusText,contentType:e.headers.get("content-type"),responseHeaders:Object.fromEntries(e.headers.entries())}),r instanceof Error&&r.message.includes("position")?new Error("Server response contains malformed JSON. This may be a temporary server issue - please try again."):new Error("Invalid server response format - please try again or contact support if the issue persists")}}async function On(e,s={}){if(localStorage.getItem("handoff_server_offline")==="true"&&!e.includes("health"))throw new Error("Server not available. This is normal for development without deployed Supabase Edge Functions.");const n=new AbortController,a=setTimeout(()=>n.abort(),dD.REQUEST_TIMEOUT),i=`https://${De}.supabase.co/functions/v1/make-server-a24396d5/${e}`;try{console.log(`Making request to: ${s.method||"GET"} ${i}`),e.includes("health")&&(console.log("Request headers:",s.headers),s.body&&console.log("Request body (first 200 chars):",typeof s.body=="string"?s.body.substring(0,200):s.body));const o=await fetch(i,{...s,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:`Bearer ${Te}`,"Cache-Control":"no-cache",...s.headers},signal:n.signal});if(clearTimeout(a),localStorage.removeItem("handoff_server_offline"),console.log(`Response received: ${o.status} ${o.statusText}`),e.includes("health")&&(console.log(`Content-Type: ${o.headers.get("content-type")}`),console.log(`Content-Length: ${o.headers.get("content-length")}`),console.log("Response headers:",Object.fromEntries(o.headers.entries()))),!o.ok){let c;try{c=await $y(o),console.log("Parsed error data:",c)}catch(u){console.error("Failed to parse error response as JSON:",u);const f=await o.text().catch(()=>"Unable to read response text");throw console.error("Raw error response:",f.substring(0,500)),new Error(`Request failed with status ${o.status}: ${o.statusText}`)}const d=c.error||c.message||`Request failed with status ${o.status}`;throw console.error("Server returned error:",c),new Error(d)}const l=await $y(o);return console.log("Successfully parsed response:",typeof l,Object.keys(l||{})),l}catch(o){if(clearTimeout(a),o instanceof Error&&(o.message==="Failed to fetch"||o.name==="AbortError"||o.message.includes("NetworkError")||o.message.includes("TypeError"))&&localStorage.setItem("handoff_server_offline","true"),o instanceof Error&&o.name==="AbortError")throw new Error("Request timed out. Server may not be deployed or is taking too long to respond.");if(e.includes("health")&&console.log("Health check failed (this is normal for development):",{endpoint:e,error:o instanceof Error?o.message:o,method:s.method||"GET"}),o instanceof Error){if(o.message==="Failed to fetch"){const l=new Error("Server not available. This is normal for development without deployed Supabase Edge Functions.");throw l.name="ServerUnavailableError",l}if(o.name==="AbortError"){const l=new Error("Request timed out. Server may not be deployed or is taking too long to respond.");throw l.name="TimeoutError",l}}throw o}}function uD(){const[e,s]=m.useState([]),[r,n]=m.useState(!1),[a,i]=m.useState(null),o=(v,b,g,y)=>{s(x=>{const S=x.find(k=>k.test===v),w={test:v,status:b,message:g,data:y};return S?x.map(k=>k.test===v?w:k):[...x,w]})},l=async()=>{o("health","pending","Checking server health..."),localStorage.removeItem("handoff_server_offline");try{const v=await On("health");return o("health","success","Server is healthy",v),!0}catch(v){const b=v instanceof Error?v.message:"Unknown error";return b.includes("Server not available")||b.includes("Failed to fetch")?o("health","error","Server not available (normal for development without deployed Edge Functions)"):o("health","error",`Health check failed: ${b}`),!1}},c=async()=>{o("user-health","pending","Checking user service health...");try{const v=await On("user/health");return o("user-health","success","User service is healthy",v),!0}catch(v){const b=v instanceof Error?v.message:"Unknown error";return b.includes("Server not available")||b.includes("Failed to fetch")?o("user-health","error","User service not available (normal for development without deployed Edge Functions)"):o("user-health","error",`User service health check failed: ${b}`),!1}},d=async v=>{o("signup","pending","Testing user sign up...");try{const b=await On("user/auth/signup",{method:"POST",body:JSON.stringify({email:v.email,password:v.password,fullName:v.fullName})});return b.success?(o("signup","success","User sign up successful",b),i({profile:b.profile,session:b.session}),b):(o("signup","error",b.error||"Sign up failed"),null)}catch(b){const g=b instanceof Error?b.message:"Unknown error";return g.includes("already exists")?(o("signup","error","User already exists - this is expected for repeated tests"),null):(o("signup","error",`Sign up failed: ${g}`),null)}},u=async v=>{o("signin","pending","Testing user sign in...");try{const b=await On("user/auth/signin",{method:"POST",body:JSON.stringify({email:v.email,password:v.password})});return b.success?(o("signin","success","User sign in successful",b),i({profile:b.profile,session:b.session}),b):(o("signin","error",b.error||"Sign in failed"),null)}catch(b){return o("signin","error",`Sign in failed: ${b instanceof Error?b.message:"Unknown error"}`),null}},f=async(v,b)=>{o("profile","pending","Testing profile retrieval...");try{const g={};v&&(g["X-User-ID"]=v),b&&(g.Authorization=`Bearer ${b}`);const y=await On("user/profile",{method:"GET",headers:g});return y.success?(o("profile","success","Profile retrieval successful",y),y):(o("profile","error",y.error||"Profile retrieval failed"),null)}catch(g){return o("profile","error",`Profile retrieval failed: ${g instanceof Error?g.message:"Unknown error"}`),null}},p=async v=>{o("verify","pending","Testing session verification...");try{const b=await On("user/verify",{method:"GET",headers:{Authorization:`Bearer ${v||Te}`}});return b.success?(o("verify","success","Session verification successful",b),b):(o("verify","error",b.error||"Session verification failed"),null)}catch(b){return o("verify","error",`Session verification failed: ${b instanceof Error?b.message:"Unknown error"}`),null}};return{testResults:e,isRunning:r,currentUserSession:a,runFullTest:async v=>{var b,g;n(!0),s([]),i(null);try{if(!await l()){n(!1);return}if(!await c()){n(!1);return}const S=await u(v);let w=S;S||(w=await d(v)),w&&w.profile&&(await f(w.profile.id,(b=w.session)==null?void 0:b.access_token),(g=w.session)!=null&&g.access_token&&await p(w.session.access_token))}catch(y){console.error("Test suite error:",y),o("general","error",`Test suite error: ${y instanceof Error?y.message:"Unknown error"}`)}finally{n(!1)}},clearTests:()=>{s([]),i(null)}}}function mD(){const[e,s]=m.useState({email:"test@handoff.demo",password:"testpassword123",fullName:"Test User"}),{testResults:r,isRunning:n,currentUserSession:a,runFullTest:i,clearTests:o}=uD(),l=()=>{i(e)};return t.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[t.jsx(oD,{authData:e,setAuthData:s,onRunTests:l,onClearTests:o,isRunning:n}),t.jsx(lD,{testResults:r}),t.jsx(cD,{sessionData:a}),t.jsxs(ce,{children:[t.jsx(it,{className:"h-4 w-4"}),t.jsx(de,{children:"This test suite validates that Supabase authentication is working correctly. It tests sign up, sign in, profile management, and session verification. The same test email can be used multiple times - sign up will fail but sign in should work."})]})]})}function hD(){const[e,s]=m.useState(null),[r,n]=m.useState(null),[a,i]=m.useState(""),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[u,f]=m.useState(!1),p=async()=>{d(!0);try{const g=await(await fetch(`https://${De}.supabase.co/functions/v1/make-server-a24396d5/attom-key-updater/test-current-key`,{method:"GET",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"}})).json();n(g)}catch(b){n({success:!1,hasKey:!1,keyLength:0,message:`Error testing current key: ${b instanceof Error?b.message:"Unknown error"}`})}finally{d(!1)}},h=async()=>{try{const g=await(await fetch(`https://${De}.supabase.co/functions/v1/make-server-a24396d5/attom-key-updater/key-info`,{method:"GET",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"}})).json();s(g)}catch(b){console.error("Error getting key info:",b)}},j=async()=>{if(!a.trim()){n({success:!1,hasKey:!1,keyLength:0,message:"Please enter an API key to test"});return}f(!0);try{const g=await(await fetch(`https://${De}.supabase.co/functions/v1/make-server-a24396d5/attom-key-updater/test-new-key`,{method:"POST",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"},body:JSON.stringify({apiKey:a})})).json();n(g)}catch(b){n({success:!1,hasKey:!1,keyLength:0,message:`Error testing new key: ${b instanceof Error?b.message:"Unknown error"}`})}finally{f(!1)}},v=b=>{navigator.clipboard.writeText(b).then(()=>{console.log("API key copied to clipboard")}).catch(g=>{console.error("Failed to copy API key:",g)})};return m.useEffect(()=>{h(),p()},[]),t.jsxs("div",{className:"space-y-6",children:[t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(cs,{className:"w-5 h-5 text-primary"}),"ATTOM API Key Configuration"]})}),t.jsx(U,{children:t.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure and test your ATTOM Data API key. This key is required for property data fetching."})})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Sr,{className:"w-5 h-5"}),"Current API Key Status",t.jsx($,{onClick:p,disabled:c,size:"sm",variant:"outline",children:c?t.jsx(Ye,{className:"w-4 h-4 animate-spin"}):t.jsx(Ye,{className:"w-4 h-4"})})]})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-4",children:[e&&t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-medium",children:"Key Present:"}),e.hasKey?t.jsxs(K,{variant:"default",className:"flex items-center gap-1",children:[t.jsx(be,{className:"w-3 h-3"}),"Yes"]}):t.jsxs(K,{variant:"destructive",className:"flex items-center gap-1",children:[t.jsx(Ze,{className:"w-3 h-3"}),"No"]})]}),e.hasKey&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-medium",children:"Length:"}),t.jsxs("span",{className:"text-sm",children:[e.keyLength," characters"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-medium",children:"Preview:"}),t.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:e.keyPreview||"N/A"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-medium",children:"Estimated Tier:"}),t.jsx(K,{variant:"secondary",children:e.estimatedTier||"Unknown"})]})]})]})}),r&&t.jsxs(ce,{className:r.success?"border-green-200 bg-green-50":"border-red-200 bg-red-50",children:[r.success?t.jsx(be,{className:"w-4 h-4 text-green-600"}):t.jsx(Ze,{className:"w-4 h-4 text-red-600"}),t.jsx(de,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:r.success?"text-green-800":"text-red-800",children:r.message}),r.testResult&&t.jsxs("div",{className:"text-xs space-y-1",children:[t.jsxs("p",{children:["Status: ",r.testResult.status," ",r.testResult.statusText]}),r.testResult.hasData!==void 0&&t.jsxs("p",{children:["Has Data: ",r.testResult.hasData?"Yes":"No"]})]}),r.recommendation&&t.jsxs("p",{className:"text-xs font-medium mt-2",children:[" ",r.recommendation]})]})})]})]})})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(cs,{className:"w-5 h-5"}),"Test New API Key"]})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Re,{type:o?"text":"password",value:a,onChange:b=>i(b.target.value),placeholder:"Enter your ATTOM API key here...",className:"pr-20"}),t.jsxs("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex gap-1",children:[t.jsx($,{type:"button",variant:"ghost",size:"sm",onClick:()=>l(!o),className:"p-1 h-auto",children:o?t.jsx(Oa,{className:"w-4 h-4"}):t.jsx(Ht,{className:"w-4 h-4"})}),a&&t.jsx($,{type:"button",variant:"ghost",size:"sm",onClick:()=>v(a),className:"p-1 h-auto",children:t.jsx(ht,{className:"w-4 h-4"})})]})]}),t.jsx($,{onClick:j,disabled:u||!a.trim(),children:u?t.jsxs(t.Fragment,{children:[t.jsx(Ye,{className:"w-4 h-4 mr-2 animate-spin"}),"Testing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(be,{className:"w-4 h-4 mr-2"}),"Test Key"]})})]}),t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx($,{onClick:()=>i("cca24467d5861c7e58a2bc7c9cc926af"),variant:"outline",size:"sm",children:"Use Provided Key"}),t.jsx("span",{className:"text-xs text-muted-foreground",children:"Fill with the API key provided in the conversation"})]})]})})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(it,{className:"w-5 h-5"}),"Configuration Instructions"]})}),t.jsx(U,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs(ce,{children:[t.jsx(it,{className:"w-4 h-4"}),t.jsx(de,{children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"font-medium",children:"To configure your ATTOM API key:"}),t.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[t.jsx("li",{children:"Test your API key using the form above"}),t.jsx("li",{children:"Go to your Supabase project dashboard"}),t.jsx("li",{children:"Navigate to Settings  Edge Functions  Environment Variables"}),t.jsxs("li",{children:["Add/update the environment variable: ",t.jsx("code",{className:"bg-muted px-1",children:"ATTOM_API_KEY"})]}),t.jsx("li",{children:"Set the value to your working API key"}),t.jsxs("li",{children:["Redeploy your edge functions: ",t.jsx("code",{className:"bg-muted px-1",children:"supabase functions deploy --no-verify-jwt"})]}),t.jsx("li",{children:'Test the configuration using the "Test Current Key" button above'})]})]})})]}),t.jsxs(ce,{children:[t.jsx(cs,{className:"w-4 h-4"}),t.jsx(de,{children:t.jsxs("p",{className:"text-sm",children:[t.jsx("strong",{children:"Security Note:"})," Never expose API keys in client-side code or commit them to version control. Always use environment variables for sensitive credentials."]})})]})]})})]})]})}function Q1({onNavigate:e}){const s=ms(),[r,n]=m.useState("unknown"),[a,i]=m.useState("overview"),o=async()=>{n("checking");try{(await fetch("/api/health")).ok?n("available"):n("unavailable")}catch{n("unavailable")}},l=[{id:"address-demo",title:"Address Validation Demo",description:"Test Google Places API integration and address autocomplete",icon:t.jsx(kt,{className:"w-5 h-5"}),color:"bg-blue-100 text-blue-800 border-blue-200"},{id:"mls-demo",title:"MLS Integration Demo",description:"Test MLS property lookup and data integration",icon:t.jsx(Ds,{className:"w-5 h-5"}),color:"bg-green-100 text-green-800 border-green-200"},{id:"attom-api-config",title:"ATTOM API Configuration",description:"Comprehensive tool for configuring and testing ATTOM Data API",icon:t.jsx(cs,{className:"w-5 h-5"}),color:"bg-purple-100 text-purple-800 border-purple-200",external:!0,url:"?attom-api-config=true"}],c=[{name:"Health Check",endpoint:"/api/health",method:"GET",description:"Test server connectivity"},{name:"MLS Search by Address",endpoint:"/api/mls/search-by-address",method:"GET",description:"Search MLS by property address"},{name:"MLS Search by MLS Number",endpoint:"/api/mls/search-by-mls",method:"GET",description:"Search MLS by listing number"}];return t.jsxs("div",{className:`max-w-4xl mx-auto space-y-6 ${s?"page-content-mobile":"page-content"}`,children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(jl,{className:"w-6 h-6 text-primary"}),t.jsx("h1",{className:`${s?"text-2xl":"text-3xl"} font-semibold`,children:"Development Tools"}),t.jsx(K,{variant:"outline",className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:"Dev Mode"})]}),t.jsx("p",{className:"text-muted-foreground",children:"Testing utilities and demo pages for development and integration testing."})]}),t.jsxs("div",{className:"flex gap-2 border-b",children:[t.jsxs($,{variant:a==="overview"?"default":"ghost",size:"sm",onClick:()=>i("overview"),className:"rounded-b-none",children:[t.jsx(Ht,{className:"w-4 h-4 mr-2"}),"Overview"]}),t.jsxs($,{variant:a==="auth-test"?"default":"ghost",size:"sm",onClick:()=>i("auth-test"),className:"rounded-b-none",children:[t.jsx(us,{className:"w-4 h-4 mr-2"}),"Auth Test"]}),t.jsxs($,{variant:a==="attom-config"?"default":"ghost",size:"sm",onClick:()=>i("attom-config"),className:"rounded-b-none",children:[t.jsx(cs,{className:"w-4 h-4 mr-2"}),"ATTOM API"]})]})]}),a==="auth-test"?t.jsx(mD,{}):a==="attom-config"?t.jsx(hD,{}):t.jsxs(t.Fragment,{children:[t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Ht,{className:"w-5 h-5"}),"Demo Pages"]})}),t.jsx(U,{children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map(d=>t.jsxs("div",{className:"p-4 border rounded-lg hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[t.jsx("div",{className:`p-2 rounded-lg ${d.color}`,children:d.icon}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-medium",children:d.title}),t.jsx("p",{className:"text-sm text-muted-foreground",children:d.description})]})]}),t.jsxs($,{onClick:()=>{d.external&&d.url?window.location.href=d.url:e==null||e(d.id)},className:"w-full",variant:"outline",children:[t.jsx(yr,{className:"w-4 h-4 mr-2"}),d.external?"Open Tool":"Open Demo"]})]},d.id))})})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Ds,{className:"w-5 h-5"}),"API Testing"]})}),t.jsxs(U,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-medium",children:"Server Status"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Test backend connectivity"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(K,{variant:r==="available"?"default":r==="unavailable"?"destructive":"secondary",children:r==="checking"?"Checking...":r==="available"?"Available":r==="unavailable"?"Unavailable":"Unknown"}),t.jsx($,{onClick:o,size:"sm",variant:"outline",children:"Test API"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h4",{className:"font-medium",children:"Available Endpoints"}),c.map((d,u)=>t.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"font-mono text-sm",children:d.endpoint}),t.jsx(K,{variant:"outline",className:"text-xs",children:d.method})]}),t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("p",{className:"text-xs text-muted-foreground",children:d.description})})]},u))]})]})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsxs(Y,{className:"flex items-center gap-2",children:[t.jsx(Sr,{className:"w-5 h-5"}),"Environment Information"]})}),t.jsx(U,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"font-medium",children:"Required Environment Variables"}),t.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[t.jsxs("li",{children:[" ",t.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"ATTOM_API_KEY"})]}),t.jsxs("li",{children:[" ",t.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"GOOGLE_PLACES_API_KEY"})]}),t.jsxs("li",{children:[" ",t.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"MLS_API_KEY"})]}),t.jsxs("li",{children:[" ",t.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"MLS_API_BASE_URL"})]}),t.jsxs("li",{children:[" ",t.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"SUPABASE_URL"})]}),t.jsxs("li",{children:[" ",t.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"SUPABASE_ANON_KEY"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"font-medium",children:"Integration Status"}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{children:"ATTOM Data API"}),t.jsx(K,{variant:"outline",children:"Configurable"})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{children:"Google Places API"}),t.jsx(K,{variant:"outline",children:"Configured"})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{children:"MLS Integration"}),t.jsx(K,{variant:"outline",children:"Ready"})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{children:"Supabase Backend"}),t.jsx(K,{variant:"outline",children:"Connected"})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{children:"Address Validation"}),t.jsx(K,{variant:"outline",children:"Active"})]})]})]})]})})]}),t.jsxs(F,{children:[t.jsx(q,{children:t.jsx(Y,{children:"Quick Start Guide"})}),t.jsxs(U,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Testing Address Validation:"}),t.jsxs("ol",{className:"text-sm text-muted-foreground space-y-1 ml-4 list-decimal",children:[t.jsx("li",{children:'Open the "Address Validation Demo" page'}),t.jsx("li",{children:"Start typing any real address in the input field"}),t.jsx("li",{children:"See autocomplete suggestions appear in real-time"}),t.jsx("li",{children:"Select an address to see detailed address parsing"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Testing MLS Integration:"}),t.jsxs("ol",{className:"text-sm text-muted-foreground space-y-1 ml-4 list-decimal",children:[t.jsx("li",{children:'Open the "MLS Integration Demo" page'}),t.jsx("li",{children:"Enter a property address in the address form"}),t.jsx("li",{children:"Watch automatic MLS lookup triggered on address selection"}),t.jsx("li",{children:"View comprehensive property details if found in MLS"}),t.jsx("li",{children:"Test the complete property setup workflow"})]})]}),t.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:t.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[t.jsx("strong",{children:"Note:"})," These tools are for development and testing purposes. In production, ensure all API keys are properly configured and secured."]})})]})]})]})]})}const fD=Object.freeze(Object.defineProperty({__proto__:null,DevTools:Q1},Symbol.toStringTag,{value:"Module"}));function pD({modes:e}){return e.isDevMode?(console.log("App.tsx - Rendering DevTools"),t.jsx(Nt,{children:t.jsx("div",{className:"min-h-screen bg-background",children:t.jsx(Q1,{})})})):e.isApiKeyManagerMode?(console.log("App.tsx - Rendering ApiKeyManager"),t.jsx(Nt,{children:t.jsx("div",{className:"min-h-screen bg-background",children:t.jsx(iD,{})})})):e.isPropertyFieldMappingMode?(console.log("App.tsx - Rendering PropertyFieldMapping"),t.jsx(Nt,{children:t.jsx("div",{className:"min-h-screen bg-background",children:t.jsx(aD,{})})})):e.isAttomApiKeySetupMode?(console.log("App.tsx - Rendering AttomApiKeySetup"),t.jsx(Nt,{children:t.jsx("div",{className:"min-h-screen bg-background",children:t.jsx(nD,{})})})):e.isAttomOfficialTesterMode?(console.log("App.tsx - Rendering AttomOfficialApiTester"),t.jsx(Nt,{children:t.jsx("div",{className:"min-h-screen bg-background",children:t.jsx(sD,{})})})):e.isAttomEndpointAccessMode?(console.log("App.tsx - Rendering AttomEndpointAccessDiagnostic"),t.jsx(Nt,{children:t.jsx("div",{className:"min-h-screen bg-background",children:t.jsx(eD,{})})})):e.isAttomApiFixSummaryMode?(console.log("App.tsx - Rendering AttomApiFixSummary"),t.jsx(Nt,{children:t.jsx("div",{className:"min-h-screen bg-background",children:t.jsx(ZM,{})})})):e.isAttomSearchDiagnosticMode?(console.log("App.tsx - Rendering AttomSearchDiagnostic"),t.jsx(Nt,{children:t.jsx("div",{className:"min-h-screen bg-background",children:t.jsx(QM,{})})})):e.isApiKeyValidatorMode?(console.log("App.tsx - Rendering AttomApiKeyValidator"),t.jsx(Nt,{children:t.jsx("div",{className:"min-h-screen bg-background",children:t.jsx(KM,{})})})):e.isAttomAdminDiagnosticMode?(console.log("App.tsx - Rendering AttomAdminDiagnostic"),t.jsx(Nt,{children:t.jsx("div",{className:"min-h-screen bg-background",children:t.jsx(zM,{})})})):e.isAttomAdminMode?(console.log("App.tsx - Rendering AttomApiAdminPanel"),t.jsx(Nt,{children:t.jsx("div",{className:"min-h-screen bg-background",children:t.jsx(MM,{})})})):e.isAttomTestMode?(console.log("App.tsx - Rendering AttomApiTestTool"),t.jsx(Nt,{children:t.jsx("div",{className:"min-h-screen bg-background",children:t.jsx(LR,{})})})):e.isAttomDebugMode?(console.log("App.tsx - Rendering AttomDebugTool"),t.jsx(Nt,{children:t.jsx("div",{className:"min-h-screen bg-background",children:t.jsx(DR,{})})})):e.isAddressValidationDemoMode?(console.log("App.tsx - Rendering AddressValidationDemo"),t.jsx(Nt,{children:t.jsx("div",{className:"min-h-screen bg-background",children:t.jsx(c1,{})})})):e.isAddressDemoMode?(console.log("App.tsx - Rendering AddressDemo"),t.jsx(Nt,{children:t.jsx("div",{className:"min-h-screen bg-background",children:t.jsx(gR,{})})})):e.isAddressDebugMode?(console.log("App.tsx - Rendering AddressDebugTest"),t.jsx(Nt,{children:t.jsx("div",{className:"min-h-screen bg-background",children:t.jsx(xR,{})})})):e.isAuthDebugMode?(console.log("App.tsx - Rendering AuthDebugPanel"),t.jsx(Nt,{children:t.jsx("div",{className:"min-h-screen bg-background",children:t.jsx(pR,{})})})):null}const gc=({className:e="",size:s="h-20"})=>t.jsx("div",{className:`flex items-center justify-center ${e}`,children:t.jsx("img",{src:wl,alt:"Handoff Logo",className:`${s} w-auto max-w-full mx-auto block`})}),Fy=()=>t.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[t.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),t.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),t.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),t.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),zy=({error:e,onCreateAccount:s,onContinueAsGuest:r,onClearError:n,formData:a,serverAvailable:i})=>{const o=e.includes("Invalid email or password")||e.includes("Sign In Failed"),l=e.includes("already exists")||e.includes("already registered"),c=e.includes("Server Authentication Unavailable")||e.includes("server is not currently accessible"),d=o||l||c||e.includes("You can:")||e.includes("Choose how to continue");return t.jsxs(ce,{variant:"destructive",className:"space-y-4",children:[t.jsx(it,{className:"h-4 w-4"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(de,{className:"whitespace-pre-line text-sm",children:e}),d&&t.jsxs("div",{className:"space-y-3 pt-2",children:[o&&i!==!1&&t.jsxs("div",{className:"text-sm font-medium text-green-700 bg-green-50 border border-green-200 rounded-lg p-3 mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(us,{className:"w-4 h-4 text-green-600"}),t.jsx("strong",{children:" Supabase Authentication Active"})]}),t.jsx("p",{className:"text-xs text-green-600",children:"Your account system is working properly. The credentials you entered don't match our records."})]}),l&&t.jsxs("div",{className:"text-sm font-medium text-blue-700 bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(be,{className:"w-4 h-4 text-blue-600"}),t.jsx("strong",{children:"Account Found in Supabase"})]}),t.jsx("p",{className:"text-xs text-blue-600",children:"This email is already registered. Please sign in instead."})]}),c&&t.jsxs("div",{className:"text-sm font-medium text-orange-700 bg-orange-50 border border-orange-200 rounded-lg p-3 mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(wh,{className:"w-4 h-4 text-orange-600"}),t.jsx("strong",{children:"Server Authentication Offline"})]}),t.jsx("p",{className:"text-xs text-orange-600",children:"Supabase server features are not available. You can still use the full app in offline mode."})]}),t.jsx("div",{className:"text-sm font-medium text-destructive-foreground",children:"How would you like to continue?"}),t.jsxs("div",{className:"grid gap-2",children:[o&&t.jsxs(t.Fragment,{children:[t.jsxs($,{size:"sm",onClick:()=>window.location.href="?login-fix=true",className:"flex items-center gap-2 text-sm h-10 bg-blue-600 hover:bg-blue-700 text-white shadow-md font-medium rounded-lg",children:[t.jsx(us,{className:"w-4 h-4"}),"Login Troubleshooter",t.jsx("span",{className:"text-xs opacity-90 ml-auto",children:"Fix account issues"})]}),t.jsxs($,{size:"sm",onClick:s,className:"flex items-center gap-2 text-sm h-10 bg-green-600 hover:bg-green-700 text-white shadow-md font-medium rounded-lg",children:[t.jsx(XC,{className:"w-4 h-4"}),"Create New Account",t.jsx("span",{className:"text-xs opacity-90 ml-auto",children:"If you're new"})]})]}),l&&t.jsxs($,{size:"sm",onClick:n,className:"flex items-center gap-2 text-sm h-10 bg-green-600 hover:bg-green-700 text-white shadow-md font-medium rounded-lg",children:[t.jsx(be,{className:"w-4 h-4"}),"Switch to Sign In",t.jsx("span",{className:"text-xs opacity-90 ml-auto",children:"Use existing account"})]}),c&&t.jsxs(t.Fragment,{children:[t.jsxs($,{size:"sm",onClick:r,className:"flex items-center gap-2 text-sm h-10 bg-blue-600 hover:bg-blue-700 text-white shadow-md font-medium rounded-lg",children:[t.jsx(fn,{className:"w-4 h-4"}),"Continue as Guest",t.jsx("span",{className:"text-xs opacity-90 ml-auto",children:"Full features available"})]}),t.jsxs($,{size:"sm",onClick:()=>window.location.href="?server-deployment=true",className:"flex items-center gap-2 text-sm h-10 bg-purple-600 hover:bg-purple-700 text-white shadow-md font-medium rounded-lg",children:[t.jsx(wh,{className:"w-4 h-4"}),"Deploy Supabase Server",t.jsx("span",{className:"text-xs opacity-90 ml-auto",children:"Enable full auth"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-2 pt-2",children:[!c&&t.jsxs($,{variant:"outline",size:"sm",onClick:r,className:"flex items-center gap-2 text-xs h-9 bg-gray-50 hover:bg-gray-100 text-gray-700 border-gray-300",children:[t.jsx(fn,{className:"w-3 h-3"}),"Continue as Guest",t.jsx("span",{className:"text-xs text-gray-600 ml-auto",children:"Try app without account"})]}),t.jsx($,{variant:"ghost",size:"sm",onClick:n,className:"text-xs h-8 text-gray-600 hover:text-gray-900 mt-2",children:"Try Different Credentials"})]})]})]})]})]})};function xD({onComplete:e,onGoogleSignIn:s,authError:r,isLoading:n,continueAsGuest:a,clearAuthError:i}){const[o,l]=m.useState(!1),[c,d]=m.useState(!1),[u,f]=m.useState({buyerName:"",buyerEmail:"",password:""}),[p,h]=m.useState({}),[j,v]=m.useState(!1),[b,g]=m.useState(""),[y,x]=m.useState(!1),[S,w]=m.useState(null),[k,C]=m.useState(null),P=ms(),N=m.useRef(null);m.useEffect(()=>(P&&(document.body.classList.add("mobile-device","setup-wizard"),document.documentElement.classList.add("mobile-device","setup-wizard")),()=>{document.body.classList.remove("setup-wizard"),document.documentElement.classList.remove("setup-wizard")}),[P]);const T=m.useCallback(()=>{const W={};return u.buyerEmail.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.buyerEmail)||(W.buyerEmail="Please enter a valid email address"):W.buyerEmail="Email is required",o&&!u.buyerName.trim()?W.buyerName="Name is required":o&&u.buyerName.trim().length<2&&(W.buyerName="Name must be at least 2 characters"),u.password?u.password.length<6&&(W.password="Password must be at least 6 characters"):W.password="Password is required",h(W),Object.keys(W).length===0},[u,o]),O=m.useCallback(async W=>{if(W.preventDefault(),!T())return;const L={buyerEmail:u.buyerEmail.trim(),buyerName:u.buyerName.trim()||"User",password:u.password};await e(L,o)},[u,o,T,e]),I=m.useCallback(async()=>{try{await s()}catch(W){console.error("Google sign-in error:",W)}},[s]),_=async()=>{if(!b.trim()){w("Please enter your email address");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b)){w("Please enter a valid email address");return}try{w(null);const W=await fetch(`https://${De}.supabase.co/functions/v1/make-server-a24396d5/user/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Te}`},body:JSON.stringify({email:b.trim()})});if(!W.ok){const L=await W.json();throw new Error(L.error||"Failed to send reset email")}x(!0)}catch(W){console.error("Password reset error:",W),w(W instanceof Error?W.message:"Failed to send reset email")}},A=m.useCallback(()=>{l(!o),h({}),f({buyerName:"",buyerEmail:"",password:""}),i&&i()},[o,i]),R=()=>{v(!1),g(""),x(!1),w(null)},M=m.useCallback(()=>{l(!0),h({}),i&&i(),console.log(" Switching to account creation mode")},[i]),z=m.useCallback(()=>{if(a){const W={buyerEmail:u.buyerEmail.trim()||"",buyerName:u.buyerName.trim()||"Guest User",password:u.password||""};a(W)}},[u,a]),E=m.useCallback(()=>{h({}),i&&i(),(r!=null&&r.includes("already exists")||r!=null&&r.includes("already registered"))&&l(!1)},[i,r]);m.useCallback(()=>{C(!0),console.log(" Supabase server authentication detected as available")},[]);const D=()=>t.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-green-100 rounded-full",children:t.jsx(be,{className:"w-5 h-5 text-green-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:"font-medium text-green-900",children:" Supabase Connected & Active"}),t.jsx("span",{className:"text-xs bg-green-200 text-green-800 px-2 py-0.5 rounded-full",children:"Server Online"})]}),t.jsx("p",{className:"text-sm text-green-700",children:"Secure authentication, data sync, and all server features are working properly."})]})]})}),H=()=>t.jsx("div",{className:"space-y-4 border-t pt-6 mt-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Quick Start Options"}),t.jsx("div",{className:"grid gap-2",children:t.jsxs($,{variant:"outline",onClick:()=>a&&a(),className:"flex items-center gap-2 text-sm h-10 bg-blue-50 hover:bg-blue-100 border-blue-200 text-blue-700",children:[t.jsx(NC,{className:"w-4 h-4"}),"Try App as Guest",t.jsx("span",{className:"text-xs text-blue-500 ml-auto",children:"No account needed"})]})}),t.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Guest mode gives you full access to explore all features"})]})});return j&&P?t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-white",children:t.jsxs(F,{className:"w-full max-w-md border-0 shadow-none bg-transparent",children:[t.jsxs(q,{className:"space-y-4 text-center",children:[t.jsx(gc,{className:"mb-6",size:"h-14"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Y,{className:"text-xl",children:y?"Check Your Email":"Reset Password"}),t.jsx(Ie,{children:y?"We've sent a password reset link to your email address.":"Enter your email address and we'll send you a link to reset your password."})]})]}),t.jsx(U,{className:"space-y-4",children:y?t.jsxs("div",{className:"space-y-4 text-center",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"If you don't see the email in your inbox, check your spam folder."}),t.jsxs($,{variant:"outline",onClick:R,className:"w-full mobile-button",children:[t.jsx(Fn,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(X,{htmlFor:"reset-email",children:"Email Address"}),t.jsx(Re,{id:"reset-email",type:"email",placeholder:"Enter your email",value:b,onChange:W=>{g(W.target.value),w(null)},className:"mobile-input",disabled:n})]}),S&&t.jsx(ce,{variant:"destructive",children:t.jsx(de,{children:S})}),t.jsxs("div",{className:"space-y-3",children:[t.jsx($,{onClick:_,disabled:n,className:"w-full mobile-button",children:n?"Sending...":"Send Reset Link"}),t.jsxs($,{variant:"ghost",onClick:R,className:"w-full mobile-button",children:[t.jsx(Fn,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]})]})]})})]})}):j&&!P?t.jsxs("div",{className:"min-h-screen flex",children:[t.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-white relative overflow-hidden",children:[t.jsxs("div",{className:"relative z-10 flex flex-col justify-center items-center p-12 text-gray-900 min-h-full",children:[t.jsx("div",{className:"flex flex-col items-center justify-center flex-1",children:t.jsx(gc,{className:"mb-8",size:"h-32"})}),t.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 text-sm text-gray-500",children:" 2025 Handoff. All rights reserved."})]}),t.jsx("div",{className:"absolute bottom-20 right-32 w-24 h-24 border border-gray-50 rounded-full"})]}),t.jsx("div",{className:"flex-1 flex items-center justify-center p-8 bg-white",children:t.jsxs("div",{className:"w-full max-w-md space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reset Password"}),t.jsx("p",{className:"text-gray-600",children:y?"We've sent a password reset link to your email address.":"Enter your email address and we'll send you a link to reset your password."})]}),y?t.jsxs("div",{className:"space-y-6 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:t.jsx(xC,{className:"w-8 h-8 text-green-600"})}),t.jsx("p",{className:"text-gray-600",children:"If you don't see the email in your inbox, check your spam folder."}),t.jsxs($,{variant:"outline",onClick:R,className:"w-full py-3 border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors",children:[t.jsx(Fn,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(X,{htmlFor:"reset-email",className:"text-sm font-medium text-gray-700",children:"Email Address"}),t.jsx(Re,{id:"reset-email",type:"email",placeholder:"Enter your email",value:b,onChange:W=>{g(W.target.value),w(null)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:n})]}),S&&t.jsx(ce,{variant:"destructive",children:t.jsx(de,{children:S})}),t.jsxs("div",{className:"space-y-4",children:[t.jsx($,{onClick:_,disabled:n,className:"w-full py-3 bg-gray-900 hover:bg-gray-800 text-white font-medium rounded-lg transition-colors",children:n?"Sending...":"Send Reset Link"}),t.jsxs($,{variant:"ghost",onClick:R,className:"w-full py-3 text-gray-600 hover:text-gray-900 transition-colors",children:[t.jsx(Fn,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]})]})]})]})})]}):P?t.jsx("div",{className:"min-h-screen bg-white p-4 flex flex-col justify-center",children:t.jsxs("div",{className:"w-full max-w-md mx-auto space-y-8",children:[t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx(gc,{className:"mb-8",size:"h-16"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:o?"Create Account":"Welcome Back!"}),t.jsx("p",{className:"text-gray-600 mt-2",children:o?"Create your secure Handoff account":"Sign in to your Handoff account"})]})]}),k&&!r&&t.jsx(D,{}),t.jsxs("form",{ref:N,onSubmit:O,className:"space-y-4",children:[o&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(X,{htmlFor:"buyerName",className:"text-sm font-medium text-gray-700",children:"Full Name"}),t.jsx(Re,{id:"buyerName",type:"text",placeholder:"Enter your full name",value:u.buyerName,onChange:W=>{f(L=>({...L,buyerName:W.target.value})),h(L=>({...L,buyerName:""}))},className:`mobile-input ${p.buyerName?"border-red-500":"border-gray-300"}`,disabled:n,autoComplete:"name"}),p.buyerName&&t.jsx("p",{className:"text-sm text-red-600",children:p.buyerName})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(X,{htmlFor:"buyerEmail",className:"text-sm font-medium text-gray-700",children:"Email Address"}),t.jsx(Re,{id:"buyerEmail",type:"email",placeholder:"Enter your email",value:u.buyerEmail,onChange:W=>{f(L=>({...L,buyerEmail:W.target.value})),h(L=>({...L,buyerEmail:""}))},className:`mobile-input ${p.buyerEmail?"border-red-500":"border-gray-300"}`,disabled:n,autoComplete:"email"}),p.buyerEmail&&t.jsx("p",{className:"text-sm text-red-600",children:p.buyerEmail})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(X,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Re,{id:"password",type:c?"text":"password",placeholder:"Enter your password",value:u.password,onChange:W=>{f(L=>({...L,password:W.target.value})),h(L=>({...L,password:""}))},className:`pr-10 mobile-input ${p.password?"border-red-500":"border-gray-300"}`,disabled:n,autoComplete:o?"new-password":"current-password"}),t.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:n,children:c?t.jsx(Oa,{className:"w-4 h-4"}):t.jsx(Ht,{className:"w-4 h-4"})})]}),p.password&&t.jsx("p",{className:"text-sm text-red-600",children:p.password})]}),r&&t.jsx(zy,{error:r,onCreateAccount:M,onContinueAsGuest:z,onClearError:E,formData:u,serverAvailable:k}),t.jsx($,{type:"submit",className:"w-full py-3 bg-gray-900 hover:bg-gray-800 text-white font-medium rounded-lg transition-colors mobile-button",disabled:n,children:n?t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),o?"Creating Account...":"Signing In..."]}):t.jsx(t.Fragment,{children:t.jsxs("span",{className:"flex items-center gap-2",children:[k&&t.jsx(us,{className:"w-4 h-4"}),o?"Create Secure Account":"Sign In Securely"]})})}),t.jsxs($,{type:"button",variant:"outline",onClick:I,className:"w-full py-3 border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center gap-2 mobile-button",disabled:n,children:[t.jsx(Fy,{}),"Sign in with Google",k&&t.jsx("span",{className:"ml-auto text-xs text-green-600",children:" Secure"})]})]}),t.jsxs("div",{className:"space-y-4",children:[!o&&t.jsx("div",{className:"flex items-center justify-center",children:t.jsx($,{variant:"link",onClick:()=>v(!0),className:"text-sm h-auto p-0 text-gray-600 hover:text-gray-900",disabled:n,children:"Forgot your password?"})}),t.jsxs("div",{className:"flex flex-col items-center justify-center text-center space-y-2",children:[t.jsx("p",{className:"text-sm text-gray-600",children:o?"Already have an account?":"Don't have an account?"}),t.jsx($,{variant:"link",onClick:A,className:"text-sm h-auto p-0 text-blue-600 hover:text-blue-700 font-medium",disabled:n,children:o?"Sign In":"Create Account"})]}),!r&&!o&&k&&t.jsx(H,{})]})]})}):t.jsxs("div",{className:"min-h-screen flex",children:[t.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-white relative overflow-hidden",children:[t.jsxs("div",{className:"relative z-10 flex flex-col justify-center items-center p-12 text-gray-900 min-h-full",children:[t.jsx("div",{className:"flex flex-col items-center justify-center flex-1",children:t.jsx(gc,{className:"mb-8",size:"h-32"})}),t.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 text-sm text-gray-500",children:" 2025 Handoff. All rights reserved."})]}),t.jsx("div",{className:"absolute bottom-20 right-32 w-24 h-24 border border-gray-50 rounded-full"})]}),t.jsx("div",{className:"flex-1 flex items-center justify-center p-8 bg-white",children:t.jsxs("div",{className:"w-full max-w-md space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:o?"Create Account":"Welcome Back"}),t.jsx("p",{className:"text-gray-600",children:o?"Create your secure Handoff account to get started":"Sign in to access your real estate transaction dashboard"})]}),k&&!r&&t.jsx(D,{}),t.jsxs("form",{ref:N,onSubmit:O,className:"space-y-6",children:[o&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(X,{htmlFor:"buyerName",className:"text-sm font-medium text-gray-700",children:"Full Name"}),t.jsx(Re,{id:"buyerName",type:"text",placeholder:"Enter your full name",value:u.buyerName,onChange:W=>{f(L=>({...L,buyerName:W.target.value})),h(L=>({...L,buyerName:""}))},className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${p.buyerName?"border-red-500":"border-gray-300"}`,disabled:n,autoComplete:"name"}),p.buyerName&&t.jsx("p",{className:"text-sm text-red-600",children:p.buyerName})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(X,{htmlFor:"buyerEmail",className:"text-sm font-medium text-gray-700",children:"Email Address"}),t.jsx(Re,{id:"buyerEmail",type:"email",placeholder:"Enter your email",value:u.buyerEmail,onChange:W=>{f(L=>({...L,buyerEmail:W.target.value})),h(L=>({...L,buyerEmail:""}))},className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${p.buyerEmail?"border-red-500":"border-gray-300"}`,disabled:n,autoComplete:"email"}),p.buyerEmail&&t.jsx("p",{className:"text-sm text-red-600",children:p.buyerEmail})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(X,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Re,{id:"password",type:c?"text":"password",placeholder:"Enter your password",value:u.password,onChange:W=>{f(L=>({...L,password:W.target.value})),h(L=>({...L,password:""}))},className:`w-full px-4 py-3 pr-12 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${p.password?"border-red-500":"border-gray-300"}`,disabled:n,autoComplete:o?"new-password":"current-password"}),t.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:n,children:c?t.jsx(Oa,{className:"w-5 h-5"}):t.jsx(Ht,{className:"w-5 h-5"})})]}),p.password&&t.jsx("p",{className:"text-sm text-red-600",children:p.password})]}),r&&t.jsx(zy,{error:r,onCreateAccount:M,onContinueAsGuest:z,onClearError:E,formData:u,serverAvailable:k}),t.jsx($,{type:"submit",className:"w-full py-3 bg-gray-900 hover:bg-gray-800 text-white font-medium rounded-lg transition-colors",disabled:n,children:n?t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),o?"Creating Account...":"Signing In..."]}):t.jsxs("span",{className:"flex items-center gap-2",children:[k&&t.jsx(us,{className:"w-4 h-4"}),o?"Create Secure Account":"Sign In Securely"]})}),t.jsxs($,{type:"button",variant:"outline",onClick:I,className:"w-full py-3 border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center gap-2",disabled:n,children:[t.jsx(Fy,{}),"Sign in with Google",k&&t.jsx("span",{className:"ml-auto text-xs text-green-600",children:" Secure"})]})]}),t.jsxs("div",{className:"space-y-4",children:[!o&&t.jsx("div",{className:"flex items-center justify-center",children:t.jsx($,{variant:"link",onClick:()=>v(!0),className:"text-sm h-auto p-0 text-gray-600 hover:text-gray-900",disabled:n,children:"Forgot your password?"})}),t.jsxs("div",{className:"flex flex-col items-center justify-center text-center space-y-2",children:[t.jsx("p",{className:"text-sm text-gray-600",children:o?"Already have an account?":"Don't have an account?"}),t.jsx($,{variant:"link",onClick:A,className:"text-sm h-auto p-0 text-blue-600 hover:text-blue-700 font-medium",disabled:n,children:o?"Sign In":"Create Account"})]}),!r&&!o&&k&&t.jsx(H,{})]})]})})]})}function gD({resetToken:e,onSuccess:s,onBackToLogin:r}){const[n,a]=m.useState({newPassword:"",confirmPassword:""}),[i,o]=m.useState({}),[l,c]=m.useState(!1),[d,u]=m.useState(!1),[f,p]=m.useState(!1),[h,j]=m.useState(!1),[v,b]=m.useState(!0),[g,y]=m.useState(null),x=ms();m.useEffect(()=>{S()},[e]);const S=async()=>{try{!e||e.length<10?y("Invalid reset token"):y(null)}catch{y("Invalid reset token")}finally{b(!1)}},w=()=>{const N={};return n.newPassword.trim()?n.newPassword.length<8?N.newPassword="Password must be at least 8 characters long":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(n.newPassword)||(N.newPassword="Password must contain at least one uppercase letter, one lowercase letter, and one number"):N.newPassword="New password is required",n.confirmPassword.trim()?n.newPassword!==n.confirmPassword&&(N.confirmPassword="Passwords do not match"):N.confirmPassword="Please confirm your password",o(N),Object.keys(N).length===0},k=async N=>{if(N.preventDefault(),!!w()){c(!0),o({});try{const T=await fetch(`https://${De}.supabase.co/functions/v1/make-server-a24396d5/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Te}`},body:JSON.stringify({token:e,newPassword:n.newPassword})});if(!T.ok){const O=await T.json();throw new Error(O.error||"Failed to reset password")}j(!0),setTimeout(()=>{s()},3e3)}catch(T){console.error("Password reset error:",T),o({submit:T instanceof Error?T.message:"Failed to reset password. Please try again."})}finally{c(!1)}}},C=(N,T)=>{a(O=>({...O,[N]:T})),i[N]&&o(O=>({...O,[N]:""}))},P=()=>t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary rounded-2xl shadow-lg",children:t.jsx(We,{className:"w-8 h-8 text-primary-foreground"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Handoff"}),t.jsx("p",{className:"text-muted-foreground",children:"Real Estate Transaction Platform"})]})]});return v?t.jsx("div",{className:`min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center ${x?"px-4 py-8":"p-8"}`,children:t.jsxs("div",{className:"w-full max-w-md space-y-8",children:[t.jsx(P,{}),t.jsx(F,{className:"shadow-xl border-0",children:t.jsx(U,{className:"p-8",children:t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx("div",{className:"w-8 h-8 border-3 border-primary/20 border-t-primary rounded-full animate-spin mx-auto"}),t.jsx("p",{className:"text-muted-foreground",children:"Validating reset token..."})]})})})]})}):g?t.jsx("div",{className:`min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center ${x?"px-4 py-8":"p-8"}`,children:t.jsxs("div",{className:"w-full max-w-md space-y-8",children:[t.jsx(P,{}),t.jsxs(F,{className:"shadow-xl border-0",children:[t.jsxs(q,{className:"space-y-1 text-center",children:[t.jsx("div",{className:"flex justify-center mb-4",children:t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:t.jsx(it,{className:"w-6 h-6 text-red-600"})})}),t.jsx(Y,{className:"text-2xl",children:"Invalid Reset Link"}),t.jsx(Ie,{children:"This password reset link is invalid or has expired."})]}),t.jsxs(U,{className:"space-y-6",children:[t.jsxs(ce,{variant:"destructive",children:[t.jsx(it,{className:"h-4 w-4"}),t.jsx(de,{children:g})]}),t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Password reset links expire after 1 hour for security reasons."}),t.jsx($,{onClick:r,className:"w-full",children:"Request New Reset Link"})]})]})]})]})}):h?t.jsx("div",{className:`min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center ${x?"px-4 py-8":"p-8"}`,children:t.jsxs("div",{className:"w-full max-w-md space-y-8",children:[t.jsx(P,{}),t.jsxs(F,{className:"shadow-xl border-0",children:[t.jsxs(q,{className:"space-y-1 text-center",children:[t.jsx("div",{className:"flex justify-center mb-4",children:t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:t.jsx(be,{className:"w-6 h-6 text-green-600"})})}),t.jsx(Y,{className:"text-2xl",children:"Password Reset Successful"}),t.jsx(Ie,{children:"Your password has been successfully updated."})]}),t.jsxs(U,{className:"space-y-6",children:[t.jsxs(ce,{children:[t.jsx(be,{className:"h-4 w-4"}),t.jsx(de,{children:"You can now sign in with your new password."})]}),t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"You will be redirected to the login page in a few seconds..."}),t.jsx($,{onClick:s,className:"w-full",children:"Continue to Sign In"})]})]})]})]})}):t.jsx("div",{className:`min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center ${x?"px-4 py-8":"p-8"}`,children:t.jsxs("div",{className:"w-full max-w-md space-y-8",children:[t.jsx(P,{}),t.jsxs(F,{className:"shadow-xl border-0",children:[t.jsxs(q,{className:"space-y-1 text-center",children:[t.jsx("div",{className:"flex justify-center mb-4",children:t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx(Rc,{className:"w-6 h-6 text-blue-600"})})}),t.jsx(Y,{className:"text-2xl",children:"Set New Password"}),t.jsx(Ie,{children:"Enter your new password below to complete the reset process."})]}),t.jsxs(U,{className:"space-y-6",children:[t.jsxs($,{onClick:r,variant:"ghost",size:"sm",className:"mb-4",children:[t.jsx(Fn,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]}),i.submit&&t.jsxs(ce,{variant:"destructive",children:[t.jsx(it,{className:"h-4 w-4"}),t.jsx(de,{children:i.submit})]}),t.jsxs("form",{onSubmit:k,className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(X,{htmlFor:"newPassword",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Re,{id:"newPassword",type:d?"text":"password",placeholder:"Enter your new password",value:n.newPassword,onChange:N=>C("newPassword",N.target.value),className:i.newPassword?"border-red-500":"",disabled:l}),t.jsx($,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>u(!d),children:d?t.jsx(Oa,{className:"h-4 w-4"}):t.jsx(Ht,{className:"h-4 w-4"})})]}),i.newPassword&&t.jsx("p",{className:"text-sm text-red-500",children:i.newPassword}),t.jsx("div",{className:"text-xs text-muted-foreground",children:"Password must be at least 8 characters with uppercase, lowercase, and number"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(X,{htmlFor:"confirmPassword",children:"Confirm New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Re,{id:"confirmPassword",type:f?"text":"password",placeholder:"Confirm your new password",value:n.confirmPassword,onChange:N=>C("confirmPassword",N.target.value),className:i.confirmPassword?"border-red-500":"",disabled:l}),t.jsx($,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>p(!f),children:f?t.jsx(Oa,{className:"h-4 w-4"}):t.jsx(Ht,{className:"h-4 w-4"})})]}),i.confirmPassword&&t.jsx("p",{className:"text-sm text-red-500",children:i.confirmPassword})]}),t.jsx($,{type:"submit",className:"w-full",disabled:l,children:l?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-primary-foreground/20 border-t-primary-foreground rounded-full animate-spin"}),"Resetting Password..."]}):"Reset Password"})]})]})]}),t.jsx("div",{className:"text-center",children:t.jsx("p",{className:"text-sm text-muted-foreground",children:"For security, this link will expire in 1 hour."})})]})})}var X1={exports:{}},Z1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vi=m;function vD(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var yD=typeof Object.is=="function"?Object.is:vD,jD=Vi.useState,bD=Vi.useEffect,wD=Vi.useLayoutEffect,ND=Vi.useDebugValue;function SD(e,s){var r=s(),n=jD({inst:{value:r,getSnapshot:s}}),a=n[0].inst,i=n[1];return wD(function(){a.value=r,a.getSnapshot=s,vm(a)&&i({inst:a})},[e,r,s]),bD(function(){return vm(a)&&i({inst:a}),e(function(){vm(a)&&i({inst:a})})},[e]),ND(r),r}function vm(e){var s=e.getSnapshot;e=e.value;try{var r=s();return!yD(e,r)}catch{return!0}}function kD(e,s){return s()}var _D=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?kD:SD;Z1.useSyncExternalStore=Vi.useSyncExternalStore!==void 0?Vi.useSyncExternalStore:_D;X1.exports=Z1;var AD=X1.exports;function CD(){return AD.useSyncExternalStore(PD,()=>!0,()=>!1)}function PD(){return()=>{}}var qp="Avatar",[TD,X$]=Vs(qp),[ED,eS]=TD(qp),tS=m.forwardRef((e,s)=>{const{__scopeAvatar:r,...n}=e,[a,i]=m.useState("idle");return t.jsx(ED,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:t.jsx(we.span,{...n,ref:s})})});tS.displayName=qp;var sS="AvatarImage",rS=m.forwardRef((e,s)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=eS(sS,r),l=ID(n,i),c=os(d=>{a(d),o.onImageLoadingStatusChange(d)});return Pt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?t.jsx(we.img,{...i,ref:s,src:n}):null});rS.displayName=sS;var nS="AvatarFallback",aS=m.forwardRef((e,s)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=eS(nS,r),[o,l]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?t.jsx(we.span,{...a,ref:s}):null});aS.displayName=nS;function Uy(e,s){return e?s?(e.src!==s&&(e.src=s),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function ID(e,{referrerPolicy:s,crossOrigin:r}){const n=CD(),a=m.useRef(null),i=(()=>n?(a.current||(a.current=new window.Image),a.current):null)(),[o,l]=m.useState(()=>Uy(i,e));return Pt(()=>{l(Uy(i,e))},[i,e]),Pt(()=>{const c=f=>()=>{l(f)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),s&&(i.referrerPolicy=s),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,r,s]),o}var OD=tS,RD=rS,MD=aS;function iS({className:e,...s}){return t.jsx(OD,{"data-slot":"avatar",className:ve("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...s})}function oS({className:e,...s}){return t.jsx(RD,{"data-slot":"avatar-image",className:ve("aspect-square size-full",e),...s})}function lS({className:e,...s}){return t.jsx(MD,{"data-slot":"avatar-fallback",className:ve("bg-muted flex size-full items-center justify-center rounded-full",e),...s})}function DD({currentPage:e,onPageChange:s,setupData:r,onSignOut:n,isPropertySetupComplete:a,children:i}){const o=Vd(),[l,c]=m.useState(!0),d=[{id:"overview",label:"Dashboard",icon:xr,description:"Overview and progress tracking",category:"Core"},{id:"property",label:"Property Details",icon:We,description:"Property information and preferences",category:"Property"},{id:"tasks",label:"Tasks & Timeline",icon:Nh,description:"Transaction milestones and deadlines",category:"Property"},{id:"legal",label:"Legal",icon:ep,description:"Contracts and legal documents",category:"Transaction Details"},{id:"inspections",label:"Inspections",icon:Ht,description:"Property inspections and reports",category:"Transaction Details"},{id:"insurance",label:"Insurance",icon:us,description:"Home insurance planning",category:"Transaction Details"},{id:"communications",label:"Communications",icon:bh,description:"Messages and coordination",category:"Support"},{id:"team",label:"My Team",icon:fn,description:"Professional contacts and team",category:"Support"},{id:"documents",label:"Documents",icon:Qt,description:"Contract and transaction documents",category:"Support"},{id:"resources",label:"Resources",icon:Xf,description:"Guides and helpful information",category:"Support"}],u={Core:"text-blue-600 bg-blue-50 border-blue-200",Property:"text-blue-600 bg-blue-50 border-blue-200","Transaction Details":"text-green-600 bg-green-50 border-green-200",Support:"text-gray-600 bg-gray-50 border-gray-200"},f=()=>r!=null&&r.buyerName&&r.buyerName!=="User"?r.buyerName.split(" ").map(g=>g.charAt(0).toUpperCase()+g.slice(1).toLowerCase()).join(" "):"User",p=()=>r!=null&&r.buyerEmail&&r.buyerEmail!=="user@handoff.demo"&&r.buyerEmail!=="guest@handoff.demo"?r.buyerEmail:(r==null?void 0:r.buyerEmail)||"user@handoff.demo",h=g=>!g||g==="User"?"U":g.split(" ").map(y=>y[0]).join("").toUpperCase().slice(0,2),v=(()=>o.getCompletionStatus())(),b=d.reduce((g,y)=>{const x=y.category||"Other";return g[x]||(g[x]=[]),g[x].push(y),g},{});return t.jsxs("div",{className:"flex h-screen bg-background",children:[t.jsxs("div",{className:ve("flex flex-col bg-card border-r border-border transition-all duration-300",l?"w-80":"w-16"),children:[t.jsx("div",{className:"p-6 border-b border-border",children:t.jsxs("div",{className:"flex items-center gap-3",children:[l?t.jsx("img",{src:wl,alt:"Handoff",className:"h-8 w-auto"}):t.jsx("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center text-primary-foreground font-bold text-lg",children:"H"}),l&&t.jsx("div",{children:t.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[t.jsx(Hr,{className:"w-3 h-3"}),"Real Estate Transaction Management"]})})]})}),l&&t.jsxs("div",{className:"p-4 border-b border-border bg-muted/30",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(iS,{className:"h-10 w-10",children:[t.jsx(oS,{src:""}),t.jsx(lS,{className:"bg-primary text-primary-foreground",children:h(f())})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-medium text-sm truncate",title:f(),children:f()}),t.jsx("p",{className:"text-xs text-muted-foreground truncate",title:p(),children:p()}),(r==null?void 0:r.displayBadge)&&t.jsx(K,{variant:"secondary",className:"text-xs mt-1",children:r.displayBadge})]})]}),t.jsxs("div",{className:"mt-3 p-3 bg-card rounded-lg border",children:[t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsx("span",{className:"text-muted-foreground",children:"Setup Progress"}),t.jsxs("span",{className:"font-medium",children:[Math.round(v.percentage),"%"]})]}),t.jsx("div",{className:"mt-1 w-full bg-muted rounded-full h-1.5",children:t.jsx("div",{className:"bg-primary h-1.5 rounded-full transition-all duration-300",style:{width:`${v.percentage}%`}})})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:Object.entries(b).map(([g,y])=>t.jsxs("div",{children:[l&&t.jsxs("div",{className:"mb-3",children:[t.jsx("h3",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider mb-2",children:g}),g==="Core"&&t.jsxs("div",{className:`text-xs p-2 rounded-lg border ${u[g]}`,children:[t.jsxs("div",{className:"flex items-center gap-1 font-medium mb-1",children:[t.jsx(mn,{className:"w-3 h-3"}),"Essential Features"]}),t.jsx("div",{children:"Core tools for your real estate transaction"})]})]}),t.jsx("div",{className:"space-y-1",children:y.map(x=>{const S=x.icon,w=e===x.id;return t.jsx($,{variant:w?"default":"ghost",className:ve("w-full justify-start h-auto p-3 transition-all duration-200",w&&"bg-primary text-primary-foreground shadow-sm",!w&&"hover:bg-muted",!l&&"justify-center px-3"),onClick:()=>s(x.id),children:t.jsxs("div",{className:"flex items-center gap-3 w-full",children:[t.jsx(S,{className:"h-4 w-4 flex-shrink-0"}),l&&t.jsxs("div",{className:"flex-1 text-left",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium text-sm",children:x.label}),x.badge&&t.jsx(K,{variant:"secondary",className:"text-xs px-1.5 py-0.5",children:x.badge})]}),x.description&&t.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:x.description})]})]})},x.id)})})]},g))}),t.jsxs("div",{className:"p-4 border-t border-border",children:[t.jsxs("div",{className:"flex gap-1",children:[t.jsxs($,{variant:"ghost",className:ve("flex-1 justify-center h-auto p-1.5 text-xs text-muted-foreground hover:text-foreground",!l&&"justify-center px-1.5"),onClick:()=>s("settings"),children:[t.jsx(Sr,{className:"h-3.5 w-3.5"}),l&&t.jsx("span",{className:"ml-2 text-xs",children:"Settings"})]}),t.jsxs($,{variant:"ghost",className:ve("flex-1 justify-center h-auto p-1.5 text-xs text-muted-foreground hover:text-red-600 hover:bg-red-50/50",!l&&"justify-center px-1.5"),onClick:n,children:[t.jsx(Lb,{className:"h-3.5 w-3.5"}),l&&t.jsx("span",{className:"ml-2 text-xs",children:"Sign Out"})]})]}),l&&t.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:t.jsx("button",{onClick:()=>c(!1),className:"text-xs text-muted-foreground hover:text-foreground transition-colors",children:"Collapse Sidebar"})})]})]}),!l&&t.jsx($,{variant:"ghost",size:"sm",className:"absolute top-6 left-20 z-10",onClick:()=>c(!0),children:t.jsx("div",{className:"text-xs",children:"Expand"})}),t.jsx("div",{className:"flex-1 flex flex-col min-h-0",children:t.jsx("main",{className:"flex-1 overflow-auto",children:i})})]})}var uu="Dialog",[cS,Z$]=Vs(uu),[LD,_r]=cS(uu),dS=e=>{const{__scopeDialog:s,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[d,u]=Gr({prop:n,defaultProp:a??!1,onChange:i,caller:uu});return t.jsx(LD,{scope:s,triggerRef:l,contentRef:c,contentId:gr(),titleId:gr(),descriptionId:gr(),open:d,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(f=>!f),[u]),modal:o,children:r})};dS.displayName=uu;var uS="DialogTrigger",mS=m.forwardRef((e,s)=>{const{__scopeDialog:r,...n}=e,a=_r(uS,r),i=Ke(s,a.triggerRef);return t.jsx(we.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Kp(a.open),...n,ref:i,onClick:Ce(e.onClick,a.onOpenToggle)})});mS.displayName=uS;var Yp="DialogPortal",[$D,hS]=cS(Yp,{forceMount:void 0}),fS=e=>{const{__scopeDialog:s,forceMount:r,children:n,container:a}=e,i=_r(Yp,s);return t.jsx($D,{scope:s,forceMount:r,children:m.Children.map(n,o=>t.jsx(Ws,{present:r||i.open,children:t.jsx(Xd,{asChild:!0,container:a,children:o})}))})};fS.displayName=Yp;var Nd="DialogOverlay",pS=m.forwardRef((e,s)=>{const r=hS(Nd,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=_r(Nd,e.__scopeDialog);return i.modal?t.jsx(Ws,{present:n||i.open,children:t.jsx(zD,{...a,ref:s})}):null});pS.displayName=Nd;var FD=Ra("DialogOverlay.RemoveScroll"),zD=m.forwardRef((e,s)=>{const{__scopeDialog:r,...n}=e,a=_r(Nd,r);return t.jsx(Ap,{as:FD,allowPinchZoom:!0,shards:[a.contentRef],children:t.jsx(we.div,{"data-state":Kp(a.open),...n,ref:s,style:{pointerEvents:"auto",...n.style}})})}),Fa="DialogContent",xS=m.forwardRef((e,s)=>{const r=hS(Fa,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=_r(Fa,e.__scopeDialog);return t.jsx(Ws,{present:n||i.open,children:i.modal?t.jsx(UD,{...a,ref:s}):t.jsx(BD,{...a,ref:s})})});xS.displayName=Fa;var UD=m.forwardRef((e,s)=>{const r=_r(Fa,e.__scopeDialog),n=m.useRef(null),a=Ke(s,r.contentRef,n);return m.useEffect(()=>{const i=n.current;if(i)return _p(i)},[]),t.jsx(gS,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ce(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ce(e.onFocusOutside,i=>i.preventDefault())})}),BD=m.forwardRef((e,s)=>{const r=_r(Fa,e.__scopeDialog),n=m.useRef(!1),a=m.useRef(!1);return t.jsx(gS,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),gS=m.forwardRef((e,s)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=_r(Fa,r),c=m.useRef(null),d=Ke(s,c);return pp(),t.jsxs(t.Fragment,{children:[t.jsx(Yd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:t.jsx(qd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Kp(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(VD,{titleId:l.titleId}),t.jsx(HD,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Gp="DialogTitle",vS=m.forwardRef((e,s)=>{const{__scopeDialog:r,...n}=e,a=_r(Gp,r);return t.jsx(we.h2,{id:a.titleId,...n,ref:s})});vS.displayName=Gp;var yS="DialogDescription",jS=m.forwardRef((e,s)=>{const{__scopeDialog:r,...n}=e,a=_r(yS,r);return t.jsx(we.p,{id:a.descriptionId,...n,ref:s})});jS.displayName=yS;var bS="DialogClose",wS=m.forwardRef((e,s)=>{const{__scopeDialog:r,...n}=e,a=_r(bS,r);return t.jsx(we.button,{type:"button",...n,ref:s,onClick:Ce(e.onClick,()=>a.onOpenChange(!1))})});wS.displayName=bS;function Kp(e){return e?"open":"closed"}var NS="DialogTitleWarning",[eF,SS]=dE(NS,{contentName:Fa,titleName:Gp,docsSlug:"dialog"}),VD=({titleId:e})=>{const s=SS(NS),r=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},WD="DialogDescriptionWarning",HD=({contentRef:e,descriptionId:s})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${SS(WD).contentName}}.`;return m.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");s&&a&&(document.getElementById(s)||console.warn(n))},[n,e,s]),null},qD=dS,YD=mS,GD=fS,KD=pS,JD=xS,tF=vS,QD=jS,XD=wS;function ZD({...e}){return t.jsx(qD,{"data-slot":"sheet",...e})}function e6({...e}){return t.jsx(YD,{"data-slot":"sheet-trigger",...e})}function t6({...e}){return t.jsx(GD,{"data-slot":"sheet-portal",...e})}function s6({className:e,...s}){return t.jsx(KD,{"data-slot":"sheet-overlay",className:ve("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...s})}function r6({className:e,children:s,side:r="right",...n}){return t.jsxs(t6,{children:[t.jsx(s6,{}),t.jsxs(JD,{"data-slot":"sheet-content",className:ve("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...n,children:[s,t.jsxs(XD,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[t.jsx(Li,{className:"size-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function n6({className:e,...s}){return t.jsx("div",{"data-slot":"sheet-header",className:ve("flex flex-col gap-1.5 p-4",e),...s})}function a6({className:e,...s}){return t.jsx(QD,{"data-slot":"sheet-description",className:ve("text-muted-foreground text-sm",e),...s})}function i6({currentPage:e,onPageChange:s,setupData:r,onSignOut:n,isPropertySetupComplete:a,children:i}){const o=Vd(),[l,c]=m.useState(!1),d=[{id:"overview",label:"Dashboard",icon:xr,description:"Overview & progress",category:"Core"},{id:"property",label:"Property",icon:We,description:"Property details",category:"Core"},{id:"tasks",label:"Tasks",icon:Nh,description:"Track your progress",category:"Core"},{id:"legal",label:"Legal",icon:ep,description:"Legal documents",category:"Transaction Details"},{id:"inspections",label:"Inspections",icon:Ht,description:"Property inspections",category:"Transaction Details"},{id:"insurance",label:"Insurance",icon:us,description:"Home insurance",category:"Transaction Details"},{id:"communications",label:"Messages",icon:bh,description:"Team communications",category:"Services"},{id:"team",label:"Team",icon:fn,description:"Your professionals",category:"Services"},{id:"documents",label:"Documents",icon:Qt,description:"Important documents",category:"Services"},{id:"resources",label:"Resources",icon:Xf,description:"Helpful resources",category:"Services"}],u=[{id:"overview",label:"Dashboard",icon:xr},{id:"property",label:"Property",icon:We},{id:"tasks",label:"Tasks",icon:Nh},{id:"communications",label:"Messages",icon:bh}],f=()=>r!=null&&r.buyerName&&r.buyerName!=="User"?r.buyerName.split(" ").map(w=>w.charAt(0).toUpperCase()+w.slice(1).toLowerCase()).join(" "):"User",p=()=>r!=null&&r.buyerEmail&&r.buyerEmail!=="user@handoff.demo"&&r.buyerEmail!=="guest@handoff.demo"?r.buyerEmail:(r==null?void 0:r.buyerEmail)||"user@handoff.demo",h=w=>!w||w==="User"?"U":w.split(" ").map(k=>k[0]).join("").toUpperCase().slice(0,2),v=(()=>o.getCompletionStatus())(),g=(()=>d.find(k=>k.id===e)||{label:"Dashboard",icon:xr})(),y=g.icon,x=d.reduce((w,k)=>{const C=k.category||"Other";return w[C]||(w[C]=[]),w[C].push(k),w},{}),S={Core:"text-blue-600 bg-blue-50 border-blue-200","Transaction Details":"text-green-600 bg-green-50 border-green-200",Services:"text-gray-600 bg-gray-50 border-gray-200"};return t.jsxs("div",{className:"flex flex-col h-full bg-background",children:[t.jsx("header",{className:"sticky top-0 z-40 bg-card border-b border-border px-4 py-3 safe-area-inset-top",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(ZD,{open:l,onOpenChange:c,children:[t.jsx(e6,{asChild:!0,children:t.jsx($,{variant:"ghost",size:"sm",className:"mobile-button",children:t.jsx(yC,{className:"w-5 h-5"})})}),t.jsx(r6,{side:"left",className:"w-80 p-0",children:t.jsxs("div",{className:"flex flex-col h-full",children:[t.jsx(n6,{className:"p-6 border-b border-border text-left",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("img",{src:wl,alt:"Handoff",className:"h-10 w-auto"}),t.jsx("div",{children:t.jsxs(a6,{className:"flex items-center gap-1 text-xs",children:[t.jsx(Hr,{className:"w-3 h-3"}),"Real Estate Transaction Management"]})})]})}),t.jsxs("div",{className:"p-4 border-b border-border bg-muted/30",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsxs(iS,{className:"h-10 w-10",children:[t.jsx(oS,{src:""}),t.jsx(lS,{className:"bg-primary text-primary-foreground",children:h(f())})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-sm",title:f(),children:f()}),t.jsx("p",{className:"text-xs text-muted-foreground",title:p(),children:p()}),(r==null?void 0:r.displayBadge)&&t.jsx(K,{variant:"secondary",className:"text-xs mt-1",children:r.displayBadge})]})]}),t.jsxs("div",{className:"p-3 bg-card rounded-lg border",children:[t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsx("span",{className:"text-muted-foreground",children:"Setup Progress"}),t.jsxs("span",{className:"font-medium",children:[Math.round(v.percentage),"%"]})]}),t.jsx("div",{className:"mt-1 w-full bg-muted rounded-full h-1.5",children:t.jsx("div",{className:"bg-primary h-1.5 rounded-full transition-all duration-300",style:{width:`${v.percentage}%`}})})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:Object.entries(x).map(([w,k])=>t.jsxs("div",{children:[t.jsxs("div",{className:"mb-3",children:[t.jsx("h3",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider mb-2",children:w}),w==="Core"&&t.jsxs("div",{className:`text-xs p-2 rounded-lg border ${S[w]} mb-3`,children:[t.jsxs("div",{className:"flex items-center gap-1 font-medium mb-1",children:[t.jsx(mn,{className:"w-3 h-3"}),"Core Features"]}),t.jsx("div",{children:"Essential tools for your transaction"})]})]}),t.jsx("div",{className:"space-y-1",children:k.map(C=>{const P=C.icon,N=e===C.id;return t.jsx($,{variant:N?"default":"ghost",className:ve("w-full justify-start h-auto p-3 mobile-button",N&&"bg-primary text-primary-foreground",!N&&"hover:bg-muted"),onClick:()=>{s(C.id),c(!1)},children:t.jsxs("div",{className:"flex items-center gap-3 w-full",children:[t.jsx(P,{className:"h-4 w-4 flex-shrink-0"}),t.jsxs("div",{className:"flex-1 text-left",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium text-sm",children:C.label}),C.badge&&t.jsx(K,{variant:"secondary",className:"text-xs px-1.5 py-0.5",children:C.badge})]}),C.description&&t.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:C.description})]})]})},C.id)})})]},w))}),t.jsxs("div",{className:"p-4 border-t border-border space-y-2",children:[t.jsxs($,{variant:"ghost",className:"w-full justify-start mobile-button",onClick:()=>{s("settings"),c(!1)},children:[t.jsx(Sr,{className:"h-4 w-4 mr-3"}),"Settings"]}),t.jsxs($,{variant:"ghost",className:"w-full justify-start mobile-button text-red-600 hover:text-red-700 hover:bg-red-50",onClick:n,children:[t.jsx(Lb,{className:"h-4 w-4 mr-3"}),"Sign Out"]})]})]})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(y,{className:"w-5 h-5 text-primary"}),t.jsx("h1",{className:"font-medium text-lg",children:g.label})]})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("img",{src:wl,alt:"Handoff",className:"h-6 w-auto"})})]})}),t.jsx("main",{className:"flex-1 overflow-auto mobile-scroll",children:i}),t.jsx("nav",{className:"sticky bottom-0 bg-card border-t border-border px-2 py-2 safe-area-inset-bottom",children:t.jsx("div",{className:"flex items-center justify-around",children:u.map(w=>{const k=w.icon,C=e===w.id;return t.jsxs($,{variant:"ghost",className:ve("flex-1 flex flex-col items-center gap-1 h-auto py-2 px-1 mobile-tab-multiline",C&&"text-primary bg-primary/10"),onClick:()=>s(w.id),children:[t.jsx("div",{className:"relative",children:t.jsx(k,{className:"w-5 h-5"})}),t.jsx("span",{className:"mobile-tab-text-multiline text-xs",children:w.label})]},w.id)})})})]})}const o6=e=>{let s;return e?s=e:typeof fetch>"u"?s=(...r)=>Mt(()=>Promise.resolve().then(()=>Zi),void 0).then(({default:n})=>n(...r)):s=fetch,(...r)=>s(...r)};class Jp extends Error{constructor(s,r="FunctionsError",n){super(s),this.name=r,this.context=n}}class l6 extends Jp{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class By extends Jp{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class Vy extends Jp{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var Bh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Bh||(Bh={}));var c6=globalThis&&globalThis.__awaiter||function(e,s,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,s||[])).next())})};class d6{constructor(s,{headers:r={},customFetch:n,region:a=Bh.Any}={}){this.url=s,this.headers=r,this.region=a,this.fetch=o6(n)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s,r={}){var n;return c6(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${s}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const f=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(v=>{throw new l6(v)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new By(f);if(!f.ok)throw new Vy(f);let h=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),j;return h==="application/json"?j=yield f.json():h==="application/octet-stream"?j=yield f.blob():h==="text/event-stream"?j=f:h==="multipart/form-data"?j=yield f.formData():j=yield f.text(),{data:j,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof Vy||a instanceof By?a.context:void 0}}})}}var Ns={},Qp={},mu={},Bl={},hu={},fu={},u6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wi=u6();const m6=Wi.fetch,kS=Wi.fetch.bind(Wi),_S=Wi.Headers,h6=Wi.Request,f6=Wi.Response,Zi=Object.freeze(Object.defineProperty({__proto__:null,Headers:_S,Request:h6,Response:f6,default:kS,fetch:m6},Symbol.toStringTag,{value:"Module"})),p6=ZS(Zi);var pu={};Object.defineProperty(pu,"__esModule",{value:!0});let x6=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}};pu.default=x6;var AS=Zs&&Zs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fu,"__esModule",{value:!0});const g6=AS(p6),v6=AS(pu);let y6=class{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=g6.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,r){return this.headers=Object.assign({},this.headers),this.headers[s]=r,this}then(s,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let d=null,u=null,f=null,p=i.status,h=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=g:u=JSON.parse(g))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&b&&b.length>1&&(f=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,p=406,h="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const v=await i.text();try{d=JSON.parse(v),Array.isArray(d)&&i.status===404&&(u=[],d=null,p=200,h="OK")}catch{i.status===404&&v===""?(p=204,h="No Content"):d={message:v}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,p=200,h="OK"),d&&this.shouldThrowOnError)throw new v6.default(d)}return{error:d,data:u,count:f,status:p,statusText:h}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(s,r)}returns(){return this}overrideTypes(){return this}};fu.default=y6;var j6=Zs&&Zs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hu,"__esModule",{value:!0});const b6=j6(fu);let w6=class extends b6.default{select(s){let r=!1;const n=(s??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${s}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${s}`),this.url.searchParams.set(o,`${r-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[s?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};hu.default=w6;var N6=Zs&&Zs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bl,"__esModule",{value:!0});const S6=N6(hu);let k6=class extends S6.default{eq(s,r){return this.url.searchParams.append(s,`eq.${r}`),this}neq(s,r){return this.url.searchParams.append(s,`neq.${r}`),this}gt(s,r){return this.url.searchParams.append(s,`gt.${r}`),this}gte(s,r){return this.url.searchParams.append(s,`gte.${r}`),this}lt(s,r){return this.url.searchParams.append(s,`lt.${r}`),this}lte(s,r){return this.url.searchParams.append(s,`lte.${r}`),this}like(s,r){return this.url.searchParams.append(s,`like.${r}`),this}likeAllOf(s,r){return this.url.searchParams.append(s,`like(all).{${r.join(",")}}`),this}likeAnyOf(s,r){return this.url.searchParams.append(s,`like(any).{${r.join(",")}}`),this}ilike(s,r){return this.url.searchParams.append(s,`ilike.${r}`),this}ilikeAllOf(s,r){return this.url.searchParams.append(s,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(s,r){return this.url.searchParams.append(s,`ilike(any).{${r.join(",")}}`),this}is(s,r){return this.url.searchParams.append(s,`is.${r}`),this}in(s,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${n})`),this}contains(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cs.{${r.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(r)}`),this}containedBy(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cd.{${r.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(r)}`),this}rangeGt(s,r){return this.url.searchParams.append(s,`sr.${r}`),this}rangeGte(s,r){return this.url.searchParams.append(s,`nxl.${r}`),this}rangeLt(s,r){return this.url.searchParams.append(s,`sl.${r}`),this}rangeLte(s,r){return this.url.searchParams.append(s,`nxr.${r}`),this}rangeAdjacent(s,r){return this.url.searchParams.append(s,`adj.${r}`),this}overlaps(s,r){return typeof r=="string"?this.url.searchParams.append(s,`ov.${r}`):this.url.searchParams.append(s,`ov.{${r.join(",")}}`),this}textSearch(s,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(s,`${i}fts${o}.${r}`),this}match(s){return Object.entries(s).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(s,r,n){return this.url.searchParams.append(s,`not.${r}.${n}`),this}or(s,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,r,n){return this.url.searchParams.append(s,`${r}.${n}`),this}};Bl.default=k6;var _6=Zs&&Zs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mu,"__esModule",{value:!0});const Do=_6(Bl);let A6=class{constructor(s,{headers:r={},schema:n,fetch:a}){this.url=s,this.headers=r,this.schema=n,this.fetch=a}select(s,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Do.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(s)){const o=s.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Do.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(s)){const c=s.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Do.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new Do.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const r="DELETE",n=[];return s&&n.push(`count=${s}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Do.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};mu.default=A6;var xu={},gu={};Object.defineProperty(gu,"__esModule",{value:!0});gu.version=void 0;gu.version="0.0.0-automated";Object.defineProperty(xu,"__esModule",{value:!0});xu.DEFAULT_HEADERS=void 0;const C6=gu;xu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${C6.version}`};var CS=Zs&&Zs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qp,"__esModule",{value:!0});const P6=CS(mu),T6=CS(Bl),E6=xu;let I6=class PS{constructor(s,{headers:r={},schema:n,fetch:a}={}){this.url=s,this.headers=Object.assign(Object.assign({},E6.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(s){const r=new URL(`${this.url}/${s}`);return new P6.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new PS(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,r={},{head:n=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${s}`);let c;n||a?(o=n?"HEAD":"GET",Object.entries(r).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{l.searchParams.append(u,f)})):(o="POST",c=r);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new T6.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Qp.default=I6;var eo=Zs&&Zs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.PostgrestError=Ns.PostgrestBuilder=Ns.PostgrestTransformBuilder=Ns.PostgrestFilterBuilder=Ns.PostgrestQueryBuilder=Ns.PostgrestClient=void 0;const TS=eo(Qp);Ns.PostgrestClient=TS.default;const ES=eo(mu);Ns.PostgrestQueryBuilder=ES.default;const IS=eo(Bl);Ns.PostgrestFilterBuilder=IS.default;const OS=eo(hu);Ns.PostgrestTransformBuilder=OS.default;const RS=eo(fu);Ns.PostgrestBuilder=RS.default;const MS=eo(pu);Ns.PostgrestError=MS.default;var O6=Ns.default={PostgrestClient:TS.default,PostgrestQueryBuilder:ES.default,PostgrestFilterBuilder:IS.default,PostgrestTransformBuilder:OS.default,PostgrestBuilder:RS.default,PostgrestError:MS.default};const{PostgrestClient:R6,PostgrestQueryBuilder:oF,PostgrestFilterBuilder:lF,PostgrestTransformBuilder:cF,PostgrestBuilder:dF,PostgrestError:uF}=O6;class M6{static detectEnvironment(){var s;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((s=navigator.userAgent)===null||s===void 0)&&s.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const s=this.detectEnvironment();if(s.constructor)return s.constructor;let r=s.error||"WebSocket not supported in this environment.";throw s.workaround&&(r+=`

Suggested solution: ${s.workaround}`),new Error(r)}static createWebSocket(s,r){const n=this.getWebSocketConstructor();return new n(s,r)}static isWebSocketSupported(){try{const s=this.detectEnvironment();return s.type==="native"||s.type==="ws"}catch{return!1}}}const D6="2.15.1",L6=`realtime-js/${D6}`,$6="1.0.0",Vh=1e4,F6=1e3,z6=100;var el;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(el||(el={}));var Lt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Lt||(Lt={}));var ur;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ur||(ur={}));var Wh;(function(e){e.websocket="websocket"})(Wh||(Wh={}));var pa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(pa||(pa={}));class U6{constructor(){this.HEADER_LENGTH=1}decode(s,r){return s.constructor===ArrayBuffer?r(this._binaryDecode(s)):r(typeof s=="string"?JSON.parse(s):{})}_binaryDecode(s){const r=new DataView(s),n=new TextDecoder;return this._decodeBroadcast(s,r,n)}_decodeBroadcast(s,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(s.slice(o,o+a));o=o+a;const c=n.decode(s.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(s.slice(o,s.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class DS{constructor(s,r){this.callback=s,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(nt||(nt={}));const Wy=(e,s,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(s).reduce((i,o)=>(i[o]=B6(o,e,s,a),i),{})},B6=(e,s,r,n)=>{const a=s.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?LS(i,o):Hh(o)},LS=(e,s)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return q6(s,r)}switch(e){case nt.bool:return V6(s);case nt.float4:case nt.float8:case nt.int2:case nt.int4:case nt.int8:case nt.numeric:case nt.oid:return W6(s);case nt.json:case nt.jsonb:return H6(s);case nt.timestamp:return Y6(s);case nt.abstime:case nt.date:case nt.daterange:case nt.int4range:case nt.int8range:case nt.money:case nt.reltime:case nt.text:case nt.time:case nt.timestamptz:case nt.timetz:case nt.tsrange:case nt.tstzrange:return Hh(s);default:return Hh(s)}},Hh=e=>e,V6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},W6=e=>{if(typeof e=="string"){const s=parseFloat(e);if(!Number.isNaN(s))return s}return e},H6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(s){return console.log(`JSON parse error: ${s}`),e}return e},q6=(e,s)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>LS(s,l))}return e},Y6=e=>typeof e=="string"?e.replace(" ","T"):e,$S=e=>{let s=e;return s=s.replace(/^ws/i,"http"),s=s.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),s.replace(/\/+$/,"")+"/api/broadcast"};class ym{constructor(s,r,n={},a=Vh){this.channel=s,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,r){var n;return this._hasReceived(s)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:s,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:r}){this.recHooks.filter(n=>n.status===s).forEach(n=>n.callback(r))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var Hy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Hy||(Hy={}));class tl{constructor(s,r){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=tl.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=tl.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=tl.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,r,n,a){const i=this.cloneDeep(s),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const f=i[d];if(f){const p=u.map(b=>b.presence_ref),h=f.map(b=>b.presence_ref),j=u.filter(b=>h.indexOf(b.presence_ref)<0),v=f.filter(b=>p.indexOf(b.presence_ref)<0);j.length>0&&(l[d]=j),v.length>0&&(c[d]=v)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(s,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=s[l])!==null&&d!==void 0?d:[];if(s[l]=this.cloneDeep(c),u.length>0){const f=s[l].map(h=>h.presence_ref),p=u.filter(h=>f.indexOf(h.presence_ref)<0);s[l].unshift(...p)}n(l,u,c)}),this.map(o,(l,c)=>{let d=s[l];if(!d)return;const u=c.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),s[l]=d,a(l,d,c),d.length===0&&delete s[l]}),s}static map(s,r){return Object.getOwnPropertyNames(s).map(n=>r(n,s[n]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((r,n)=>{const a=s[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(qy||(qy={}));var sl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(sl||(sl={}));var tn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(tn||(tn={}));class Xp{constructor(s,r={config:{}},n){this.topic=s,this.params=r,this.socket=n,this.bindings={},this.state=Lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ym(this,ur.join,this.params,this.timeout),this.rejoinTimer=new DS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Lt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ur.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new tl(this),this.broadcastEndpointURL=$S(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(s,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Lt.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params,c=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[sl.PRESENCE]&&this.bindings[sl.PRESENCE].length>0,u={},f={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(p=>s==null?void 0:s(tn.CHANNEL_ERROR,p)),this._onClose(()=>s==null?void 0:s(tn.CLOSED)),this.updateJoinPayload(Object.assign({config:f},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var h;if(this.socket.setAuth(),p===void 0){s==null||s(tn.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,v=(h=j==null?void 0:j.length)!==null&&h!==void 0?h:0,b=[];for(let g=0;g<v;g++){const y=j[g],{filter:{event:x,schema:S,table:w,filter:k}}=y,C=p&&p[g];if(C&&C.event===x&&C.schema===S&&C.table===w&&C.filter===k)b.push(Object.assign(Object.assign({},y),{id:C.id}));else{this.unsubscribe(),this.state=Lt.errored,s==null||s(tn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,s&&s(tn.SUBSCRIBED);return}}).receive("error",p=>{this.state=Lt.errored,s==null||s(tn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{s==null||s(tn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,r={}){return await this.send({type:"presence",event:"track",payload:s},r.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,r,n){return this.state===Lt.joined&&s===sl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(s,r,n)}async send(s,r={}){var n,a;if(!this._canPush()&&s.type==="broadcast"){const{event:i,payload:o}=s,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(s.type,s,r.timeout||this.timeout);s.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=Lt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ur.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new ym(this,ur.leave,{},s),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(s=>s.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Lt.closed,this.bindings={}}async _fetchWithTimeout(s,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(s,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(s,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new ym(this,s,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(s){if(s.startTimeout(),this.pushBuffer.push(s),this.pushBuffer.length>z6){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(s,r,n){return r}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,r,n){var a,i;const o=s.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=ur;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(h=>{var j,v,b;return((j=h.filter)===null||j===void 0?void 0:j.event)==="*"||((b=(v=h.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(h=>h.callback(p,n)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var j,v,b,g,y,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const S=h.id,w=(j=h.filter)===null||j===void 0?void 0:j.event;return S&&((v=r.ids)===null||v===void 0?void 0:v.includes(S))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(y=(g=h==null?void 0:h.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof p=="object"&&"ids"in p){const j=p.data,{schema:v,table:b,commit_timestamp:g,type:y,errors:x}=j;p=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:g,eventType:y,new:{},old:{},errors:x}),this._getPayloadRecords(j))}h.callback(p,n)})}_isClosed(){return this.state===Lt.closed}_isJoined(){return this.state===Lt.joined}_isJoining(){return this.state===Lt.joining}_isLeaving(){return this.state===Lt.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,r,n){const a=s.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(s,r){const n=s.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Xp.isEqual(a.filter,r))})),this}static isEqual(s,r){if(Object.keys(s).length!==Object.keys(r).length)return!1;for(const n in s)if(s[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(ur.close,{},s)}_onError(s){this._on(ur.error,{},r=>s(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Lt.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const r={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(r.new=Wy(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(r.old=Wy(s.columns,s.old_record)),r}}const Yy=()=>{},vc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},G6=[1e3,2e3,5e3,1e4],K6=1e4,J6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Q6{constructor(s,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Vh,this.transport=null,this.heartbeatIntervalMs=vc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yy,this.ref=0,this.reconnectTimer=null,this.logger=Yy,this.conn=null,this.sendBuffer=[],this.serializer=new U6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>Mt(()=>Promise.resolve().then(()=>Zi),void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${s}/${Wh.websocket}`,this.httpEndpoint=$S(s),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=M6.createWebSocket(this.endpointURL())}catch(s){this._setConnectionState("disconnected");const r=s.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$6}))}disconnect(s,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},s?this.conn.close(s,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(s){const r=await s.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const s=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),s}log(s,r,n){this.logger(s,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case el.connecting:return pa.Connecting;case el.open:return pa.Open;case el.closing:return pa.Closing;default:return pa.Closed}}isConnected(){return this.connectionState()===pa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(s,r={config:{}}){const n=`realtime:${s}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Xp(`realtime:${s}`,r,this);return this.channels.push(i),i}}push(s){const{topic:r,event:n,payload:a,ref:i}=s,o=()=>{this.encode(s,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(s=null){this._authPromise=this._performAuth(s);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var s;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(s=this.conn)===null||s===void 0||s.close(F6,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},vc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(s){this.heartbeatCallback=s}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let r=this.channels.find(n=>n.topic===s&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${s}"`),r.unsubscribe())}_remove(s){this.channels=this.channels.filter(r=>r.topic!==s.topic)}_onConnMessage(s){this.decode(s.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(s){var r;s==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):s==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(s=>s.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(s){var r;this._setConnectionState("disconnected"),this.log("transport","close",s),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",s)}_onConnError(s){this._setConnectionState("disconnected"),this.log("transport",`${s}`),this._triggerChanError(),this._triggerStateCallbacks("error",s)}_triggerChanError(){this.channels.forEach(s=>s._trigger(ur.error))}_appendParams(s,r){if(Object.keys(r).length===0)return s;const n=s.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${s}${n}${a}`}_workerObjectUrl(s){let r;if(s)r=s;else{const n=new Blob([J6],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(s,r=!1){this._connectionState=s,s==="connecting"?this._wasManualDisconnect=!1:s==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(s=null){let r;s?r=s:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:L6};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(ur.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(s="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${s}`,r)})}_triggerStateCallbacks(s,r){try{this.stateChangeCallbacks[s].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${s} callback`,a)}})}catch(n){this.log("error",`error triggering ${s} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new DS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(s){var r,n,a,i,o,l,c,d;if(this.transport=(r=s==null?void 0:s.transport)!==null&&r!==void 0?r:null,this.timeout=(n=s==null?void 0:s.timeout)!==null&&n!==void 0?n:Vh,this.heartbeatIntervalMs=(a=s==null?void 0:s.heartbeatIntervalMs)!==null&&a!==void 0?a:vc.HEARTBEAT_INTERVAL,this.worker=(i=s==null?void 0:s.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=s==null?void 0:s.accessToken)!==null&&o!==void 0?o:null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=s==null?void 0:s.reconnectAfterMs)!==null&&l!==void 0?l:u=>G6[u-1]||K6,this.encode=(c=s==null?void 0:s.encode)!==null&&c!==void 0?c:(u,f)=>f(JSON.stringify(u)),this.decode=(d=s==null?void 0:s.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=s==null?void 0:s.workerUrl}}}class Zp extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}}function $t(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class X6 extends Zp{constructor(s,r,n){super(s),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qh extends Zp{constructor(s,r){super(s),this.name="StorageUnknownError",this.originalError=r}}var Z6=globalThis&&globalThis.__awaiter||function(e,s,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,s||[])).next())})};const FS=e=>{let s;return e?s=e:typeof fetch>"u"?s=(...r)=>Mt(()=>Promise.resolve().then(()=>Zi),void 0).then(({default:n})=>n(...r)):s=fetch,(...r)=>s(...r)},eL=()=>Z6(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Mt(()=>Promise.resolve().then(()=>Zi),void 0)).Response:Response}),Yh=e=>{if(Array.isArray(e))return e.map(r=>Yh(r));if(typeof e=="function"||e!==Object(e))return e;const s={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));s[a]=Yh(n)}),s},tL=e=>{if(typeof e!="object"||e===null)return!1;const s=Object.getPrototypeOf(e);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ba=globalThis&&globalThis.__awaiter||function(e,s,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,s||[])).next())})};const jm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sL=(e,s,r)=>Ba(void 0,void 0,void 0,function*(){const n=yield eL();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";s(new X6(jm(a),i,o))}).catch(a=>{s(new qh(jm(a),a))}):s(new qh(jm(e),e))}),rL=(e,s,r,n)=>{const a={method:e,headers:(s==null?void 0:s.headers)||{}};return e==="GET"||!n?a:(tL(n)?(a.headers=Object.assign({"Content-Type":"application/json"},s==null?void 0:s.headers),a.body=JSON.stringify(n)):a.body=n,s!=null&&s.duplex&&(a.duplex=s.duplex),Object.assign(Object.assign({},a),r))};function Vl(e,s,r,n,a,i){return Ba(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,rL(s,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>sL(c,l,n))})})}function Sd(e,s,r,n){return Ba(this,void 0,void 0,function*(){return Vl(e,"GET",s,r,n)})}function Or(e,s,r,n,a){return Ba(this,void 0,void 0,function*(){return Vl(e,"POST",s,n,a,r)})}function Gh(e,s,r,n,a){return Ba(this,void 0,void 0,function*(){return Vl(e,"PUT",s,n,a,r)})}function nL(e,s,r,n){return Ba(this,void 0,void 0,function*(){return Vl(e,"HEAD",s,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function zS(e,s,r,n,a){return Ba(this,void 0,void 0,function*(){return Vl(e,"DELETE",s,n,a,r)})}var fs=globalThis&&globalThis.__awaiter||function(e,s,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,s||[])).next())})};const aL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class iL{constructor(s,r={},n,a){this.url=s,this.headers=r,this.bucketId=n,this.fetch=FS(a)}uploadOrUpdate(s,r,n,a){return fs(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Gy),a);let l=Object.assign(Object.assign({},this.headers),s==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),f=yield(s=="PUT"?Gh:Or)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:f.Id,fullPath:f.Key},error:null}}catch(i){if($t(i))return{data:null,error:i};throw i}})}upload(s,r,n){return fs(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",s,r,n)})}uploadToSignedUrl(s,r,n,a){return fs(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(s),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:Gy.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield Gh(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if($t(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(s,r){return fs(this,void 0,void 0,function*(){try{let n=this._getFinalPath(s);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Or(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Zp("No token returned by API");return{data:{signedUrl:o.toString(),path:s,token:l},error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}})}update(s,r,n){return fs(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",s,r,n)})}move(s,r,n){return fs(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:s,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if($t(a))return{data:null,error:a};throw a}})}copy(s,r,n){return fs(this,void 0,void 0,function*(){try{return{data:{path:(yield Or(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:s,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if($t(a))return{data:null,error:a};throw a}})}createSignedUrl(s,r,n){return fs(this,void 0,void 0,function*(){try{let a=this._getFinalPath(s),i=yield Or(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if($t(a))return{data:null,error:a};throw a}})}createSignedUrls(s,r,n){return fs(this,void 0,void 0,function*(){try{const a=yield Or(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:s},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if($t(a))return{data:null,error:a};throw a}})}download(s,r){return fs(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(s);return{data:yield(yield Sd(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if($t(l))return{data:null,error:l};throw l}})}info(s){return fs(this,void 0,void 0,function*(){const r=this._getFinalPath(s);try{const n=yield Sd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Yh(n),error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}})}exists(s){return fs(this,void 0,void 0,function*(){const r=this._getFinalPath(s);try{return yield nL(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if($t(n)&&n instanceof qh){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(s,r){const n=this._getFinalPath(s),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(s){return fs(this,void 0,void 0,function*(){try{return{data:yield zS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:s},{headers:this.headers}),error:null}}catch(r){if($t(r))return{data:null,error:r};throw r}})}list(s,r,n){return fs(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},aL),r),{prefix:s||""});return{data:yield Or(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if($t(a))return{data:null,error:a};throw a}})}listV2(s,r){return fs(this,void 0,void 0,function*(){try{const n=Object.assign({},s);return{data:yield Or(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const r=[];return s.width&&r.push(`width=${s.width}`),s.height&&r.push(`height=${s.height}`),s.resize&&r.push(`resize=${s.resize}`),s.format&&r.push(`format=${s.format}`),s.quality&&r.push(`quality=${s.quality}`),r.join("&")}}const oL="2.11.0",lL={"X-Client-Info":`storage-js/${oL}`};var Qa=globalThis&&globalThis.__awaiter||function(e,s,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,s||[])).next())})};class cL{constructor(s,r={},n,a){const i=new URL(s);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},lL),r),this.fetch=FS(n)}listBuckets(){return Qa(this,void 0,void 0,function*(){try{return{data:yield Sd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(s){if($t(s))return{data:null,error:s};throw s}})}getBucket(s){return Qa(this,void 0,void 0,function*(){try{return{data:yield Sd(this.fetch,`${this.url}/bucket/${s}`,{headers:this.headers}),error:null}}catch(r){if($t(r))return{data:null,error:r};throw r}})}createBucket(s,r={public:!1}){return Qa(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}})}updateBucket(s,r){return Qa(this,void 0,void 0,function*(){try{return{data:yield Gh(this.fetch,`${this.url}/bucket/${s}`,{id:s,name:s,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}})}emptyBucket(s){return Qa(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/bucket/${s}/empty`,{},{headers:this.headers}),error:null}}catch(r){if($t(r))return{data:null,error:r};throw r}})}deleteBucket(s){return Qa(this,void 0,void 0,function*(){try{return{data:yield zS(this.fetch,`${this.url}/bucket/${s}`,{},{headers:this.headers}),error:null}}catch(r){if($t(r))return{data:null,error:r};throw r}})}}class dL extends cL{constructor(s,r={},n,a){super(s,r,n,a)}from(s){return new iL(this.url,this.headers,s,this.fetch)}}const uL="2.55.0";let Vo="";typeof Deno<"u"?Vo="deno":typeof document<"u"?Vo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vo="react-native":Vo="node";const mL={"X-Client-Info":`supabase-js-${Vo}/${uL}`},hL={headers:mL},fL={schema:"public"},pL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xL={};var gL=globalThis&&globalThis.__awaiter||function(e,s,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,s||[])).next())})};const vL=e=>{let s;return e?s=e:typeof fetch>"u"?s=kS:s=fetch,(...r)=>s(...r)},yL=()=>typeof Headers>"u"?_S:Headers,jL=(e,s,r)=>{const n=vL(r),a=yL();return(i,o)=>gL(void 0,void 0,void 0,function*(){var l;const c=(l=yield s())!==null&&l!==void 0?l:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var bL=globalThis&&globalThis.__awaiter||function(e,s,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,s||[])).next())})};function wL(e){return e.endsWith("/")?e:e+"/"}function NL(e,s){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:f}=s,p={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>bL(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}const US="2.71.1",ni=30*1e3,Kh=3,bm=Kh*ni,SL="http://localhost:9999",kL="supabase.auth.token",_L={"X-Client-Info":`gotrue-js/${US}`},Jh="X-Supabase-Api-Version",BS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},AL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,CL=10*60*1e3;class ex extends Error{constructor(s,r,n){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Me(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class PL extends ex{constructor(s,r,n){super(s,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function TL(e){return Me(e)&&e.name==="AuthApiError"}class VS extends ex{constructor(s,r){super(s),this.name="AuthUnknownError",this.originalError=r}}class oa extends ex{constructor(s,r,n,a){super(s,n,a),this.name=r,this.status=n}}class Tn extends oa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function EL(e){return Me(e)&&e.name==="AuthSessionMissingError"}class yc extends oa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class jc extends oa{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class bc extends oa{constructor(s,r=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function IL(e){return Me(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ky extends oa{constructor(s,r=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qh extends oa{constructor(s,r){super(s,"AuthRetryableFetchError",r,void 0)}}function wm(e){return Me(e)&&e.name==="AuthRetryableFetchError"}class Jy extends oa{constructor(s,r,n){super(s,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Xh extends oa{constructor(s){super(s,"AuthInvalidJwtError",400,"invalid_jwt")}}const kd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qy=` 	
\r=`.split(""),OL=(()=>{const e=new Array(128);for(let s=0;s<e.length;s+=1)e[s]=-1;for(let s=0;s<Qy.length;s+=1)e[Qy[s].charCodeAt(0)]=-2;for(let s=0;s<kd.length;s+=1)e[kd[s].charCodeAt(0)]=s;return e})();function Xy(e,s,r){if(e!==null)for(s.queue=s.queue<<8|e,s.queuedBits+=8;s.queuedBits>=6;){const n=s.queue>>s.queuedBits-6&63;r(kd[n]),s.queuedBits-=6}else if(s.queuedBits>0)for(s.queue=s.queue<<6-s.queuedBits,s.queuedBits=6;s.queuedBits>=6;){const n=s.queue>>s.queuedBits-6&63;r(kd[n]),s.queuedBits-=6}}function WS(e,s,r){const n=OL[e];if(n>-1)for(s.queue=s.queue<<6|n,s.queuedBits+=6;s.queuedBits>=8;)r(s.queue>>s.queuedBits-8&255),s.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Zy(e){const s=[],r=o=>{s.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{DL(o,n,r)};for(let o=0;o<e.length;o+=1)WS(e.charCodeAt(o),a,i);return s.join("")}function RL(e,s){if(e<=127){s(e);return}else if(e<=2047){s(192|e>>6),s(128|e&63);return}else if(e<=65535){s(224|e>>12),s(128|e>>6&63),s(128|e&63);return}else if(e<=1114111){s(240|e>>18),s(128|e>>12&63),s(128|e>>6&63),s(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ML(e,s){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}RL(n,s)}}function DL(e,s,r){if(s.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){s.utf8seq=n;break}if(s.utf8seq===2)s.codepoint=e&31;else if(s.utf8seq===3)s.codepoint=e&15;else if(s.utf8seq===4)s.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");s.utf8seq-=1}else if(s.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");s.codepoint=s.codepoint<<6|e&63,s.utf8seq-=1,s.utf8seq===0&&r(s.codepoint)}}function LL(e){const s=[],r={queue:0,queuedBits:0},n=a=>{s.push(a)};for(let a=0;a<e.length;a+=1)WS(e.charCodeAt(a),r,n);return new Uint8Array(s)}function $L(e){const s=[];return ML(e,r=>s.push(r)),new Uint8Array(s)}function FL(e){const s=[],r={queue:0,queuedBits:0},n=a=>{s.push(a)};return e.forEach(a=>Xy(a,r,n)),Xy(null,r,n),s.join("")}function zL(e){return Math.round(Date.now()/1e3)+e}function UL(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const s=Math.random()*16|0;return(e=="x"?s:s&3|8).toString(16)})}const ir=()=>typeof window<"u"&&typeof document<"u",ca={tested:!1,writable:!1},HS=()=>{if(!ir())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ca.tested)return ca.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ca.tested=!0,ca.writable=!0}catch{ca.tested=!0,ca.writable=!1}return ca.writable};function BL(e){const s={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{s[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{s[a]=n}),s}const qS=e=>{let s;return e?s=e:typeof fetch>"u"?s=(...r)=>Mt(()=>Promise.resolve().then(()=>Zi),void 0).then(({default:n})=>n(...r)):s=fetch,(...r)=>s(...r)},VL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ai=async(e,s,r)=>{await e.setItem(s,JSON.stringify(r))},da=async(e,s)=>{const r=await e.getItem(s);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Cn=async(e,s)=>{await e.removeItem(s)};class vu{constructor(){this.promise=new vu.promiseConstructor((s,r)=>{this.resolve=s,this.reject=r})}}vu.promiseConstructor=Promise;function Nm(e){const s=e.split(".");if(s.length!==3)throw new Xh("Invalid JWT structure");for(let n=0;n<s.length;n++)if(!AL.test(s[n]))throw new Xh("JWT not in base64url format");return{header:JSON.parse(Zy(s[0])),payload:JSON.parse(Zy(s[1])),signature:LL(s[2]),raw:{header:s[0],payload:s[1]}}}async function WL(e){return await new Promise(s=>{setTimeout(()=>s(null),e)})}function HL(e,s){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!s(i,null,o)){n(o);return}}catch(o){if(!s(i,o)){a(o);return}}})()})}function qL(e){return("0"+e.toString(16)).substr(-2)}function YL(){const s=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(s),Array.from(s,qL).join("")}async function GL(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function KL(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await GL(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xa(e,s,r=!1){const n=YL();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await ai(e,`${s}-code-verifier`,a);const i=await KL(n);return[i,n===i?"plain":"s256"]}const JL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function QL(e){const s=e.headers.get(Jh);if(!s||!s.match(JL))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}function XL(e){if(!e)throw new Error("Missing exp claim");const s=Math.floor(Date.now()/1e3);if(e<=s)throw new Error("JWT has expired")}function ZL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const e$=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Za(e){if(!e$.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Sm(){const e={};return new Proxy(e,{get:(s,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(s,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(s,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ej(e){return JSON.parse(JSON.stringify(e))}var t$=globalThis&&globalThis.__rest||function(e,s){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&s.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)s.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const fa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),s$=[502,503,504];async function tj(e){var s;if(!VL(e))throw new Qh(fa(e),0);if(s$.includes(e.status))throw new Qh(fa(e),e.status);let r;try{r=await e.json()}catch(i){throw new VS(fa(i),i)}let n;const a=QL(e);if(a&&a.getTime()>=BS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Jy(fa(r),e.status,((s=r.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(n==="session_not_found")throw new Tn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Jy(fa(r),e.status,r.weak_password.reasons);throw new PL(fa(r),e.status||500,n)}const r$=(e,s,r,n)=>{const a={method:e,headers:(s==null?void 0:s.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s==null?void 0:s.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Be(e,s,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[Jh]||(i[Jh]=BS["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await n$(e,s,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function n$(e,s,r,n,a,i){const o=r$(s,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Qh(fa(c),0)}if(l.ok||await tj(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await tj(c)}}function Zr(e){var s;let r=null;l$(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=zL(e.expires_in)));const n=(s=e.user)!==null&&s!==void 0?s:e;return{data:{session:r,user:n},error:null}}function sj(e){const s=Zr(e);return!s.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(s.data.weak_password=e.weak_password),s}function Dn(e){var s;return{data:{user:(s=e.user)!==null&&s!==void 0?s:e},error:null}}function a$(e){return{data:e,error:null}}function i$(e){const{action_link:s,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=t$(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:s,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function o$(e){return e}function l$(e){return e.access_token&&e.refresh_token&&e.expires_in}const km=["global","local","others"];var c$=globalThis&&globalThis.__rest||function(e,s){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&s.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)s.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class d${constructor({url:s="",headers:r={},fetch:n}){this.url=s,this.headers=r,this.fetch=qS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(s,r=km[0]){if(km.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${km.join(", ")}`);try{return await Be(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async inviteUserByEmail(s,r={}){try{return await Be(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Dn})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async generateLink(s){try{const{options:r}=s,n=c$(s,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:i$,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Me(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(s){try{return await Be(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:Dn})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async listUsers(s){var r,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=s==null?void 0:s.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=s==null?void 0:s.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:o$});if(u.error)throw u.error;const f=await u.json(),p=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(j=>{const v=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(j.split(";")[1].split("=")[1]);d[`${b}Page`]=v}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(Me(d))return{data:{users:[]},error:d};throw d}}async getUserById(s){Za(s);try{return await Be(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:Dn})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async updateUserById(s,r){Za(s);try{return await Be(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:r,headers:this.headers,xform:Dn})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async deleteUser(s,r=!1){Za(s);try{return await Be(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:r},xform:Dn})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async _listFactors(s){Za(s.userId);try{const{data:r,error:n}=await Be(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _deleteFactor(s){Za(s.userId),Za(s.id);try{return{data:await Be(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}}function rj(e={}){return{getItem:s=>e[s]||null,setItem:(s,r)=>{e[s]=r},removeItem:s=>{delete e[s]}}}function u$(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ei={debug:!!(globalThis&&HS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class YS extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class m$ extends YS{}async function h$(e,s,r){ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,s);const n=new globalThis.AbortController;return s>0&&setTimeout(()=>{n.abort(),ei.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},s),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(s===0)throw ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new m$(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ei.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}u$();const f$={url:SL,storageKey:kL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_L,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function nj(e,s,r){return await r()}const ti={};class _l{constructor(s){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=_l.nextInstanceID,_l.nextInstanceID+=1,this.instanceID>0&&ir()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},f$),s);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new d$({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=qS(a.fetch),this.lock=a.lock||nj,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:ir()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=h$:this.lock=nj,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:HS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rj(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=rj(this.memoryStorage)),ir()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var s,r;return(r=(s=ti[this.storageKey])===null||s===void 0?void 0:s.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(s){ti[this.storageKey]=Object.assign(Object.assign({},ti[this.storageKey]),{jwks:s})}get jwks_cached_at(){var s,r;return(r=(s=ti[this.storageKey])===null||s===void 0?void 0:s.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(s){ti[this.storageKey]=Object.assign(Object.assign({},ti[this.storageKey]),{cachedAt:s})}_debug(...s){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${US}) ${new Date().toISOString()}`,...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{const r=BL(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ir()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),IL(i)){const c=(s=i.details)===null||s===void 0?void 0:s.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Me(r)?{error:r}:{error:new VS("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var r,n,a;try{const i=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=s==null?void 0:s.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=s==null?void 0:s.options)===null||a===void 0?void 0:a.captchaToken}},xform:Zr}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Me(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(s){var r,n,a;try{let i;if("email"in s){const{email:u,password:f,options:p}=s;let h=null,j=null;this.flowType==="pkce"&&([h,j]=await Xa(this.storage,this.storageKey)),i=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:j},xform:Zr})}else if("phone"in s){const{phone:u,password:f,options:p}=s;i=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(a=p==null?void 0:p.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Zr})}else throw new jc("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Me(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(s){try{let r;if("email"in s){const{email:i,password:o,options:l}=s;r=await Be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:sj})}else if("phone"in s){const{phone:i,password:o,options:l}=s;r=await Be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:sj})}else throw new jc("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new yc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Me(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(s){var r,n,a,i;return await this._handleProviderSignIn(s.provider,{redirectTo:(r=s.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=s.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=s.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=s.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(s))}async signInWithWeb3(s){const{chain:r}=s;if(r==="solana")return await this.signInWithSolana(s);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(s){var r,n,a,i,o,l,c,d,u,f,p,h;let j,v;if("message"in s)j=s.message,v=s.signature;else{const{chain:b,wallet:g,statement:y,options:x}=s;let S;if(ir())if(typeof g=="object")S=g;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))S=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=g}const w=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const k=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),y?{statement:y}:null));let C;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")C=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)C=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)j=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),v=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${w.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(a=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((d=x==null?void 0:x.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(u=x==null?void 0:x.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const k=await S.signMessage(new TextEncoder().encode(j),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=k}}try{const{data:b,error:g}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:FL(v)},!((p=s.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=s.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Zr});if(g)throw g;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new yc}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:g})}catch(b){if(Me(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(s){const r=await da(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:n},xform:Zr});if(await Cn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new yc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Me(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(s){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=s,l=await Be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Zr}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new yc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(Me(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(s){var r,n,a,i,o;try{if("email"in s){const{email:l,options:c}=s;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Xa(this.storage,this.storageKey));const{error:f}=await Be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in s){const{phone:l,options:c}=s,{data:d,error:u}=await Be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new jc("You must provide either an email or phone number.")}catch(l){if(Me(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(s){var r,n;try{let a,i;"options"in s&&(a=(r=s.options)===null||r===void 0?void 0:r.redirectTo,i=(n=s.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Zr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Me(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(s){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Xa(this.storage,this.storageKey)),await Be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(n=(r=s.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=s==null?void 0:s.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:a$})}catch(i){if(Me(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:r},error:n}=s;if(n)throw n;if(!r)throw new Tn;const{error:a}=await Be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(s){if(Me(s))return{data:{user:null,session:null},error:s};throw s}}async resend(s){try{const r=`${this.url}/resend`;if("email"in s){const{email:n,type:a,options:i}=s,{error:o}=await Be(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in s){const{phone:n,type:a,options:i}=s,{data:o,error:l}=await Be(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new jc("You must provide either an email or phone number and a type")}catch(r){if(Me(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(s,r){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await s(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const r=await da(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?s=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const n=s.expires_at?s.expires_at*1e3-Date.now()<bm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",s.expires_at),!n){if(this.userStorage){const o=await da(this.userStorage,this.storageKey+"-user");o!=null&&o.user?s.user=o.user:s.user=Sm()}if(this.storage.isServer&&s.user){let o=this.suppressGetSessionWarning;s=new Proxy(s,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:s},error:null}}const{session:a,error:i}=await this._callRefreshToken(s.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(s){return s?await this._getUser(s):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(s){try{return s?await Be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:Dn}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tn}:await Be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Dn})})}catch(r){if(Me(r))return EL(r)&&(await this._removeSession(),await Cn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(s,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(s,r))}async _updateUser(s,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Tn;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&s.email!=null&&([l,c]=await Xa(this.storage,this.storageKey));const{data:d,error:u}=await Be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Dn});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async setSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new Tn;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Nm(s.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(s.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(s.access_token);if(c)throw c;i={access_token:s.access_token,refresh_token:s.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Me(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async r=>{var n;if(!s){const{data:o,error:l}=r;if(l)throw l;s=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(s!=null&&s.refresh_token))throw new Tn;const{session:a,error:i}=await this._callRefreshToken(s.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Me(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(s,r){try{if(!ir())throw new bc("No browser detected.");if(s.error||s.error_description||s.error_code)throw new bc(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ky("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new Ky("No code detected.");const{data:y,error:x}=await this._exchangeCodeForSession(s.code);if(x)throw x;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=s;if(!i||!l||!o||!d)throw new bc("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(l);let p=u+f;c&&(p=parseInt(c));const h=p-u;h*1e3<=ni&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const j=p-f;u-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,p,u):u-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,p,u);const{data:v,error:b}=await this._getUser(i);if(b)throw b;const g={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:p,refresh_token:o,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:s.type},error:null}}catch(n){if(Me(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(s){return!!(s.access_token||s.error_description)}async _isPKCECallback(s){const r=await da(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&r)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,s);if(l&&!(TL(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return s!=="others"&&(await this._removeSession(),await Cn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(s){const r=UL(),n={id:r,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(s){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(s))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",s,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(s))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",i),console.error(i)}})}async resetPasswordForEmail(s,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Xa(this.storage,this.storageKey,!0));try{return await Be(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Me(i))return{data:null,error:i};throw i}}async getUserIdentities(){var s;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(s=r.user.identities)!==null&&s!==void 0?s:[]},error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async linkIdentity(s){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:f,error:p}=i;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(o=s.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=s.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=s.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Be(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return ir()&&!(!((r=s.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:s.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Me(n))return{data:{provider:s.provider,url:null},error:n};throw n}}async unlinkIdentity(s){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Be(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _refreshAccessToken(s){const r=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await HL(async a=>(a>0&&await WL(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:Zr})),(a,i)=>{const o=200*Math.pow(2,a);return i&&wm(i)&&Date.now()+o-n<ni})}catch(n){if(this._debug(r,"error",n),Me(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",r,"url",n),ir()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:s,url:n},error:null}}async _recoverAndRefresh(){var s,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await da(this.storage,this.storageKey);if(a&&this.userStorage){let o=await da(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await ai(this.userStorage,this.storageKey+"-user",o)),a.user=(s=o==null?void 0:o.user)!==null&&s!==void 0?s:Sm()}else if(a&&!a.user&&!a.user){const o=await da(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Cn(this.storage,this.storageKey+"-user"),await ai(this.storage,this.storageKey,a)):a.user=Sm()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<bm;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${bm}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),wm(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(s){var r,n;if(!s)throw new Tn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new vu;const{data:i,error:o}=await this._refreshAccessToken(s);if(o)throw o;if(!i.session)throw new Tn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Me(i)){const o={session:null,error:i};return wm(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(s,r,n=!0){const a=`#_notifyAllSubscribers(${s})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:s,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(s,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0;const r=Object.assign({},s),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ai(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=ej(a);await ai(this.storage,this.storageKey,i)}else{const a=ej(r);await ai(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Cn(this.storage,this.storageKey),await Cn(this.storage,this.storageKey+"-code-verifier"),await Cn(this.storage,this.storageKey+"-user"),this.userStorage&&await Cn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&ir()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",s)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),ni);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-s)/ni);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ni}ms, refresh threshold is ${Kh} ticks`),a<=Kh&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof YS)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ir()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const r=`#_onVisibilityChanged(${s})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Xa(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${s}?${a.join("&")}`}async _unenroll(s){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Be(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _enroll(s){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:{issuer:s.issuer}),{data:c,error:d}=await Be(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(s.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _verify(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await Be(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:{code:s.code,challenge_id:s.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Me(r))return{data:null,error:r};throw r}})}async _challenge(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Be(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:{channel:s.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Me(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(s){const{data:r,error:n}=await this._challenge({factorId:s.factorId});return n?{data:null,error:n}:await this._verify({factorId:s.factorId,challengeId:r.id,code:s.code})}async _listFactors(){const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(s==null?void 0:s.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async s=>{var r,n;const{data:{session:a},error:i}=s;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Nm(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(s,r={keys:[]}){let n=r.keys.find(l=>l.kid===s);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===s),n&&this.jwks_cached_at+CL>a)return n;const{data:i,error:o}=await Be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===s),!n)?null:n}async getClaims(s,r={}){try{let n=s;if(!n){const{data:h,error:j}=await this.getSession();if(j||!h.session)return{data:null,error:j};n=h.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Nm(n);r!=null&&r.allowExpired||XL(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:i,header:a,signature:o},error:null}}const u=ZL(a.alg),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,$L(`${l}.${c}`)))throw new Xh("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}}_l.nextInstanceID=0;const p$=_l;class x$ extends p${constructor(s){super(s)}}var g$=globalThis&&globalThis.__awaiter||function(e,s,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(f){o(f)}}function c(u){try{d(n.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,s||[])).next())})};class v${constructor(s,r,n){var a,i,o;if(this.supabaseUrl=s,this.supabaseKey=r,!s)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=wL(s),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:fL,realtime:xL,auth:Object.assign(Object.assign({},pL),{storageKey:d}),global:hL},f=NL(n??{},u);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=jL(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new R6(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new dL(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new d6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,r={},n={}){return this.rest.rpc(s,r,n)}channel(s,r={config:{}}){return this.realtime.channel(s,r)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var s,r;return g$(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(s=n.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:o,lock:l,debug:c},d,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new x$({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:i,autoRefreshToken:s,persistSession:r,detectSessionInUrl:n,storage:a,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(s){return new Q6(this.realtimeUrl.href,Object.assign(Object.assign({},s),{params:Object.assign({apikey:this.supabaseKey},s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(s,r,n){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:s==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const y$=(e,s,r)=>new v$(e,s,r);function j$(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const s=e.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}j$()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Is=y$(`https://${De}.supabase.co`,Te,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce",storage:{getItem:e=>{try{return localStorage.getItem(e)}catch{return null}},setItem:(e,s)=>{try{localStorage.setItem(e,s)}catch{}},removeItem:e=>{try{localStorage.removeItem(e)}catch{}}}},global:{headers:{"x-application-name":"handoff-real-estate"}},db:{schema:"public"}}),si=new Map;function Zh(e){var n,a,i,o,l,c,d,u,f,p,h,j,v,b,g,y,x,S,w,k,C;const s=`${e.id}-${e.updated_at||e.created_at}`;if(si.has(s))return si.get(s);const r={id:e.id,email:e.email||"",full_name:((n=e.user_metadata)==null?void 0:n.full_name)||((a=e.user_metadata)==null?void 0:a.name)||((i=e.email)==null?void 0:i.split("@")[0])||"User",created_at:e.created_at,updated_at:e.updated_at||new Date().toISOString(),phone:(o=e.user_metadata)==null?void 0:o.phone,avatar_url:(l=e.user_metadata)==null?void 0:l.avatar_url,buyer_name:((c=e.user_metadata)==null?void 0:c.buyer_name)||((d=e.user_metadata)==null?void 0:d.full_name)||((u=e.user_metadata)==null?void 0:u.name),property_address:(f=e.user_metadata)==null?void 0:f.property_address,transaction_type:(p=e.user_metadata)==null?void 0:p.transaction_type,questionnaire_complete:((h=e.user_metadata)==null?void 0:h.questionnaire_complete)||!1,initial_setup_complete:((j=e.user_metadata)==null?void 0:j.initial_setup_complete)||!1,property_setup_complete:((v=e.user_metadata)==null?void 0:v.property_setup_complete)||!1,role:((b=e.app_metadata)==null?void 0:b.role)||"user",is_guest:!1,is_offline:!1,last_login:((g=e.user_metadata)==null?void 0:g.last_login)||new Date().toISOString(),login_count:((y=e.user_metadata)==null?void 0:y.login_count)||1,preferences:((x=e.user_metadata)==null?void 0:x.preferences)||{},mls_data:((S=e.user_metadata)==null?void 0:S.mls_data)||{},property_data:((w=e.user_metadata)==null?void 0:w.property_data)||{},team_id:(k=e.user_metadata)==null?void 0:k.team_id,team_role:(C=e.user_metadata)==null?void 0:C.team_role};if(si.set(s,r),si.size>10){const P=si.keys().next().value;si.delete(P)}return r}const xa=class xa{constructor(){Wa(this,"authListeners",[]);Wa(this,"currentSession",null);Wa(this,"initialized",!1);Wa(this,"initPromise",null)}static getInstance(){return xa.instance||(xa.instance=new xa),xa.instance}async initializeAuthListener(){return this.initialized||this.initPromise?this.initPromise:(this.initPromise=this.doInitialize(),this.initPromise)}async doInitialize(){try{console.log(" Initializing Supabase auth listener...");const{data:{session:s}}=await Is.auth.getSession();this.currentSession=s,Is.auth.onAuthStateChange(async(r,n)=>{console.log(" Auth state change:",r),this.currentSession=n,[...this.authListeners].forEach(i=>{try{i(this.currentSession)}catch(o){console.error("Auth listener error:",o)}}),r==="SIGNED_IN"&&(n!=null&&n.user)?(console.log(" User signed in:",n.user.email),setTimeout(()=>this.updateUserMetadata(n.user),100)):r==="SIGNED_OUT"&&(console.log(" User signed out"),this.clearLocalAuthData())}),this.initialized=!0,console.log(" Auth listener initialized")}catch(s){console.error("Failed to initialize auth listener:",s),this.initialized=!0}}async addAuthListener(s){return this.authListeners.push(s),await this.initializeAuthListener(),s(this.currentSession),()=>{const r=this.authListeners.indexOf(s);r>-1&&this.authListeners.splice(r,1)}}getCurrentSession(){return this.currentSession}async updateUserMetadata(s){var r;try{const n=Zh(s);localStorage.setItem("handoff-user-profile",JSON.stringify(n));const a=(((r=s.user_metadata)==null?void 0:r.login_count)||0)+1,i={...s.user_metadata,last_login:new Date().toISOString(),login_count:a};Is.auth.updateUser({data:i}).then(({error:o})=>{o?console.warn("Failed to update user metadata:",o):console.log(" User metadata updated")}).catch(o=>{console.warn("Error updating user metadata:",o)})}catch(n){console.error("Error updating user metadata:",n)}}clearLocalAuthData(){const s=["handoff-auth-session","handoff-user-profile","handoff-initial-setup-complete","handoff-questionnaire-complete","handoff-setup-data"],r=()=>{s.forEach(n=>{try{localStorage.removeItem(n)}catch{}})};typeof requestIdleCallback<"u"?requestIdleCallback(r):setTimeout(r,0)}};Wa(xa,"instance");let ef=xa;const b$=ef.getInstance(),cr={async getCurrentSession(){try{const{data:{session:e},error:s}=await Is.auth.getSession();return s?(console.error("Error getting current session:",s),null):e}catch(e){return console.error("Error getting current session:",e),null}},async getCurrentUser(){try{const{data:{user:e},error:s}=await Is.auth.getUser();return s&&s.message!=="Auth session missing!"?(console.error("Error getting current user:",s),null):e}catch(e){return console.error("Error getting current user:",e),null}},async getUserProfile(e){try{const s=await this.getCurrentUser();return!s||e&&e!==s.id?null:Zh(s)}catch(s){return console.error("Error getting user profile from auth data:",s),null}},async updateUserProfile(e){try{if(!await this.getCurrentUser())throw new Error("No authenticated user found");const r={};["full_name","phone","avatar_url","buyer_name","property_address","transaction_type","questionnaire_complete","initial_setup_complete","property_setup_complete","preferences","mls_data","property_data","team_id","team_role","last_login","login_count"].forEach(l=>{l in e&&(r[l]=e[l])}),r.updated_at=new Date().toISOString();const{data:{user:a},error:i}=await Is.auth.updateUser({data:r});if(i)throw console.error("Error updating user profile via auth:",i),i;if(!a)throw new Error("No user data returned from update");const o=Zh(a);return localStorage.setItem("handoff-user-profile",JSON.stringify(o)),console.log(" User profile updated successfully"),o}catch(s){throw console.error("Error updating user profile:",s),s}},async signInWithPassword(e,s){var r;console.log(" Attempting Supabase sign in for:",e);try{const{data:n,error:a}=await Is.auth.signInWithPassword({email:e.trim().toLowerCase(),password:s});if(a)throw console.error("Supabase sign in error:",a),a;return console.log(" Supabase sign in successful:",(r=n.user)==null?void 0:r.email),n}catch(n){throw console.error("Sign in error:",n),n}},async signUpWithPassword(e,s,r){var n;console.log(" Attempting Supabase sign up for:",e);try{const{data:a,error:i}=await Is.auth.signUp({email:e.trim().toLowerCase(),password:s,options:{data:{full_name:r,name:r,buyer_name:r,questionnaire_complete:!1,initial_setup_complete:!1,property_setup_complete:!1,login_count:1,last_login:new Date().toISOString(),preferences:{},mls_data:{},property_data:{}}}});if(i)throw console.error("Supabase sign up error:",i),i;return console.log(" Supabase sign up successful:",(n=a.user)==null?void 0:n.email),a}catch(a){throw console.error("Sign up error:",a),a}},async signOut(){console.log(" Attempting Supabase sign out");try{const{error:e}=await Is.auth.signOut();if(e)throw console.error("Supabase sign out error:",e),e;console.log(" Supabase sign out successful")}catch(e){throw console.error("Sign out error:",e),e}},async resetPassword(e){console.log(" Attempting password reset for:",e);try{const{data:s,error:r}=await Is.auth.resetPasswordForEmail(e.trim().toLowerCase(),{redirectTo:`${window.location.origin}/reset-password`});if(r)throw console.error("Password reset error:",r),r;return console.log(" Password reset email sent"),s}catch(s){throw console.error("Password reset error:",s),s}},async updatePassword(e){console.log(" Attempting password update");try{const{data:s,error:r}=await Is.auth.updateUser({password:e});if(r)throw console.error("Password update error:",r),r;return console.log(" Password updated successfully"),s}catch(s){throw console.error("Password update error:",s),s}}};function w$(e){return Hp.EMAIL_REGEX.test(e)}function N$(e){return e&&e.length>=Hp.MIN_PASSWORD_LENGTH}function S$(e){return e.trim().length>=Hp.MIN_NAME_LENGTH}function GS(e){return!e.buyerEmail||!e.buyerName?Mo.MISSING_CREDENTIALS:e.password?w$(e.buyerEmail)?S$(e.buyerName)?N$(e.password)?null:Mo.INVALID_PASSWORD:Mo.INVALID_NAME:Mo.INVALID_EMAIL:Mo.MISSING_PASSWORD}function k$(e,s,r=!1){return{id:r?`guest_${Date.now()}_${Math.random().toString(36).substr(2,9)}`:`offline_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,email:e||(r?"guest@handoff.demo":"user@handoff.demo"),full_name:s||(r?"Guest User":"Demo User"),created_at:new Date().toISOString(),updated_at:new Date().toISOString(),questionnaire_complete:!1}}function aj(e,s){localStorage.setItem(ka.SESSION_STORAGE_KEY,JSON.stringify({profile:e,session:s,timestamp:Date.now()})),localStorage.setItem(ka.AUTH_MODE_KEY,"authenticated")}function _$(e,s){localStorage.setItem(ka.GUEST_PROFILE_KEY,JSON.stringify(e)),localStorage.setItem(ka.GUEST_SETUP_KEY,JSON.stringify(s)),localStorage.setItem(ka.AUTH_MODE_KEY,"guest")}function tf(e){if(!e)return!1;if(e.questionnaire_complete===!0||localStorage.getItem(ka.QUESTIONNAIRE_COMPLETE_KEY)==="true")return!0;const r=localStorage.getItem(ka.QUESTIONNAIRE_RESPONSES_KEY);if(r)try{const n=JSON.parse(r);if(n&&(n.agentName||n.mustHaves||n.homeTypes))return!0}catch(n){console.warn("Error parsing questionnaire responses:",n)}return!1}async function A$(e){e(s=>({...s,isLoading:!0,authError:null}));try{console.log(" Starting Google OAuth with Supabase...");const r=`${window.location.origin}/`,{data:n,error:a}=await Is.auth.signInWithOAuth({provider:"google",options:{redirectTo:r,queryParams:{access_type:"offline",prompt:"consent"}}});if(a){console.error("Google OAuth error:",a);let i=` Google Sign-In Failed

`;a.message.includes("not enabled")?i+=`Google OAuth provider is not configured in Supabase.

 To fix this:
 Go to your Supabase project dashboard
 Navigate to Authentication  Providers
 Enable and configure Google OAuth

 For now, please use email sign-in instead.`:a.message.includes("redirect")?i+=`OAuth redirect configuration issue detected.

 This usually resolves automatically.
Please try again or use email authentication.`:i+=`Supabase authentication service encountered an error.

 Please try email sign-in as an alternative.`,e(o=>({...o,authError:i,isLoading:!1}));return}console.log(" Google OAuth redirect initiated")}catch(s){console.error("Google OAuth system error:",s),e(r=>({...r,authError:` Google Sign-In Service Unavailable

The Google authentication service is temporarily unavailable.

 Please use email sign-in to continue with your account.`,isLoading:!1}))}}async function C$(e,s,r){r(n=>({...n,isLoading:!0,authError:null}));try{const n=GS(e);if(n)throw new Error(n);console.log(` ${s?"Sign up":"Sign in"} for: ${e.buyerEmail}`);const a=performance.now();try{let o;if(s){if(o=await cr.signUpWithPassword(e.buyerEmail,e.password,e.buyerName),o.user&&!o.session){r(l=>({...l,authError:` Account Created - Email Confirmation Required

Your Supabase account has been created successfully!

 Please check your email (${e.buyerEmail}) for a confirmation link.

 You won't be able to sign in until you confirm your email address.

Options:
 Check your spam/junk folder if you don't see the email
 Continue as guest to explore the app`,isLoading:!1}));return}}else o=await cr.signInWithPassword(e.buyerEmail,e.password);if(o.session&&o.user){console.log(" Direct Supabase authentication successful");const l=await cr.getUserProfile(o.user.id);if(l){console.log(` Profile loaded in ${Math.round(performance.now()-a)}ms`),setTimeout(()=>aj(l,o.session),0);const c=tf(l);r(d=>({...d,isAuthenticated:!0,userProfile:l,setupData:{buyerEmail:l.email,buyerName:l.full_name,...e,password:void 0},isQuestionnaireComplete:c,showQuestionnairePrompt:!c,isOfflineMode:!1,isGuestMode:!1,isLoading:!1,authError:null})),console.log(` Auth completed in ${Math.round(performance.now()-a)}ms`);return}else console.error(" Failed to create user profile from auth data")}}catch(o){if(console.log(" Supabase authentication error:",o),o.message){if(o.message.includes("Invalid login credentials")||o.message.includes("Email not confirmed")){const l=s?`Account Creation Failed

This email address may already be registered.

 Your Supabase database is connected

Please:
 Try signing in instead if you already have an account
 Use a different email address for a new account`:` Sign In Failed

The email or password you entered is incorrect, or your email hasn't been confirmed yet.

 Your Supabase authentication is working properly

Please:
 Double-check your email and password
 Check if you need to confirm your email
 Use "Forgot Password" if needed`;r(c=>({...c,authError:l,isLoading:!1}));return}if(o.message.includes("User already registered")){r(l=>({...l,authError:` Account Already Exists

An account with this email is already registered in your Supabase database.

 Your Supabase connection is working properly

Please use the sign in option instead.`,isLoading:!1}));return}if(o.message.includes("Email not confirmed")){r(l=>({...l,authError:` Email Confirmation Required

Your account exists but your email hasn't been confirmed yet.

 Please check your email (${e.buyerEmail}) for a confirmation link.

 Your Supabase authentication is working`,isLoading:!1}));return}if(o.message.includes("fetch")||o.message.includes("network")||o.message.includes("connection"))console.log(" Network issue, trying server fallback...");else{r(l=>({...l,authError:` Supabase Authentication Error

${o.message}

 Your Supabase service is connected but encountered an issue`,isLoading:!1}));return}}}console.log(" Trying server-side authentication fallback...");try{const o=new AbortController,l=setTimeout(()=>o.abort(),3e3),c=await On("user/health",{signal:o.signal});if(clearTimeout(l),c&&c.status==="healthy"){console.log(" Server available, attempting server-side auth");const u=await On(s?"user/auth/signup":"user/auth/signin",{method:"POST",body:JSON.stringify({email:e.buyerEmail,password:e.password,fullName:e.buyerName})});if(u.success&&u.profile){console.log(" Server-side authentication successful"),setTimeout(()=>aj(u.profile,u.session),0),u.session&&setTimeout(async()=>{try{await Is.auth.setSession(u.session),console.log(" Supabase session established via server")}catch(p){console.warn("Session setup warning:",p)}},0);const f=tf(u.profile);r(p=>({...p,isAuthenticated:!0,userProfile:u.profile,setupData:{buyerEmail:u.profile.email,buyerName:u.profile.full_name,...e,password:void 0},isQuestionnaireComplete:f,showQuestionnairePrompt:!f,isOfflineMode:!1,isGuestMode:!1,isLoading:!1,authError:null})),console.log(" Server-side authentication completed");return}}}catch(o){console.log(" Server authentication unavailable:",o)}const i=` Authentication Failed

We couldn't sign you ${s?"up":"in"} with the provided credentials.

 Your Supabase project is configured and working

 Solutions:
 Check your internet connection
 Verify your email and password
 Try the "Forgot Password" option
 Continue as guest to explore the app`;r(o=>({...o,authError:i,isLoading:!1}))}catch(n){console.error("Authentication system error:",n);const a=n instanceof Error?` Authentication System Error

${n.message}

 Your Supabase project is connected

Please try again or continue as guest.`:` Authentication Error

An unexpected error occurred.

Please try again or continue as guest.`;r(i=>({...i,authError:a,isLoading:!1}))}}function P$(e,s){console.log(" Starting optimized guest mode...");const r=performance.now(),n=["handoff-initial-setup-complete","handoff-questionnaire-complete","handoff-questionnaire-responses","handoff-screening-data","handoff-initial-setup-data"],a=()=>{n.forEach(c=>{try{localStorage.removeItem(c)}catch{}})};typeof requestIdleCallback<"u"?requestIdleCallback(a):setTimeout(a,0);const i=k$((e==null?void 0:e.buyerEmail)||"",(e==null?void 0:e.buyerName)||"Guest User",!0),o=e||{buyerEmail:"",buyerName:"Guest User"},l=tf(i);setTimeout(()=>_$(i,o),0),s(c=>({...c,isAuthenticated:!0,userProfile:i,setupData:o,isQuestionnaireComplete:l,showQuestionnairePrompt:!l,isOfflineMode:!0,isGuestMode:!0,isLoading:!1,authError:null})),console.log(` Guest mode activated in ${Math.round(performance.now()-r)}ms`)}function T$(){const[e,s]=m.useState({isAuthenticated:!1,isLoading:!0,userProfile:null,setupData:null,authError:null,isOfflineMode:!1,isGuestMode:!1,isQuestionnaireComplete:!1,showQuestionnairePrompt:!1}),r=m.useRef(!0),n=m.useRef(!1);m.useEffect(()=>{if(n.current)return;n.current=!0;let f=null;return(async()=>{try{console.log(" Initializing optimized auth system...");const h=performance.now(),j=localStorage.getItem("handoff-user-profile"),v=localStorage.getItem("handoff-setup-data");if(j&&v)try{const g=JSON.parse(j),y=JSON.parse(v);if(g.is_guest){console.log(" Quick restore: Guest mode detected"),s(x=>({...x,isAuthenticated:!0,userProfile:g,setupData:y,isQuestionnaireComplete:g.questionnaire_complete||!1,showQuestionnairePrompt:!g.questionnaire_complete,isOfflineMode:!0,isGuestMode:!0,isLoading:!1,authError:null})),console.log(` Auth initialized in ${Math.round(performance.now()-h)}ms (guest mode)`);return}}catch{console.warn("Error parsing stored data, continuing with auth check..."),localStorage.removeItem("handoff-user-profile"),localStorage.removeItem("handoff-setup-data")}f=await b$.addAuthListener(async g=>{var y,x,S,w,k,C;if(r.current)if(g&&g.user){console.log(" Processing session for:",g.user.email);try{const P=await cr.getUserProfile(g.user.id);if(P&&r.current)console.log(" Profile loaded:",P.email),s(N=>({...N,isAuthenticated:!0,userProfile:P,setupData:{buyerEmail:P.email,buyerName:P.full_name},isQuestionnaireComplete:P.questionnaire_complete||!1,showQuestionnairePrompt:!P.questionnaire_complete,isOfflineMode:!1,isGuestMode:!1,isLoading:!1,authError:null}));else if(r.current){console.log(" Session but no profile, creating basic profile");const N={id:g.user.id,email:g.user.email||"user@example.com",full_name:((y=g.user.user_metadata)==null?void 0:y.full_name)||((x=g.user.user_metadata)==null?void 0:x.name)||((S=g.user.email)==null?void 0:S.split("@")[0])||"User",created_at:g.user.created_at,questionnaire_complete:((w=g.user.user_metadata)==null?void 0:w.questionnaire_complete)||!1,initial_setup_complete:((k=g.user.user_metadata)==null?void 0:k.initial_setup_complete)||!1,property_setup_complete:((C=g.user.user_metadata)==null?void 0:C.property_setup_complete)||!1};s(T=>({...T,isAuthenticated:!0,userProfile:N,setupData:{buyerEmail:N.email,buyerName:N.full_name},isQuestionnaireComplete:!1,showQuestionnairePrompt:!0,isOfflineMode:!1,isGuestMode:!1,isLoading:!1,authError:null}))}}catch(P){console.error("Error processing auth session:",P),r.current&&s(N=>({...N,isLoading:!1,authError:"Error loading user profile. Please try signing in again."}))}}else r.current&&(console.log(" No active session"),s(P=>({...P,isAuthenticated:!1,userProfile:null,setupData:null,isOfflineMode:!1,isGuestMode:!1,isLoading:!1,authError:null})))});const b=performance.now();console.log(` Auth system initialized in ${Math.round(b-h)}ms`)}catch(h){console.error("Error initializing auth:",h),r.current&&s(j=>({...j,isLoading:!1,authError:"Authentication system failed to initialize. Please refresh the page."}))}})(),()=>{r.current=!1,f&&f()}},[]);const a=m.useCallback(async(f,p)=>{if(r.current)try{await C$(f,p,s)}catch(h){console.error("Auth complete error:",h),r.current&&s(j=>({...j,isLoading:!1,authError:"Authentication failed. Please try again."}))}},[]),i=m.useCallback(async()=>{if(r.current)try{await A$(s)}catch(f){console.error("Google sign-in error:",f),r.current&&s(p=>({...p,isLoading:!1,authError:"Google sign-in failed. Please try again."}))}},[]),o=m.useCallback(f=>{if(r.current)try{P$(f,s)}catch(p){console.error("Guest mode error:",p),r.current&&s(h=>({...h,isLoading:!1,authError:"Failed to start guest mode. Please refresh the page."}))}},[]),l=m.useCallback(async()=>{try{console.log(" Starting optimized sign out..."),s({isAuthenticated:!1,isLoading:!1,userProfile:null,setupData:null,authError:null,isOfflineMode:!1,isGuestMode:!1,isQuestionnaireComplete:!1,showQuestionnairePrompt:!1});const f=["handoff-auth-session","handoff-user-profile","handoff-setup-data","handoff-initial-setup-complete","handoff-questionnaire-complete","handoff-questionnaire-responses","handoff-screening-data","handoff-initial-setup-data"],p=()=>{f.forEach(h=>{try{localStorage.removeItem(h)}catch{}})};typeof requestIdleCallback<"u"?requestIdleCallback(p):setTimeout(p,0),await cr.signOut(),console.log(" Sign out completed"),setTimeout(()=>{window.location.href="/"},100)}catch(f){console.error("Sign out error:",f),window.location.href="/"}},[]),c=m.useCallback(()=>{r.current&&s(f=>({...f,authError:null}))},[]),d=m.useCallback(async f=>{if(!e.userProfile||!r.current)throw new Error("No user profile to update");try{if(console.log(" Updating user profile..."),e.isGuestMode){const p={...e.userProfile,...f,updated_at:new Date().toISOString()};return localStorage.setItem("handoff-user-profile",JSON.stringify(p)),console.log(" Profile updated in guest mode"),r.current&&s(h=>({...h,userProfile:p,setupData:h.setupData?{...h.setupData,buyerEmail:p.email,buyerName:p.full_name}:h.setupData})),p}else{const p=await cr.updateUserProfile(f);if(p&&r.current)return s(h=>({...h,userProfile:p,setupData:h.setupData?{...h.setupData,buyerEmail:p.email,buyerName:p.full_name}:h.setupData})),console.log(" Profile updated via auth"),p;throw new Error("Failed to update user profile")}}catch(p){throw console.error("Error updating user profile:",p),p}},[e.userProfile,e.isGuestMode]),u=m.useCallback(()=>e.isGuestMode?"Guest Mode - Data stored locally":e.isOfflineMode?"Offline Mode - Limited functionality":e.userProfile?`Signed in as ${e.userProfile.full_name}`:"Not authenticated",[e.isGuestMode,e.isOfflineMode,e.userProfile]);return{isAuthenticated:e.isAuthenticated,isLoading:e.isLoading,userProfile:e.userProfile,setupData:e.setupData,authError:e.authError,isOfflineMode:e.isOfflineMode,isGuestMode:e.isGuestMode,isQuestionnaireComplete:e.isQuestionnaireComplete,showQuestionnairePrompt:e.showQuestionnairePrompt,handleAuthComplete:a,handleGoogleSignIn:i,continueAsGuest:o,handleSignOut:l,clearAuthError:c,updateUserProfile:d,getAuthStatusMessage:u,validateAuthData:GS,authHelpers:{getCurrentSession:cr.getCurrentSession,getCurrentUser:cr.getCurrentUser,getUserProfile:cr.getUserProfile,resetPassword:cr.resetPassword,updatePassword:cr.updatePassword}}}const tx="handoff-current-page",_d="handoff-previous-page",E$=()=>{try{const e=localStorage.getItem(tx);if(e&&KS(e))return e}catch(e){console.warn("Error reading saved page from localStorage:",e)}return null},I$=()=>{try{const e=localStorage.getItem(_d);if(e&&KS(e))return e}catch(e){console.warn("Error reading saved previous page from localStorage:",e)}return null},KS=e=>["overview","tasks","property","legal","financing","inspections","insurance","documents","resources","team","communications","mortgage-calculator","closing-calculator","settings"].includes(e),O$=e=>{try{localStorage.setItem(tx,e)}catch(s){console.warn("Error saving page to localStorage:",s)}},R$=e=>{try{e?localStorage.setItem(_d,e):localStorage.removeItem(_d)}catch(s){console.warn("Error saving previous page to localStorage:",s)}};function M$(){const[e,s]=m.useState(()=>E$()||"overview"),[r,n]=m.useState(()=>I$()),a=m.useMemo(()=>({overview:"Dashboard - Handoff",tasks:"Tasks - Handoff",property:"Property Details - Handoff",legal:"Legal - Handoff",financing:"Financing - Handoff",inspections:"Inspections - Handoff",insurance:"Insurance - Handoff",documents:"Documents - Handoff",resources:"Resources - Handoff",team:"My Team - Handoff",communications:"Communications - Handoff","mortgage-calculator":"Mortgage Calculator - Handoff","closing-calculator":"Closing Calculator - Handoff",settings:"Settings - Handoff"}),[]);m.useEffect(()=>{O$(e),document.title=a[e]||"Handoff - Real Estate Transaction Management"},[e,a]),m.useEffect(()=>{R$(r)},[r]);const i=m.useCallback(d=>{e!==d&&(n(e),s(d),console.log(`Navigation: ${e} -> ${d}`))},[e]),o=m.useCallback(()=>{if(r){const d=r;s(d),n(null),console.log(`Navigation: Back to ${d}`)}},[r]),l=m.useCallback(d=>a[d]||"Handoff - Real Estate Transaction Management",[a]),c=m.useCallback(()=>{try{localStorage.removeItem(tx),localStorage.removeItem(_d),console.log("Cleared persisted navigation state")}catch(d){console.warn("Error clearing persisted navigation:",d)}},[]);return{currentPage:e,previousPage:r,navigateTo:i,goBack:o,getPageTitle:l,clearPersistedNavigation:c}}function D$(){const[e,s]=m.useState(!1),[r,n]=m.useState(null);return m.useEffect(()=>{const l=new URLSearchParams(window.location.search).get("token"),c=window.location.pathname.includes("reset-password");l&&c&&(n(l),s(!0))},[]),{showPasswordReset:e,resetToken:r,handlePasswordResetSuccess:()=>{s(!1),n(null),window.history.replaceState({},document.title,window.location.pathname)},handleBackToLogin:()=>{s(!1),n(null),window.history.replaceState({},document.title,window.location.pathname)}}}const sx=()=>{try{const e=localStorage.getItem("handoff-initial-setup-complete")==="true",s=localStorage.getItem("handoff-questionnaire-complete")==="true",r=localStorage.getItem("handoff-screening-data");if(e&&s)return!0;const n=localStorage.getItem("handoff-questionnaire-responses");if(s&&n)return!0;if(r)try{const a=JSON.parse(r);if(a.buyingStage==="under-contract"&&a.contractSigned&&a.propertyAddress&&e||a.nextAction==="focus-property"&&a.propertyAddress&&e)return!0;if(e&&a.buyingStage&&a.experienceLevel)return localStorage.setItem("handoff-questionnaire-complete","true"),!0}catch(a){console.warn("Error parsing screening data:",a)}return!1}catch(e){return console.warn("Error checking property setup completion:",e),!1}},ij=e=>{const s=sx();return e==="property"?!0:s},L$=()=>{try{return localStorage.getItem("handoff-current-page")}catch{return null}},$$=(e,s,r,n)=>{try{return e?{...r,buyerName:(r==null?void 0:r.buyerName)||"Guest User",buyerEmail:(r==null?void 0:r.buyerEmail)||"guest@handoff.demo",displayBadge:"Guest Mode"}:s&&!e?{...r,buyerName:(r==null?void 0:r.buyerName)||(n==null?void 0:n.full_name)||"Demo User",buyerEmail:(r==null?void 0:r.buyerEmail)||(n==null?void 0:n.email)||"demo@handoff.demo",displayBadge:"Demo Mode"}:n?{buyerName:n.full_name||(r==null?void 0:r.buyerName)||"User",buyerEmail:n.email||(r==null?void 0:r.buyerEmail)||"user@handoff.demo",...r,...n.full_name&&{buyerName:n.full_name},...n.email&&{buyerEmail:n.email},displayBadge:null}:{...r,buyerName:(r==null?void 0:r.buyerName)||"User",buyerEmail:(r==null?void 0:r.buyerEmail)||"user@handoff.demo",displayBadge:null}}catch(a){return console.warn("Error in getUserDisplayInfo, using safe fallback:",a),{buyerName:e?"Guest User":"User",buyerEmail:e?"guest@handoff.demo":"user@handoff.demo",displayBadge:e?"Guest Mode":null}}},F$=(e,s)=>{try{return e?"You're browsing as a guest. Your data will be lost when you close the browser.":s!=null&&s.full_name?`Welcome back, ${s.full_name}! Your transaction dashboard is ready.`:s!=null&&s.email?"Welcome back! Your transaction dashboard is ready.":null}catch(r){return console.warn("Error in getAuthStatusMessage:",r),e?"You're browsing as a guest.":null}},z$=(e,s="authenticated")=>{try{const r={...e,mode:s,timestamp:new Date().toISOString()};localStorage.setItem("handoff_user_display_info",JSON.stringify(r)),console.log("User display info persisted:",r)}catch(r){console.error("Failed to persist user display info:",r)}};function U$({isMobile:e,auth:s,navigation:r,passwordReset:n,modes:a,userDisplayInfo:i,setupComplete:o}){m.useEffect(()=>{const{logUrlModes:l}=require("../utils/urlModes");l(a)},[a]),m.useEffect(()=>{s.isGuestMode&&s.isAuthenticated&&(localStorage.getItem("handoff-initial-setup-complete")||(localStorage.removeItem("handoff-questionnaire-complete"),localStorage.removeItem("handoff-questionnaire-responses"),localStorage.removeItem("handoff-screening-data"),localStorage.removeItem("handoff-property-data"),r.clearPersistedNavigation()))},[s.isGuestMode,s.isAuthenticated,r.clearPersistedNavigation]),m.useEffect(()=>{console.log("App render state:",{isAuthenticated:s.isAuthenticated,isLoading:s.isLoading,isGuestMode:s.isGuestMode,isOfflineMode:s.isOfflineMode,hasUserProfile:!!s.userProfile,hasSetupData:!!s.setupData,authError:!!s.authError,currentPage:r.currentPage,previousPage:r.previousPage,isMobile:e,showPasswordReset:n.showPasswordReset,isPropertySetupComplete:o,hasInitialSetup:localStorage.getItem("handoff-initial-setup-complete")==="true",hasScreeningData:!!localStorage.getItem("handoff-screening-data"),hasQuestionnaireComplete:localStorage.getItem("handoff-questionnaire-complete")==="true",canAccessCurrentPage:ij(r.currentPage),userDisplayInfo:{buyerName:i==null?void 0:i.buyerName,buyerEmail:i==null?void 0:i.buyerEmail,displayBadge:i==null?void 0:i.displayBadge}})},[s.isAuthenticated,s.isLoading,s.isGuestMode,s.isOfflineMode,s.userProfile,s.setupData,s.authError,r.currentPage,r.previousPage,e,n.showPasswordReset,o,i]),m.useEffect(()=>{document.title=s.isAuthenticated?ky.authenticated:ky.unauthenticated;let l=document.querySelector('meta[name="viewport"]');l||(l=document.createElement("meta"),l.setAttribute("name","viewport"),document.head.appendChild(l)),l.setAttribute("content",YO);let c=document.querySelector('link[rel="icon"]');if(c||(c=document.createElement("link"),c.setAttribute("rel","icon"),c.setAttribute("type","image/svg+xml"),document.head.appendChild(c)),c.setAttribute("href",qO),e?(document.body.classList.add("mobile-device"),document.documentElement.classList.add("mobile-device"),!s.isAuthenticated||n.showPasswordReset?(document.body.classList.add("setup-wizard"),document.documentElement.classList.add("setup-wizard")):(document.body.classList.remove("setup-wizard"),document.documentElement.classList.remove("setup-wizard"))):(document.body.classList.remove("mobile-device","setup-wizard"),document.documentElement.classList.remove("mobile-device","setup-wizard")),e){let d=0;const u=f=>{const p=Date.now();p-d<=300&&f.preventDefault(),d=p};return document.addEventListener("touchend",u,{passive:!1}),()=>document.removeEventListener("touchend",u)}},[e,s.isAuthenticated,n.showPasswordReset]),m.useEffect(()=>{if(s.isAuthenticated&&!s.isLoading){const l=sx(),c=localStorage.getItem("handoff-initial-setup-complete")==="true",d=ij(r.currentPage);if(console.log("Navigation effect - evaluating flow:",{setupComplete:l,hasInitialSetup:c,currentPage:r.currentPage,currentPageAccessible:d,isGuestMode:s.isGuestMode}),s.isGuestMode&&!c){console.log("Guest mode: Initial setup not complete, redirecting to property details"),r.navigateTo("property");return}if(!l){console.log("Property setup not complete, redirecting to property details"),r.navigateTo("property");return}if(l&&!d){console.log("Current page not accessible, redirecting to overview"),r.navigateTo("overview");return}if(l&&r.currentPage==="property"&&!L$()){console.log("Setup complete but on property page with no saved state, redirecting to overview"),r.navigateTo("overview");return}console.log("Navigation: User staying on current page:",r.currentPage)}},[s.isAuthenticated,s.isLoading,s.isGuestMode,r.currentPage,r.navigateTo]),m.useEffect(()=>{if(!s.isAuthenticated&&!s.isLoading){r.clearPersistedNavigation();const{clearPersistedUserDisplayInfo:l}=require("../utils/userHelpers");l()}},[s.isAuthenticated,s.isLoading,r.clearPersistedNavigation]),m.useEffect(()=>{if(s.isAuthenticated&&i&&!s.isLoading){const l=s.isGuestMode?"guest":s.isOfflineMode?"offline":"authenticated";z$(i,l)}},[s.isAuthenticated,s.isGuestMode,s.isOfflineMode,i,s.isLoading])}function B$(){const e=new URLSearchParams(window.location.search);return{isDevMode:e.get("dev")==="true",isAuthDebugMode:e.get("auth-debug")==="true",isAddressDebugMode:e.get("address-debug")==="true",isAddressDemoMode:e.get("address-demo")==="true",isAddressValidationDemoMode:e.get("address-validation-demo")==="true",isAttomDebugMode:e.get("attom-debug")==="true",isAttomTestMode:e.get("attom-test")==="true",isAttomAdminMode:e.get("attom-admin")==="true",isAttomAdminDiagnosticMode:e.get("attom-admin-diagnostic")==="true",isApiKeyValidatorMode:e.get("api-key-validator")==="true",isAttomSearchDiagnosticMode:e.get("attom-search-diagnostic")==="true",isAttomApiFixSummaryMode:e.get("attom-api-fix-summary")==="true",isAttomEndpointAccessMode:e.get("attom-endpoint-access")==="true",isAttomOfficialTesterMode:e.get("attom-official-tester")==="true",isAttomApiKeySetupMode:e.get("attom-api-key-setup")==="true",isPropertyFieldMappingMode:e.get("property-field-mapping")==="true",isApiKeyManagerMode:e.get("api-key-manager")==="true"}}function V$(){const e=ms(),s=T$(),r=M$(),n=D$(),a=B$(),i=sx(),o=Z.useMemo(()=>{try{return $$(s.isGuestMode,s.isOfflineMode,s.setupData,s.userProfile)}catch(f){return console.warn("Error getting user display info, using fallback:",f),{buyerName:"User",buyerEmail:"user@handoff.demo",displayBadge:s.isGuestMode?"Guest Mode":null}}},[s.isGuestMode,s.isOfflineMode,s.setupData,s.userProfile]),l=F$(s.isGuestMode,s.userProfile);U$({isMobile:e,auth:s,navigation:r,passwordReset:n,modes:a,userDisplayInfo:o,setupComplete:i});const c=pD({modes:a});if(c)return c;if(n.showPasswordReset&&n.resetToken)return t.jsx(Nt,{children:t.jsx("div",{className:`setup-wizard-container ${e?"mobile-device h-full":"h-full"}`,children:t.jsx(gD,{resetToken:n.resetToken,onSuccess:n.handlePasswordResetSuccess,onBackToLogin:n.handleBackToLogin})})});if(s.isLoading)return t.jsx(Nt,{children:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:t.jsx(dP,{})})});if(!s.isAuthenticated)return t.jsx(Nt,{children:t.jsx("div",{className:`setup-wizard-container ${e?"mobile-device h-full":"h-full"}`,children:t.jsx(xD,{onComplete:s.handleAuthComplete,onGoogleSignIn:s.handleGoogleSignIn,authError:s.authError,isLoading:s.isLoading,continueAsGuest:s.continueAsGuest,clearAuthError:s.clearAuthError})})});const d=()=>{r.clearPersistedNavigation();const{clearPersistedUserDisplayInfo:f}=require("./utils/userHelpers");f(),s.handleSignOut()},u=()=>{r.navigateTo("dev-tools")};return t.jsx(Nt,{children:t.jsx(A_,{children:t.jsxs(k_,{userProfile:s.userProfile,children:[t.jsx(fR,{modes:a,authStatusMessage:l,isGuestMode:s.isGuestMode,isLoading:s.isLoading,onSignOut:d,onNavigateToDevTools:u}),e?t.jsx("div",{className:"mobile-device h-full min-h-screen bg-background relative",children:t.jsx(i6,{currentPage:r.currentPage,onPageChange:r.navigateTo,setupData:o,onSignOut:d,isPropertySetupComplete:i,children:t.jsx(Ay,{currentPage:r.currentPage,onNavigate:r.navigateTo,userProfile:s.userProfile,setupData:o,onSignOut:d,isPropertySetupComplete:i})})}):t.jsx("div",{className:"size-full relative",children:t.jsx(DD,{currentPage:r.currentPage,onPageChange:r.navigateTo,setupData:o,onSignOut:d,isPropertySetupComplete:i,children:t.jsx(Ay,{currentPage:r.currentPage,onNavigate:r.navigateTo,userProfile:s.userProfile,setupData:o,onSignOut:d,isPropertySetupComplete:i})})})]})})})}_m.createRoot(document.getElementById("root")).render(t.jsx(Z.StrictMode,{children:t.jsx(V$,{})}));export{zt as $,Il as A,$ as B,F as C,Se as D,yr as E,ke as F,Ht as G,Qt as H,Re as I,it as J,zC as K,NC as L,Xf as M,Ie as N,Ls as O,Sa as P,on as Q,Z as R,Nh as S,ze as T,hn as U,iS as V,oS as W,lS as X,xC as Y,kt as Z,ls as _,__ as a,Ye as a$,UR as a0,_1 as a1,A1 as a2,bh as a3,Xs as a4,YA as a5,We as a6,Tp as a7,Vs as a8,Gr as a9,Oa as aA,Sr as aB,Mi as aC,bl as aD,Lb as aE,De as aF,Te as aG,IA as aH,Rb as aI,Ob as aJ,Hr as aK,qb as aL,Fn as aM,GC as aN,hr as aO,mn as aP,Wd as aQ,WC as aR,zb as aS,Zf as aT,Ds as aU,xr as aV,Ct as aW,K5 as aX,cs as aY,Ts as aZ,ht as a_,Ce as aa,Ke as ab,zl as ac,we as ad,Cw as ae,MN as af,Oh as ag,ve as ah,sP as ai,iP as aj,ja as ak,Db as al,Li as am,Ui as an,qD as ao,YD as ap,KD as aq,JD as ar,XD as as,tF as at,QD as au,GD as av,fn as aw,Fb as ax,ud as ay,X as az,q as b,Ze as b0,oe as c,Y as d,U as e,ep as f,Ri as g,us as h,Zo as i,t as j,be as k,Ea as l,K as m,Ia as n,dd as o,Ur as p,Vr as q,m as r,Br as s,Wr as t,ms as u,bs as v,ce as w,de as x,Hs as y,qs as z};
